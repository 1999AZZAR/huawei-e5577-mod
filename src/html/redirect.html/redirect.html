<!doctype html><html xmlns=http://www.w3.org/1999/xhtml><script src=../lib/jquery-2.2.4.min.js></script><script src=../lib/jquery-migrate-1.4.1.min.js></script><script src=../lib/aes.js></script><script src=../lib/hmac-sha256.js></script><script src=../lib/pbkdf2.js></script><script src=../lib/scram.js></script><script>var AJAX_HEADER="../",AJAX_TAIL="",AJAX_TIMEOUT=3e4,ERROR_SYSTEM_NO_RIGHTS="100003",ERROR_VOICE_BUSY=120001,ERROR_WRONG_TOKEN=125001,ERROR_WRONG_SESSION=125002,ERROR_WRONG_SESSION_TOKEN=125003,HOME_PAGE_URL="home.html",VOICE_BUSY_URL="voicebusy.html",g_login_checking_flag=!1;function _recursiveXml2Object(e){if(e.children().size()>0){var t={};return e.children().each((function(){var e=$(this).children().size()>0?_recursiveXml2Object($(this)):$(this).text();$(this).siblings().size()>0&&$(this).siblings().get(0).tagName==this.tagName?(null==t[this.tagName]&&(t[this.tagName]=[]),t[this.tagName].push(e)):t[this.tagName]=e})),t}return e.text()}function xml2object(e){var t=new Object;if(e.find("response").size()>0){var n=_recursiveXml2Object(e.find("response"));t.type="response",t.response=n}else if(e.find("error").size()>0){var r=e.find("code").text(),i=e.find("message").text();t.type="error",t.error={code:r,message:i}}else if(e.find("config").size()>0){var o=_recursiveXml2Object(e.find("config"));t.type="config",t.config=o}else t.type="unknown";return t}function getAjaxData(e,t,n){var r=AJAX_HEADER+e+AJAX_TAIL,i=!0,o=AJAX_TIMEOUT,s=null;n&&(n.sync&&(i=1!=n.sync),n.timeout&&(o=parseInt(n.timeout,10),isNaN(o)&&(o=AJAX_TIMEOUT)),s=n.errorCB),$.ajax({async:i,type:"GET",timeout:o,url:r,error:function(e,t){try{jQuery.isFunction(s)&&s(e,t)}catch(e){}},success:function(e){var n;"string"==typeof e||"number"==typeof e?(-1!=this.url.indexOf("/api/sdcard/sdcard")&&(e=sdResolveCannotParseChar(e)),window.ActiveXObject?((n=new ActiveXObject("Microsoft.XMLDOM")).async=!1,n.loadXML(e)):n=(new DOMParser).parseFromString(e,"text/xml")):n=e;"function"==typeof t&&t($(n))}})}function getTokenFromHeader(e,t){for(var n=e.indexOf(t)+t.length+1;" "==e.substring(n,n+1);)n++;return e.substring(n,n+32)}function _createNodeStr(e,t){return"<"+e+">"+t+"</"+e+">"}function _recursiveObject2Xml(e,t){var n="";return"string"==typeof t||"number"==typeof t?n=_createNodeStr(e,t):jQuery.isArray(t)?jQuery.each(t,(function(t,r){n+=_recursiveObject2Xml(e,r)})):"object"==typeof t&&(n+="<"+e+">",jQuery.each(t,(function(e,t){n+=_recursiveObject2Xml(e,t)})),n+="</"+e+">"),n}function object2xml(e,t){var n="<?xml version="1.0" encoding="UTF-8"?>";return n+=_recursiveObject2Xml(e,t)}function refresh(){window.location.reload()}function gotoPageWithoutHistory(e){window.location.replace(e)}var g_requestVerificationToken="";function getAjaxToken(){var e=$("meta[name=csrf_token]"),t=0;if(e.length>0)for(g_requestVerificationToken=[];t<e.length;t++)g_requestVerificationToken.push(e[t].content);else getAjaxData("api/webserver/token",(function(e){var t=xml2object(e);"response"==t.type&&(g_requestVerificationToken=t.response.token)}),{sync:!0})}function smsContentDeleteWrongChar(e){return e.replace(/([\x00-\x08]|\x0b|\x0c|[\x0e-\x1f])/g," ")}getAjaxToken();var g_LoopCount=0;function saveAjaxData(e,t,n,r){var i=AJAX_HEADER+e+AJAX_TAIL,o=!0,s=AJAX_TIMEOUT,a=null,c={};if($.isArray(g_requestVerificationToken)){if(!(g_requestVerificationToken.length>0))return g_LoopCount++>20&&"api/wlan/handover-setting"==e&&refresh(),void setTimeout((function(){saveAjaxData(e,t,n,r)}),50);c.__RequestVerificationToken=g_requestVerificationToken[0],g_requestVerificationToken.splice(0,1)}else c.__RequestVerificationToken=g_requestVerificationToken;g_LoopCount=0,r&&(r.sync&&(o=1!=r.sync),r.timeout&&(s=parseInt(r.timeout,10),isNaN(s)&&(s=AJAX_TIMEOUT)),a=r.errorCB),$.ajax({async:o,headers:c,type:"POST",timeout:s,url:i,data:t,error:function(i,o){try{if("12030"==i.status||"12031"==i.status||"12019"==i.status||"400"==i.status)return void saveAjaxData(e,t,n,r);jQuery.isFunction(a)&&a(i,o),g_isPostAjax=!1}catch(e){}},success:function(i){var o;"string"==typeof i?(-1!=this.url.indexOf("/api/sms/sms-list")&&-1!=i.indexOf("Messages")&&(i=smsContentDeleteWrongChar(i)),window.ActiveXObject?((o=new ActiveXObject("Microsoft.XMLDOM")).async=!1,o.loadXML(i)):o=(new DOMParser).parseFromString(i,"text/xml")):o=i;var s=xml2object($(o));if(void 0!==s.error&&-1==this.url.indexOf("/api/user/session")){if(s.error.code==ERROR_SYSTEM_NO_RIGHTS&&"home"!=current_href)return void gotoPageWithoutHistory(HOME_PAGE_URL);if(ERROR_VOICE_BUSY==s.error.code)return void gotoPageWithoutHistory(VOICE_BUSY_URL);if(ERROR_WRONG_TOKEN==s.error.code)return getAjaxToken(),void saveAjaxData(e,t,n,r);if(ERROR_WRONG_SESSION_TOKEN==s.error.code)return void gotoPageWithoutHistory(HOME_PAGE_URL);if(ERROR_WRONG_SESSION==s.error.code)return void(g_login_checking_flag||gotoPageWithoutHistory(HOME_PAGE_URL))}else isAjaxReturnOK(s)&&-1!=this.url.indexOf("/api/user/login")&&$.isArray(g_requestVerificationToken)&&(g_requestVerificationToken=[]);"function"==typeof n&&n($(o))},complete:function(e,t){var n=e.getAllResponseHeaders();n.indexOf("__RequestVerificationTokenone")>=0?(g_requestVerificationToken.push(getTokenFromHeader(n,"__RequestVerificationTokenone")),n.indexOf("__RequestVerificationTokentwo")>=0&&g_requestVerificationToken.push(getTokenFromHeader(n,"__RequestVerificationTokentwo"))):n.indexOf("__requestverificationtokenone")>=0?(g_requestVerificationToken.push(getTokenFromHeader(n,"__requestverificationtokenone")),n.indexOf("__requestverificationtokentwo")>=0&&g_requestVerificationToken.push(getTokenFromHeader(n,"__requestverificationtokentwo"))):n.indexOf("__RequestVerificationToken")>=0?g_requestVerificationToken.push(getTokenFromHeader(n,"__RequestVerificationToken")):n.indexOf("__requestverificationtoken")>=0&&g_requestVerificationToken.push(getTokenFromHeader(n,"__requestverificationtoken"))}})}function isAjaxReturnOK(e){var t=!1;return e&&"string"==typeof e.response&&"ok"==e.response.toLowerCase()&&(t=!0),t}function enforcement_openNewWindow(){var e=null,t=null;getAjaxData("api/online-update/upgrade_redirction",(function(e){var n=xml2object(e);"response"==n.type&&(t=n.response.upgrade_redirction)}),{sync:!0}),"1"==t?e="home.html":getAjaxData("api/redirection/homepage",(function(t){var n=xml2object(t);"response"==n.type&&n.response.Homepage.length>4&&(e="http"==n.response.Homepage.toLowerCase().substring(0,4)?n.response.Homepage:"http://"+n.response.Homepage)}),{sync:!0});var n="";if(window.location.href.indexOf("?randid=")>-1&&window.location.href.indexOf("?updataredirect=")>-1){var r=window.location.href.substring(window.location.href.indexOf("?randid="),window.location.href.indexOf("?updataredirect="));n=r.substring(r.indexOf("?randid=")+"?randid=".length)}null==e?null!=e?window.location.replace(e):window.location.replace("home.html"):"1"==t?(null==n&&""==n||(e+="?randid=",e+=n),saveAjaxData("api/prsite/clear",object2xml("request",{PrsiteClear:1,prsite_type:2}),(function(e){isAjaxReturnOK(xml2object(e))}),{sync:!0}),window.location.replace(e)):null!=e&&(saveAjaxData("api/prsite/clear",object2xml("request",{PrsiteClear:1,prsite_type:1}),(function(e){isAjaxReturnOK(xml2object(e))}),{sync:!0}),window.location.replace(e))}enforcement_openNewWindow()</script><body><noscript>Sorry, your browser does not support javascript.</noscript>

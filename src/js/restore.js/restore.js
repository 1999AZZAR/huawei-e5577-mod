var g_timerRestore=1e3;function gotoLoginWhileSystemUp(){DATA_READY.statusReady&&gotoPageWithoutHistory("home.html")}function do_restore(){var t="";getConfigData("config/lan/config.xml",(function(e){var o=xml2object(e);"config"==o.type&&(t=o.config.dhcps.ipaddress)}),{sync:!0});var e=object2xml("request",{Control:2});saveAjaxData("api/device/control",e,(function(e){var o=xml2object(e);if(!isAjaxReturnOK(o))return closeWaitingDialog(),showInfoDialog(common_failed),!1;ping_setPingAddress(t),setTimeout(startPing,5e4)}))}function restore(){showWaitingDialog(common_waiting,sd_hint_wait_a_few_moments),clearTimeout(g_decive_timer),clearTimeout(g_simcard_timer),clearTimeout(g_heart_beat_timer),setTimeout(do_restore,g_timerRestore)}$((function(){$("#button_restore").bind("click",(function(){if(isButtonEnable("button_restore"))return button_enable("button_restore","0"),showConfirmDialog(system_hint_restore,restore,(function(){button_enable("button_restore","1")}),null,(function(){button_enable("button_restore","1")})),!1}))}));

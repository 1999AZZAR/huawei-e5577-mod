var force_Update_CurrentComponentStatus=0,force_Update_DownloadProgressStatus=0,ONLINE_UPDATE_STATUS_INTERVAL=1e4,g_setup_wizard_page="",g_default_password_status=-1,g_auto_update_enable="",g_Driver_classify="",g_not_need_login_update=!1,g_set_cookie_flag=!1,notLoginupdate_leftmenu=!0,force_update_leftmenu=!0,auto_update_leftmenu=!0,g_hilink_login_status=0,g_hilink_login_old_api=0,g_nedd_login=1,clearshow=null,g_logining_flag=!1,g_login_checking_flag=!1,m_dialup_action={Action:"1"},m_handover_setting={Handover:"1"},g_copyright_year="",g_sms_mode="",g_isPad_status=!1,g_copyright_enabled=null,g_coulometer_BatteryStatus=-11111,g_BatteryPercent=-11111,g_coulometer_status="-1",g_up_connection_status="0",g_down_connection_status="0",g_up_down_connection_status="0",g_disable_connection_status="0",g_smallPage=!1,g_feature=null,flag_focus=!0,g_networktype=[],g_moduleswitch=null,g_module=null,g_wifi=null,g_dailup=null,g_destnation=null,g_nav=null,g_isReady=!1,g_loginFlag=!1,g_bridgeModeStatus=!1,LOGOUT_TIMEOUT_MAIN=12e5,SIMCARD_STATUS_REFRESH=1e4,SIMCARD_OK=1,HEARTBEAT_TIMEOUT=6e4,g_logoutTimer="",g_heart_beat_timer="",g_pin_status_SimPukTimes="",g_ProductCDMA=!1,g_assistant_ret=null,g_LANGUAGE_COUNT=13,g_LANGUAGE_LIST_HEIGHT="300px",g_decive_timer=null,g_simcard_timer=null,G_MonitoringStatus=null,G_NotificationsStatus=null,G_StationStatus=null,G_CradleStatus=null,G_cradleStationStatus=null,g_stationInfo="",g_stationInfoFlag=!1,g_wifiStatusInfo="",g_password_type=0,MACRO_SHOW_POPUP=1,PUK_TIMES_ZERO="0",MACRO_NO_SIM_CARD="255",MACRO_CPIN_FAIL="256",MACRO_PIN_READY="257",MACRO_PIN_DISABLE="258",MACRO_PIN_VALIDATE="259",MACRO_PIN_REQUIRED="260",MACRO_PUK_REQUIRED="261",basic_infos=null,checkDialogFlag=!1,MACRO_CONNECTION_CONNECTING="900",MACRO_CONNECTION_CONNECTED="901",MACRO_CONNECTION_DISCONNECTED="902",MACRO_CONNECTION_DISCONNECTING="903",wanUpload="",wanDownload="",g_network_action={dataswitch:"0"},WIFI_CONNECTING="900",WIFI_CONNECTED="901",WIFI_DISCONNECTED="902",WIFI_DISCONNECTING="903",wifiUpload="",wifiDownload="",CRADLE_CONNECTING="900",CRADLE_CONNECTED="901",CRADLE_DISCONNECTED="902",CRADLE_DISCONNECTING="903",CRADLE_CONNECTFAILED="904",CRADLE_CONNECTSTATUSNULL="905",CRANDLE_CONNECTSTATUSERRO="906",CRADLE_NETLINE_NOEXIST=0,CRADLE_NETLINE_EXIST=1,ETHERNET_LAN_MODE="5",CRADLEAUTOMODE="0",FORBID_AUTO_CONNECT_OPEN_DEVICE="112",FORBID_AUTO_CONNECT_OPEN_DEVICE_ROAMING="113",FORBID_RE_CONNECT_DROPLINE="114",FORBID_RE_CONNECT_DROPLINE_ROAMING="115",MACRO_SIM_STATUS_USIM_N="0",MACRO_SIM_STATUS_USIM_Y="1",MACRO_SIM_STATUS_USIM_CS_N="2",MACRO_SIM_STATUS_USIM_PS_N="3",MACRO_SIM_STATUS_USIM_PS_CS_N="4",MACRO_SIM_STATUS_ROMSIM="240",MACRO_SIM_STATUS_USIM_NE="255",MACRO_BATTERY_STATUS_NORMAL="0",MACRO_BATTERY_STATUS_ELECT="1",MACRO_BATTERY_STATUS_LOW="-1",MACRO_BATTERY_STATUS_NOBATTERY="2",MACRO_BATTERY_LEVEL_ZERO="0",MACRO_BATTERY_LEVEL_ONE="1",MACRO_BATTERY_LEVEL_TWO="2",MACRO_BATTERY_LEVEL_THREE="3",MACRO_BATTERY_LEVEL_FOUR="4",MACRO_EVDO_LEVEL_ZERO="0",MACRO_EVDO_LEVEL_ONE="1",MACRO_EVDO_LEVEL_TWO="2",MACRO_EVDO_LEVEL_THREE="3",MACRO_EVDO_LEVEL_FOUR="4",MACRO_EVDO_LEVEL_FIVE="5",MACRO_CURRENT_NETWOORK_2G="0",MACRO_CURRENT_NETWOORK_3G="2",MACRO_CURRENT_NETWOORK_H="5",MACRO_CURRENT_NETWOORK_4G="7",SERVICE_STATUS_AVAIABLE=2,MACRO_NET_WORK_TYPE_NOSERVICE="0",MACRO_NET_WORK_TYPE_GSM="1",MACRO_NET_WORK_TYPE_GPRS="2",MACRO_NET_WORK_TYPE_EDGE="3",MACRO_NET_WORK_TYPE_WCDMA="4",MACRO_NET_WORK_TYPE_HSDPA="5",MACRO_NET_WORK_TYPE_HSUPA="6",MACRO_NET_WORK_TYPE_HSPA="7",MACRO_NET_WORK_TYPE_TDSCDMA="8",MACRO_NET_WORK_TYPE_HSPA_PLUS="9",MACRO_NET_WORK_TYPE_EVDO_REV_0="10",MACRO_NET_WORK_TYPE_EVDO_REV_A="11",MACRO_NET_WORK_TYPE_EVDO_REV_B="12",MACRO_NET_WORK_TYPE_1xRTT="13",MACRO_NET_WORK_TYPE_UMB="14",MACRO_NET_WORK_TYPE_1xEVDV="15",MACRO_NET_WORK_TYPE_3xRTT="16",MACRO_NET_WORK_TYPE_HSPA_PLUS_64QAM="17",MACRO_NET_WORK_TYPE_HSPA_PLUS_MIMO="18",MACRO_NET_WORK_TYPE_LTE="19",MACRO_NET_WORK_TYPE_EX_NOSERVICE="0",MACRO_NET_WORK_TYPE_EX_GSM="1",MACRO_NET_WORK_TYPE_EX_GPRS="2",MACRO_NET_WORK_TYPE_EX_EDGE="3",MACRO_NET_WORK_TYPE_EX_IS95A="21",MACRO_NET_WORK_TYPE_EX_IS95B="22",MACRO_NET_WORK_TYPE_EX_CDMA_1x="23",MACRO_NET_WORK_TYPE_EX_EVDO_REV_0="24",MACRO_NET_WORK_TYPE_EX_EVDO_REV_A="25",MACRO_NET_WORK_TYPE_EX_EVDO_REV_B="26",MACRO_NET_WORK_TYPE_EX_HYBRID_CDMA_1x="27",MACRO_NET_WORK_TYPE_EX_HYBRID_EVDO_REV_0="28",MACRO_NET_WORK_TYPE_EX_HYBRID_EVDO_REV_A="29",MACRO_NET_WORK_TYPE_EX_HYBRID_EVDO_REV_B="30",MACRO_NET_WORK_TYPE_EX_EHRPD_REL_0="31",MACRO_NET_WORK_TYPE_EX_EHRPD_REL_A="32",MACRO_NET_WORK_TYPE_EX_EHRPD_REL_B="33",MACRO_NET_WORK_TYPE_EX_HYBRID_EHRPD_REL_0="34",MACRO_NET_WORK_TYPE_EX_HYBRID_EHRPD_REL_A="35",MACRO_NET_WORK_TYPE_EX_HYBRID_EHRPD_REL_B="36",MACRO_NET_WORK_TYPE_EX_WCDMA="41",MACRO_NET_WORK_TYPE_EX_HSDPA="42",MACRO_NET_WORK_TYPE_EX_HSUPA="43",MACRO_NET_WORK_TYPE_EX_HSPA="44",MACRO_NET_WORK_TYPE_EX_HSPA_PLUS="45",MACRO_NET_WORK_TYPE_EX_DC_HSPA_PLUS="46",MACRO_NET_WORK_TYPE_EX_TD_SCDMA="61",MACRO_NET_WORK_TYPE_EX_TD_HSDPA="62",MACRO_NET_WORK_TYPE_EX_TD_HSUPA="63",MACRO_NET_WORK_TYPE_EX_TD_HSPA="64",MACRO_NET_WORK_TYPE_EX_TD_HSPA_PLUS="65",MACRO_NET_WORK_TYPE_EX_802_16E="81",MACRO_NET_WORK_TYPE_EX_LTE="101",MACRO_KEYCODE=13,MACRO_WIFI_OFF="0",MACRO_WIFI_ON="1",MACRO_WIFI_5G="5G",AJAX_HEADER="../",AJAX_TAIL="",AJAX_TIMEOUT=3e4,LOGIN_STATES_SUCCEED="0",LOGIN_STATES_FAIL="-1",LOGIN_STATES_REPEAT="-2",g_needToLogin="",g_supportHeartBeat=!1,g_needHelp="",g_needFooter="",g_isTrunOffWlanChecked=!1,g_MainMenuNumber=2,ERROR_SYSTEM_NO_SUPPORT=100002,ERROR_SYSTEM_NO_RIGHTS="100003",ERROR_SYSTEM_BUSY=100004,ERROR_LOGIN_USERNAME_WRONG=108001,ERROR_LOGIN_PASSWORD_WRONG=108002,ERROR_LOGIN_ALREADY_LOGIN=108003,ERROR_LOGIN_USERNAME_PWD_WRONG=108006,ERROR_LOGIN_USERNAME_PWD_ORERRUN=108007,ERROR_LOGIN_TOUCH_ALREADY_LOGIN=108009,ERROR_VOICE_BUSY=120001,ERROR_WRONG_TOKEN=125001,ERROR_WRONG_SESSION=125002,ERROR_WRONG_SESSION_TOKEN=125003,MACRO_LOGIN="1",MACRO_LOGOUT="2",MACRO_NEWVERSIONFOUND="12",MACRO_READYTOUPDATE="50",MACRO_PASSWORD_LOW=1,MACRO_PASSWORD_MID=2,MACRO_PASSWORD_HIG=3,MACRO_PASSWORD_REMIND_ON="0",MACRO_PASSWORD_REMIND_OFF="1",g_monitoring_dumeter_kb=1024,g_monitoring_dumeter_mb=1048576,g_monitoring_dumeter_gb=1073741824,g_monitoring_dumeter_tb=1099511627776,WIFI5G_ON="1",wifi5g_icon_flag="-1",wifion_icon_flag="-1",g_wifiFeatureSwitch="",g_wlanInfo="",plmn_rat_index={0:2,2:3},g_judgeApplyFlag=!1,g_isBridgeNotesOpened=!1,g_is_connect_clicked=!1,g_is_disconnect_clicked=!1,g_is_network_connect=!1,g_is_wlan_connect=!1,g_is_power_off=!1,g_new_switch=!1,g_isPostAjax=!1,g_base64EncodeChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",base64DecodeChars=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],g_is_login_opened=!1,g_main_displayingPromptStack=[],DATA_READY={statusReady:!1,apStationReady:!1,notificationsReady:!1,cradleReady:!1},USER_MANUAL_PATH="usermanual",USER_MANUAL_FILE_NAME="web_content_concept_00001.html",g_user_manual_url="",DIALOG_UNREMOVE=0,STATUS_BAR_ICON_STATUS={sim_signal_tooltip_state:"",sim_signal_tooltip_error:"",station_tooltip_state:"",wan_tooltip_state:"",wifi_tooltip_state:"",battery_tooltip_state:"",unread_sms_tooltip_state:"",wifi_indoor_tooltip_state:""},STATUS_LISTENER_FUN_LIST=[],g_lastBatteryStatus=null,header_icon_status={ConnectionStatus:" ",SignalStrength:" ",BatteryStatus:" ",BatteryLevel:" ",BatteryPercent:" ",SimStatus:" ",WifiStatus:" ",ServiceStatus:" ",CurrentNetworkType:" "},WIFI_STATION_DISCONNECTED="0",WIFI_STATION_CONNECTING="1",WIFI_STATION_CONNECTED="2",WIFI_STATION_DISCONNECTING="3",g_BatteryStatus=-11111,g_BatteryLevel=-11111,g_WifiStatus=-11111,g_ConnectionStatus=-11111,sign_enable=1,g_SimStatus=-11111,g_hSimStatus=-11111,g_SignalStrength=-11111,g_WifiIndoorStatus=-11111,g_Monitoring_CradleConnectionStatus=-11111,g_headIconConnectionStatus=-11111,g_NotificationsOnlineUpdateStatus=-11111,HOME_PAGE_URL="home.html",VOICE_BUSY_URL="voicebusy.html",g_PageUrlTree=null,g_USBtetheringSwitch=null,USBTETHERING_ON="1",g_PositionInfo=null,MACRO_NET_SINGLE_MODE=1,MACRO_NET_DUAL_MODE=2,MACRO_NET_MODE_CHANGE=1,MACRO_NET_MODE_RESET=0,MACRO_NET_MODE_C=1,MACRO_NET_MODE_W=2,g_net_mode_type=MACRO_NET_SINGLE_MODE,g_net_mode_change=MACRO_NET_MODE_RESET,g_net_mode_status=null,g_ussdLeftmenu=[],tabKeyflag=!1,MACRO_SUPPORT_CHAR_MIN=32,MACRO_SUPPORT_CHAR_MAX=126,MACRO_NOT_SUPPORT_CHAR_COMMA=44,MACRO_NOT_SUPPORT_CHAR_QUOTATION_MARK=34,MACRO_NOT_SUPPORT_CHAR_COLON=58,MACRO_NOT_SUPPORT_CHAR_SEMICOLON=59,MACRO_NOT_SUPPORT_BACKSLASH_MARK=92,MACRO_NOT_SUPPORT_CHAR_38=38,MACRO_NOT_SUPPORT_CHAR_37=37,MACRO_NOT_SUPPORT_CHAR_43=43,MACRO_NOT_SUPPORT_CHAR_39=39,MACRO_NOT_SUPPORT_CHAR_60=60,MACRO_NOT_SUPPORT_CHAR_62=62,MACRO_NOT_SUPPORT_CHAR_63=63,LANGUAGE_DATA={current_language:"en_us",supportted_languages:[],privacy_policy_list:{},usermanual_language_list:{}},current_href=window.location.href,TOPMENU={nav:[],have:!1},_logEnable=getQueryStringByName("log"),g_main_convergedStatus=null,g_plmn_rat="",g_net_mode="",g_scarm_login=!1,g_scarm_salt="",RSA_LOGIN_MODE="1",DHCP_IP_ADDRESS_DEFAULT="",DHCP_START_IP_ADDRESS_DEFAULT="",DHCP_END_IP_ADDRESS_DEFAULT="",DHCP_STATUS_DEFAULT="1",DHCP_STATUS_DISABLED="0",DHCP_LAN_NET_MASK_DEFAULT="",DHCP_LEASE_TIME_DEFAULT="0",dhcpLanIPAddress,dhcpLanNetmask,dhcpEnable,dhcpLanStartIP,dhcpLanEndIP,dhcpLeaseTime,firstTimeMontitoringStatusQuery="0",alreadyStatusListnerExecuted="0",dhcpPageVar={DhcpIPAddress:DHCP_IP_ADDRESS_DEFAULT,DhcpLanNetmask:DHCP_LAN_NET_MASK_DEFAULT,DhcpStatus:DHCP_STATUS_DEFAULT,DhcpStartIPAddress:DHCP_START_IP_ADDRESS_DEFAULT,DhcpEndIPAddress:DHCP_END_IP_ADDRESS_DEFAULT,DHCPLeaseTime:DHCP_LEASE_TIME_DEFAULT};function initDhcp(){dhcpLanIPAddress=dhcpPageVar.DhcpIPAddress,dhcpLanNetmask=dhcpPageVar.DhcpLanNetmask,dhcpEnable=dhcpPageVar.DhcpStatus,dhcpLanStartIP=dhcpPageVar.DhcpStartIPAddress,dhcpLanEndIP=dhcpPageVar.DhcpEndIPAddress,dhcpLeaseTime=dhcpPageVar.DHCPLeaseTime}function matchLanguageExist(e,t){if($.isArray(t)){var n=0;$.each(t,(function(t,a){if(a.replace(/-/,"_")==e.replace(/-/,"_"))return n=t,!1})),LANGUAGE_DATA.current_language=t[n].replace(/-/,"_")}else LANGUAGE_DATA.current_language=void 0!==t?t.replace(/-/,"_"):"en_us"}function reloadLeftMenu(){$(".content").children().first().is(".main_left")&&($(".main_left").children().is("#settings_menu")?""!=$.trim($("#settings_menu").html())&&null!=$("#settings_menu").html()||showleftMenu():$(".main_left").children().is("#sms_menu")?""!=$.trim($("#sms_menu").html())&&null!=$("#sms_menu").html()||showleftMenu():$(".main_left").children().is("#ussd_setting_menu")?""!=$.trim($("#ussd_setting_menu").html())&&null!=$("#ussd_setting_menu").html()||showleftMenu():$(".main_left").children().is("#sharingsamba_menu")&&(""!=$.trim($("#sharingsamba_menu").html())&&null!=$("#sharingsamba_menu").html()||showleftMenu())),g_needFooter&&(""!=$.trim($("#footer").html())&&null!=$("#footer").html()||showFooter())}function loadLangFile(e){var t="../language/lang_"+(e||LANGUAGE_DATA.current_language)+".js";if((window.navigator.appVersion.indexOf("Version/3.1")>0||window.navigator.appVersion.indexOf("Version/3.2")>0||window.navigator.appVersion.indexOf("Version/3.0")>0)&&window.navigator.appVersion.indexOf("Safari")>0){var n=document.getElementsByTagName("head")[0],a=new XMLHttpRequest;a.open("GET",t,!1),a.send(null);var i=document.createElement("script");i.type="text/javascript",i.text=a.responseText,n.appendChild(i)}else $.ajax({async:!1,type:"GET",timeout:"3000",url:t,dataType:"script",error:function(e,t,n){},success:function(e){}})}function main_getConvergedStatus(){getAjaxData("api/monitoring/converged-status",(function(e){var t=xml2object(e);"response"==t.type&&(matchLanguageExist((g_main_convergedStatus=t.response).CurrentLanguage,LANGUAGE_DATA.supportted_languages),loadLangFile(),"ru_ru"==LANGUAGE_DATA.current_language?loadLangFile("ru_ru.mod"):loadLangFile("en_us.mod"))}),{sync:!0}),"ar_sa"!=LANGUAGE_DATA.current_language&&"he_il"!=LANGUAGE_DATA.current_language&&"fa_fa"!=LANGUAGE_DATA.current_language||$("link").attr("href","../css/main_Arabic.css"),$(document).ready((function(){$("#login_wrapper").show(),document.onblur=function(){flag_focus=!1},document.onclick=function(){flag_focus=!0},g_simcard_timer=setTimeout(refreshSimcardStatus,SIMCARD_STATUS_REFRESH)}))}function getLangList(){getConfigData("config/global/languagelist.xml",(function(e){var t=xml2object(e);"config"==t.type&&(LANGUAGE_DATA.supportted_languages=t.config.languages.language,LANGUAGE_DATA.privacy_policy_list=t.config.privacy_policy_url,LANGUAGE_DATA.usermanual_language_list=t.config.usermanual_language)}),{sync:!0})}function initLanguage(){getLangList(),main_getConvergedStatus()}function main_executeBeforeDocumentReady(){if(current_href.indexOf("?url")>0?current_href=(current_href=(current_href=current_href.substring(0,current_href.indexOf("?url"))).substring(current_href.lastIndexOf("/")+1)).substring(0,current_href.indexOf(".")):(current_href=current_href.substring(current_href.lastIndexOf("/")+1)).lastIndexOf("?")>0?"smsinbox"==(current_href=(current_href=current_href.substring(0,current_href.lastIndexOf("?"))).substring(0,current_href.indexOf(".")))&&(current_href=location.search.substring(1)):current_href=current_href.substring(0,current_href.lastIndexOf(".")),factoryResetRequired=isFactoryResetRequired(),modsettings=getModSettings(),void 0!==(user_config=getUserConfig()).webui_mode&&(webui_mode=user_config.webui_mode),void 0!==user_config.automaterial&&"true"==user_config.automaterial&&$(window).width()<601&&(webui_mode="material"),"antennapointing"==current_href&&(webui_mode="old"),void 0!==user_config.force_new_ussd&&(force_new_ussd="true"==user_config.force_new_ussd),void 0!==user_config.force_old_ussd&&(force_old_ussd="true"==user_config.force_old_ussd),void 0!==user_config.force_new_sms&&(force_new_sms="true"==user_config.force_new_sms),void 0!==user_config.force_old_sms&&(force_old_sms="true"==user_config.force_old_sms),"old"==webui_mode)$('link[type="text/css"][rel="stylesheet"][href="../css/main.css"]').attr("href","../css/main.old.css");else if("material"==webui_mode){$('meta[http-equiv="Content-Type"][content="text/html; charset=utf-8"]').after('<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>'),$('meta[name="viewport"][content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"]').after('<meta name="theme-color" content="#03a9f4"/><meta name="msapplication-navbutton-color" content="#03a9f4"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">'),$('link[type="text/css"][rel="stylesheet"][href="../css/main.css"]').before('<link href="../fonts/iconfont/material-icons.css" rel="stylesheet"><link href="../lib/dialog-polyfill.css" rel="stylesheet">'),$('link[type="text/css"][rel="stylesheet"][href="../css/main.css"]').attr("href","../lib/material.min.css"),$('link[type="text/css"][rel="stylesheet"][href="../lib/material.min.css"]').after('<link href="../lib/material-file-input.css" rel="stylesheet"><link href="../lib/materialize.select.css" rel="stylesheet"><link href="../lib/md-preloader.min.css" rel="stylesheet"><link href="../css/preloader.css" rel="stylesheet"><style>#status_img_rat {font-size:20px;}.ieshow, .file-field .error_message, .stk_dialog, #stk_div_wrapper {display: none !important;}ul {padding-left: 0;list-style-type: none;}ul > li {list-style-type: none;}a {text-decoration: none;}.mdl-card, .mdl-card__supporting-text {overflow: visible !important;}</style>');var e=document.createElement("script");e.src="../lib/dialog-polyfill.js",document.head.appendChild(e);var t=document.createElement("script");t.src="../lib/material.min.js",document.head.appendChild(t);var n=document.createElement("script");n.src="../lib/material-file-input.js",document.head.appendChild(n);var a=document.createElement("script");a.src="../lib/materialize.select.js",document.head.appendChild(a),$("head").after('<div id="preloader"><div id="status"><div class="md-preloader"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="75" width="75" viewbox="0 0 75 75"><circle cx="37.5" cy="37.5" r="33.5" stroke-width="8"/></svg></div></div></div>')}var i=document.createElement("script");if(i.src="../lib/imgfix.js",document.head.appendChild(i),getDefaultPass(),getGMonitoringStatus(),getGlobalFeatures(),initLanguage(),$.browser.msie&&"6.0"==$.browser.version)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}selectCur(g_PageUrlTree),checkUpdateNeedLogin(),force_update_leftmenu_check(),auto_update_leftmenu_check(),checkModuleEnable(current_href),navigator.userAgent.indexOf("MSIE 6.")>-1&&window.attachEvent("onload",correctPNG),getAjaxData("api/device/device-feature-switch",(function(e){var t=xml2object(e);"response"==t.type&&(g_coulometer_status=t.response.coulometer_enabled)})),getAjaxData("api/user/state-login",(function(e){var t=xml2object(e);"response"==t.type&&(g_scarm_login=void 0!==t.response.extern_password_type&&"1"==t.response.extern_password_type)}),{sync:!0})}function checkObjectExist(){var e=!0,t=0,n=arguments[0];if("object"==typeof n)for(t=1;t<arguments.length;t++){if("object"!=typeof n||!(arguments[t]in n)){e=!1;break}n=n[arguments[t]]}return""==$.trim(n)&&(e=!1),e}function checkGotoHome(e){e||gotoPageWithoutHistory(HOME_PAGE_URL)}function checkModuleEnable(e){switch(e){case"commend":checkGotoHome((g_smallPage=mainIsHandheldBrowser())&&g_feature.commend_enable&&checkObjectExist(g_PageUrlTree,"commend"));break;case"home":case"opennewwindow":case"writtenoffer":break;case"payment":case"update_autorun":case"update":default:gotoPageWithoutHistory(HOME_PAGE_URL);break;case"antennapointing":checkGotoHome(checkObjectExist(g_PageUrlTree,"antennapointing"));break;case"statistic":checkGotoHome(g_module.statistic_enabled);break;case"smsinbox":case"smssent":case"smsdrafts":checkGotoHome(g_module.sms_enabled),1==g_sms_mode&&gotoPageWithoutHistory(HOME_PAGE_URL);break;case"smsandroid":checkGotoHome(g_module.sms_enabled),1!=g_sms_mode&&gotoPageWithoutHistory(HOME_PAGE_URL);break;case"messagesettings":checkGotoHome(g_module.sms_enabled&&checkObjectExist(g_PageUrlTree,"sms","sms_center_number")),1==g_sms_mode&&gotoPageWithoutHistory(HOME_PAGE_URL);break;case"chatmessagesettings":checkGotoHome(g_module.sms_enabled&&checkObjectExist(g_PageUrlTree,"sms","sms_center_number_android")),1!=g_sms_mode&&gotoPageWithoutHistory(HOME_PAGE_URL);break;case"phonebook":checkGotoHome(g_module.pb_enabled);break;case"ussd":checkGotoHome(g_module.ussd_enabled);break;case"update_local":checkGotoHome(g_module.local_update_enabled&&checkObjectExist(g_PageUrlTree,"settings","setting_update"));break;case"dlna":checkGotoHome(g_module.dlna_enabled);break;case"ota":checkGotoHome(g_module.ota_enabled);break;case"mods":checkGotoHome(g_module.modsettings_enabled&&checkObjectExist(g_PageUrlTree,"mods"));break;case"sdcardsharing":checkGotoHome(g_module.sdcard_enabled);break;case"sambasettings":checkGotoHome(g_module.sambashare_enabled);break;case"stk":checkGotoHome(g_module.stk_enabled);break;case"installsoftware":checkGotoHome(g_module.assistant_enabled);break;case"wifinetworks":case"wifipriority":checkGotoHome(g_module.wifioffload_enable&&checkObjectExist(g_PageUrlTree,"settings","internet"));break;case"stationwps":checkGotoHome(g_module.wifioffload_enable&&g_wifi.stawpsenabled&&checkObjectExist(g_PageUrlTree,"settings","internet"));break;case"sambasharinguser":checkGotoHome(checkObjectExist(g_PageUrlTree,"sharing","sambasharinguser")&&g_module.sambashare_enabled);break;case"quicksetup":checkGotoHome(checkObjectExist(g_PageUrlTree,"settings","quick_setup")&&"hilink"!=g_Driver_classify);break;case"sntp":checkGotoHome(checkObjectExist(g_PageUrlTree,"settings","sntp"));break;case"mobileconnection":checkGotoHome(checkObjectExist(g_PageUrlTree,"settings","dialup","mobileconnection"));break;case"profilesmgr":checkGotoHome(checkObjectExist(g_PageUrlTree,"settings","dialup","profilesmgr"));break;case"autoimei":checkGotoHome(g_module.modsettings_enabled&&checkObjectExist(g_PageUrlTree,"settings","dialup","autoimei"));break;case"mobilenetworksettings":checkGotoHome(checkObjectExist(g_PageUrlTree,"settings","dialup","mobilenetworksettings"));break;case"ethernetsettings":checkGotoHome(g_module.cradle_enabled&&checkObjectExist(g_PageUrlTree,"settings","ethernet","ethernetsettings"));break;case"ethernetstatus":checkGotoHome(g_module.cradle_enabled&&checkObjectExist(g_PageUrlTree,"settings","ethernet","ethernetstatus"));break;case"vpnstatus":checkGotoHome(g_module.vpn_enabled&&checkObjectExist(g_PageUrlTree,"settings","vpn","vpnstatus"));break;case"vpnsettings":checkGotoHome(g_module.vpn_enabled&&checkObjectExist(g_PageUrlTree,"settings","vpn","vpnsettings"));break;case"macclone":checkGotoHome(g_module.cradle_enabled&&checkObjectExist(g_PageUrlTree,"settings","ethernet","macclone"));break;case"wlanbasicsettings":checkGotoHome(g_module.wifi_enabled&&checkObjectExist(g_PageUrlTree,"settings","wlan","wlanbasicsettings"));break;case"wlanadvanced":checkGotoHome(g_module.wifi_enabled&&checkObjectExist(g_PageUrlTree,"settings","wlan","wlanadvanced"));break;case"wlanmacfilter":checkGotoHome(g_module.wifi_enabled&&checkObjectExist(g_PageUrlTree,"settings","wlan","wlanmacfilter"));break;case"wps":checkGotoHome(checkObjectExist(g_PageUrlTree,"settings","wlan","wps"));break;case"serverbasic":checkGotoHome(g_module.voip_enabled&&checkObjectExist(g_PageUrlTree,"settings","voip","serverbasic"));break;case"sipbasic":checkGotoHome(g_module.voip_enabled&&checkObjectExist(g_PageUrlTree,"settings","voip","sipbasic"));break;case"speeddial":checkGotoHome(g_module.voip_enabled&&checkObjectExist(g_PageUrlTree,"settings","voip","speeddial"));break;case"pincodemanagement":checkGotoHome(checkObjectExist(g_PageUrlTree,"settings","security","pincodemanagement"));break;case"pincodeautovalidate":checkGotoHome(g_module.modsettings_enabled&&checkObjectExist(g_PageUrlTree,"settings","security","pincodeautovalidate"));break;case"firewallswitch":checkGotoHome(checkObjectExist(g_PageUrlTree,"settings","security","firewallswitch"));break;case"macfilter":checkGotoHome(g_module.fw_macfilter_enabled&&checkObjectExist(g_PageUrlTree,"settings","security","macfilter"));break;case"lanipfilter":checkGotoHome(checkObjectExist(g_PageUrlTree,"settings","security","lanipfilter"));break;case"virtualserver":checkGotoHome(checkObjectExist(g_PageUrlTree,"settings","security","virtualserver"));break;case"specialapplication":checkGotoHome(checkObjectExist(g_PageUrlTree,"settings","security","specialapplication"));break;case"dmzsettings":checkGotoHome(checkObjectExist(g_PageUrlTree,"settings","security","dmzsettings"));break;case"sipalgsettings":checkGotoHome(checkObjectExist(g_PageUrlTree,"settings","security","sipalgsettings"));break;case"upnp":checkGotoHome(checkObjectExist(g_PageUrlTree,"settings","security","upnp"));break;case"nat":checkGotoHome(checkObjectExist(g_PageUrlTree,"settings","security","nat"));break;case"urlfilter":checkGotoHome(checkObjectExist(g_PageUrlTree,"settings","security","urlfilter"));break;case"ddns":checkGotoHome(g_module.ddns_enabled&&checkObjectExist(g_PageUrlTree,"settings","security","ddns"));break;case"bridgemode":checkGotoHome(g_module.bridge_enabled&&checkObjectExist(g_PageUrlTree,"settings","security","bridgemode"));break;case"deviceinformation":checkGotoHome(checkObjectExist(g_PageUrlTree,"settings","system","deviceinformation"));break;case"modsettings":checkGotoHome(g_module.modsettings_enabled&&checkObjectExist(g_PageUrlTree,"settings","system","modsettings"));break;case"dhcp":checkGotoHome(checkObjectExist(g_PageUrlTree,"settings","system","dhcp"));break;case"hosts":checkGotoHome(g_module.modsettings_enabled&&checkObjectExist(g_PageUrlTree,"settings","system","hosts"));break;case"watchcat":checkGotoHome(g_module.modsettings_enabled&&checkObjectExist(g_PageUrlTree,"settings","system","watchcat"));break;case"diagnosis":checkGotoHome(g_module.diagnosis_enabled&&checkObjectExist(g_PageUrlTree,"settings","system","diagnosis"));break;case"configuration":checkGotoHome(checkObjectExist(g_PageUrlTree,"settings","system","configuration"));break;case"modifypassword":checkGotoHome(checkObjectExist(g_PageUrlTree,"settings","system","modifypassword"));break;case"restore":checkGotoHome(checkObjectExist(g_PageUrlTree,"settings","system","restore"));break;case"reboot":checkGotoHome(checkObjectExist(g_PageUrlTree,"settings","system","reboot"));break;case"systemsettings":checkGotoHome(isneedsystemsettings()&&checkObjectExist(g_PageUrlTree,"settings","system","systemsettings"));break;case"updatesettings":checkGotoHome(g_module.online_update_enabled&&checkObjectExist(g_PageUrlTree,"settings","system","updatesettings")&&(notLoginupdate_leftmenu||auto_update_leftmenu));break;case"vsim":checkGotoHome(g_module.vsim_enabled&&checkObjectExist(g_PageUrlTree,"settings","vsim"));break;case"cbssettings":checkGotoHome(g_module.cbs_enabled&&checkObjectExist(g_PageUrlTree,"settings","cbssettings"));break;case"bluetooth":checkGotoHome(g_module.bluetooth_enabled&&checkObjectExist(g_PageUrlTree,"settings","bluetooth"));break;case"cradleDisconnected":checkGotoHome(g_module.cradle_enabled&&1==g_feature.special_redirect);break;case"nocard":case"factoryresetrequired":case"pincoderequired":case"pukrequired":case"simlockrequired":checkGotoHome(1==g_feature.special_redirect);break;case"switchDebugMode":case"switchProjectMode":checkGotoHome(1==g_feature.special_debug_page);break;case"appmanagement":checkGotoHome(1==g_feature.appmanagements.enabled&&checkObjectExist(g_PageUrlTree,"appmanagement"));break;case"voicebusy":checkGotoHome(g_module.voip_enabled||g_module.cs_enable)}}function dw(e){MACRO_NET_DUAL_MODE==g_net_mode_type?(e.indexOf("SIMLOCK")>-1||(e=e.replace(/SIM/g,"UIM")),document.write(e)):document.write(e)}function changeLang(e,t){var n={CurrentLanguage:t};n.CurrentLanguage=n.CurrentLanguage.replace(/_/,"-"),saveAjaxData("api/language/current-language",object2xml("request",n),(function(e){isAjaxReturnOK(xml2object(e))&&refresh()}))}function setMainMenu(){var e=0;"pincoderequired"==current_href||"pukrequired"==current_href||"simlockrequired"==current_href||"nocard"==current_href||"connectionless"==current_href||"opennewwindow"==current_href?($("#union_main_menu").hide(),$("#logout_span").hide()):($("#home").children().text(common_home),$("#deviceinformation2").children().text("?"),$("#antennapointing").children().text("📡"),$("#settings").children().text(common_settings),e=2,g_module.statistic_enabled&&e<g_MainMenuNumber?($("#statistic").children().text(connection_hilink_label_traffic_statistics),e++):g_module.statistic_enabled&&e>=g_MainMenuNumber?($("#menu_statistic").remove(),e++,Add_more_menu("statistic","statistic.html",connection_hilink_label_traffic_statistics)):$("#menu_statistic").remove(),g_module.sms_enabled&&e<g_MainMenuNumber?(force_new_sms&&force_new_ussd&&"old"==webui_mode?$("#sms").children().text(sms_lable_sms_ussd):$("#sms").children().text(sms_lable_sms),e++):g_module.sms_enabled&&e>=g_MainMenuNumber?($("#menu_sms").remove(),e++,Add_more_menu("sms","smsinbox.html",force_new_sms&&force_new_ussd&&"old"==webui_mode?sms_lable_sms_ussd:sms_lable_sms)):$("#menu_sms").remove(),g_module.pb_enabled&&e<g_MainMenuNumber?($("#pb").children().text(pb_label_phonebook),e++):g_module.pb_enabled&&e>=g_MainMenuNumber?($("#menu_pb").remove(),e++,Add_more_menu("pb","phonebook.html",pb_label_phonebook)):$("#menu_pb").remove(),g_module.ussd_enabled&&(!force_new_sms||!force_new_ussd)&&"old"==webui_mode&&e<g_MainMenuNumber?($("#ussd").children().text(ussd_label_ussd),e++):g_module.ussd_enabled&&(!force_new_sms||!force_new_ussd)&&"old"==webui_mode&&e>=g_MainMenuNumber?($("#menu_ussd").remove(),e++,Add_more_menu("ussd","ussd.html",ussd_label_ussd)):$("#menu_ussd").remove(),g_module.ota_enabled&&e<g_MainMenuNumber?($("#ota").children().text(common_ota),e++):g_module.ota_enabled&&e>=g_MainMenuNumber?($("#menu_ota").remove(),e++,Add_more_menu("ota","ota.html",common_ota)):$("#menu_ota").remove(),checkObjectExist(g_PageUrlTree,"mods")&&e<g_MainMenuNumber?($("#mods").children().text(system_label_mods),e++):checkObjectExist(g_PageUrlTree,"mods")&&e>=g_MainMenuNumber?($("#menu_mods").remove(),e++,Add_more_menu("mods","mods.html",system_label_mods)):$("#menu_mods").remove(),(g_module.dlna_enabled||g_module.sdcard_enabled||g_module.sambashare_enabled)&&e<g_MainMenuNumber?($("#sharing").children().text(sharing_label_sharing),e++,g_module.sdcard_enabled?$("#menu_sharing a").attr("href","sdcardsharing.html"):g_module.sambashare_enabled?$("#menu_sharing a").attr("href","sambasettings.html"):$("#menu_sharing a").attr("href","dlna.html")):(g_module.dlna_enabled||g_module.sdcard_enabled||g_module.sambashare_enabled)&&e>=g_MainMenuNumber?($("#menu_sharing").remove(),e++,g_module.sdcard_enabled?Add_more_menu("sharing","sdcardsharing.html",sharing_label_sharing):g_module.sambashare_enabled?Add_more_menu("sharing","sambasettings.html",sharing_label_sharing):Add_more_menu("sharing","dlna.html",sharing_label_sharing)):$("#menu_sharing").remove(),g_module.stk_enabled&&e<g_MainMenuNumber?($("#stk").children().text(stk_label_stk),e++):g_module.stk_enabled&&e>=g_MainMenuNumber?($("#menu_stk").remove(),e++,Add_more_menu("stk","stk.html",stk_label_stk)):$("#menu_stk").remove(),1==g_feature.appmanagements.enabled&&checkObjectExist(g_PageUrlTree,"appmanagement")&&e<g_MainMenuNumber?($("#appmanagement").children().text(IDS_APP_MANAGEMENT),e++):g_feature.appmanagements.enabled&&e>=g_MainMenuNumber?($("#menu_appmanagement").remove(),e++,Add_more_menu("appmanagement","appmanagement.html",IDS_APP_MANAGEMENT)):$("#menu_appmanagement").remove(),$("#more_menu_ul").get(0)?("material"!=webui_mode&&($("#more").die("click"),$("#more").live("click",(function(){MoreMenuCreate()})),$(".main_menu:not(#more),div:not(#more_dialog)").mouseover((function(){$("#more_dialog").hide()}))),setTimeout((function(){var e;for(e=1;e<$("#more_menu_ul").children().length+1;e++)$("#more_menu_ul li:nth-child("+e+")").children().hasClass("active")&&$("#more").addClass("active")}),500)):$("#menu_more").remove(),"material"!=webui_mode&&$("#union_main_menu").show(),showCur(!0))}function Add_more_menu(e,t,n){var a="";$("#more_menu_ul").get(0)||($("#more").children().text(common_more),"material"==webui_mode?(a="<ul id='more_menu_ul' class='mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect' for='more'>",a+="</ul>",$("#union_main_menu").after(a),"undefined"!=typeof componentHandler&&componentHandler.upgradeElement($("#more_menu_ul").get(0))):(a="<div  id='more_dialog' class='more_menu clr_white_more_menu'>",a+="    <ul id ='more_menu_ul'>",a+="    </ul>",a+="</div>",$("body").append(a))),a="<li id='menu_"+e+"'>",a+="    <a id='"+e+"'"+("material"==webui_mode?" class='mdl-menu__item'":"")+">",a+="        <span>"+n+"</span>",a+="    </a>",a+="</li>",$("#more_menu_ul").append(a)}function MoreMenuCreate(){function e(e){var t,n=0;for(t=0;t<e.length;t++)e.charCodeAt(t)>12288&&e.charCodeAt(t)<65535?n+=3:n++;return n}if($("#more_dialog").size()>=1){var t,n=0,a=$("#menu_more").offset(),i=a.top,s=a.left,o=i+$("#menu_more").height(),_=s+5;for(t=0;t<$("#more_menu_ul").children().length;t++){var r=e($("#more_menu_ul li:eq("+t+")").children().children().text());r>n&&(n=r)}n=11*n<$("#menu_more").width()?$("#menu_more").width():11*n,$(".more_menu").css({width:n+"px"}),$(".more_menu ul li").css({width:n+"px"}),"ar_sa"!=LANGUAGE_DATA.current_language&&"he_il"!=LANGUAGE_DATA.current_language&&"fa_fa"!=LANGUAGE_DATA.current_language||(_=s+$("#menu_more").width()+5,_-=n),$("#more_dialog").css({position:"absolute",left:_+"px",top:o+"px","background-color":"#00FF00  no-repeat right center"}).show()}}function selectCur(e){$.each(e,(function(e,t){TOPMENU.have||TOPMENU.nav.push(e),"object"==typeof t?selectCur(t):"string"==typeof t&&(t==current_href||force_new_sms&&force_new_ussd&&"old"==webui_mode&&"ussd"==current_href&&"smsinbox"==t)&&(TOPMENU.nav.push(t),TOPMENU.have=!0),TOPMENU.have||TOPMENU.nav.pop()}))}var ispageExist=!1;function checkPageExist(e,t){return ispageExist=!1,"ussd"==t&&(ispageExist=!0),$.each(e,(function(e,n){if(ispageExist)return!1;if("object"==typeof n)ispageExist=checkPageExist(n,t);else if("string"==typeof n&&n==t)return ispageExist=!0,!1})),ispageExist}function showCur(e){if(e)$("#"+TOPMENU.nav[0]).addClass("active");else if("update_local"==current_href)$("#setting_update").addClass("click"),(t=$("#setting_update").get(0).className).indexOf("nosub")>-1&&(t=t.replace("nosub ","nosub")),$("#setting_update")[0].className=t;else if("autoimei"==current_href){$("#dialup").addClass("click"),(t=$("#autoimei_item").get(0).className).indexOf("nosub")>-1&&(t=t.replace("nosub ","nosub")),$("#autoimei_item")[0].className=t,$("#autoimei_item").addClass("subClick")}else if("watchcat"==current_href){$("#system").addClass("click"),(t=$("#watchcat_item").get(0).className).indexOf("nosub")>-1&&(t=t.replace("nosub ","nosub")),$("#watchcat_item")[0].className=t,$("#watchcat_item").addClass("subClick")}else{var t;$("#"+TOPMENU.nav[1]).addClass("click"),(t=$("#"+TOPMENU.nav[1]).get(0).className).indexOf("nosub")>-1&&(t=t.replace("nosub ","nosub")),$("#"+TOPMENU.nav[1])[0].className=t,$("#"+TOPMENU.nav[2]).addClass("subClick")}}function getQueryStringByName(e){var t=location.search.match(new RegExp("[?&]"+e+"=([^&]*)(&?)","i"));return t?t[1]:t}function initUssdLeftMenu(){void 0!==g_PageUrlTree.ussd.prepaid?($("#prepaidussd").removeClass("sub").addClass("sub click"),void 0!==g_PageUrlTree.ussd.prepaid.pre_service_title?(g_ussdLeftmenu[0]="pre"+g_PageUrlTree.ussd.prepaid.pre_service_title,$("#pre_service_title").addClass("subClick")):void 0!==g_PageUrlTree.ussd.prepaid.pre_fun_balanceInquiry?(g_ussdLeftmenu[0]="pre"+g_PageUrlTree.ussd.prepaid.pre_fun_balanceInquiry,$("#pre_fun_balanceInquiry").addClass("subClick")):void 0!==g_PageUrlTree.ussd.prepaid.pre_fun_charge?(g_ussdLeftmenu[0]="pre"+g_PageUrlTree.ussd.prepaid.pre_fun_charge,$("#pre_fun_charge").addClass("subClick")):void 0!==g_PageUrlTree.ussd.prepaid.pre_fun_general&&(g_ussdLeftmenu[0]="pre"+g_PageUrlTree.ussd.prepaid.pre_fun_general,$("#pre_fun_general").addClass("subClick"))):void 0!==g_PageUrlTree.ussd.postpaid&&($("#postpaidussd").removeClass("sub").addClass("sub click"),void 0!==g_PageUrlTree.ussd.postpaid.post_service_title?(g_ussdLeftmenu[0]="post"+g_PageUrlTree.ussd.postpaid.post_service_title,$("#post_service_title").addClass("subClick")):void 0!==g_PageUrlTree.ussd.postpaid.post_fun_balanceInquiry?(g_ussdLeftmenu[0]="post"+g_PageUrlTree.ussd.postpaid.post_fun_balanceInquiry,$("#post_fun_balanceInquiry").addClass("subClick")):void 0!==g_PageUrlTree.ussd.postpaid.post_fun_charge?(g_ussdLeftmenu[0]="post"+g_PageUrlTree.ussd.postpaid.post_fun_charge,$("#post_fun_charge").addClass("subClick")):void 0!==g_PageUrlTree.ussd.postpaid.post_fun_general&&(g_ussdLeftmenu[0]="post"+g_PageUrlTree.ussd.postpaid.post_fun_general,$("#post_fun_general").addClass("subClick")))}function showUssdLeftMenu(){$(".main_left").children().is("#ussd_setting_menu")&&(initUssdLeftMenu(),$(".main_left").load("leftmenu.html #ussd_setting_menu",(function(){clickMenu("menu_settings"),$("#ussd").addClass("active"),checkLeftMenu(g_PageUrlTree.ussd.prepaid)?($("#lable_prepaidussd").text(ussd_leftmenu_prepaid),checkLeftMenu(g_PageUrlTree.ussd.prepaid.pre_service_title)?$("#lable_pre_service_title").text(ussd_leftmenu_ActivateService):$("#pre_service_title").remove(),checkLeftMenu(g_PageUrlTree.ussd.prepaid.pre_fun_balanceInquiry)?$("#lable_pre_fun_balanceInquiry").text(ussd_label_BalanceInquiry_title):$("#pre_fun_balanceInquiry").remove(),checkLeftMenu(g_PageUrlTree.ussd.prepaid.pre_fun_charge)?$("#lable_pre_fun_charge").text(ussd_label_Charge_title):$("#pre_fun_charge").remove(),checkLeftMenu(g_PageUrlTree.ussd.prepaid.pre_fun_general)?$("#lable_pre_fun_general").text(ussd_label_Universal_title):$("#pre_fun_general").remove()):$("#prepaidussd").remove(),checkLeftMenu(g_PageUrlTree.ussd.postpaid)?($("#label_postpaidussd").text(ussd_leftmenu_postpaid),checkLeftMenu(g_PageUrlTree.ussd.postpaid.post_service_title)?$("#lable_post_service_title").text(ussd_leftmenu_ActivateService):$("#post_service_title").remove(),checkLeftMenu(g_PageUrlTree.ussd.postpaid.post_fun_balanceInquiry)?$("#lable_post_fun_balanceInquiry").text(ussd_label_BalanceInquiry_title):$("#post_fun_balanceInquiry").remove(),checkLeftMenu(g_PageUrlTree.ussd.postpaid.post_fun_charge)?$("#lable_post_fun_charge").text(ussd_label_Charge_title):$("#post_fun_charge").remove(),checkLeftMenu(g_PageUrlTree.ussd.postpaid.post_fun_general)?$("#lable_post_fun_general").text(ussd_label_Universal_title):$("#post_fun_general").remove()):$("#postpaidussd").remove(),initUssdLeftMenu(),"1"==g_setup_wizard_page&&"hilink"!=g_Driver_classify&&"1"==g_auto_update_enable&&$("#menu_detail_list").children().not("#quick_setup").hide(),"material"==webui_mode&&materializeLeftMenu()})))}function checkLeftMenu(e){return void 0!==e&&""!=$.trim(e)}function isneedsystemsettings(){return!!(g_module.powersave_enabled||g_module.fastboot_enabled||g_module.sntp_enabled||g_USBtetheringSwitch==USBTETHERING_ON)}function showleftMenu(){$(".main_left").children().is("#sms_menu")&&$(".main_left").load("leftmenu.html #sms_menu",(function(){clickMenu("menu_sms"),$("#lable_sms").text(sms_lable_sms),$("#label_inbox").text(sms_label_inbox),$("#label_sent").text(sms_label_sent),$("#label_drafts").text(sms_label_drafts),checkLeftMenu(g_PageUrlTree.sms.sms_center_number)?$("#label_sms_center_number").text(sms_label_sms_settings):$("#sms_center_number").remove(),showCur(!1),$("#label_inbox_status").text(g_sms_inbox_store_status),$("#label_sent_status").text(g_sms_outbox_store_status),$("#label_drafts_status").text(g_sms_draftbox_store_status),"1"==g_setup_wizard_page&&"hilink"!=g_Driver_classify&&"1"==g_auto_update_enable&&$("#menu_detail_list").children().not("#quick_setup").hide(),"material"==webui_mode&&materializeLeftMenu()})),$(".main_left").children().is("#sms_menu_android")&&$(".main_left").load("leftmenu.html #sms_menu_android",(function(){clickMenu("menu_sms"),$("#label_android").text(sms_label_message),checkLeftMenu(g_PageUrlTree.sms.sms_center_number)?$("#label_sms_center_number_android").text(sms_label_sms_settings):$("#label_sms_center_number_android").remove(),showCur(!1),$("#label_android_status").text(g_sms_android_store_status),"1"==g_setup_wizard_page&&"hilink"!=g_Driver_classify&&"1"==g_auto_update_enable&&$("#menu_detail_list").children().not("#quick_setup").hide(),"material"==webui_mode&&materializeLeftMenu()})),showUssdLeftMenu(),$(".main_left").children().is("#settings_menu")&&$(".main_left").load("leftmenu.html #settings_menu",(function(){clickMenu("menu_settings"),checkLeftMenu(g_PageUrlTree.settings.quick_setup)&&"hilink"!=g_Driver_classify?($("#label_quick_setup").attr("title",wizard_label_quick_setup),$("#label_quick_setup").text(wizard_label_quick_setup)):$("#quick_setup").remove(),g_module.wifioffload_enable&&checkLeftMenu(g_PageUrlTree.settings.internet)?($("#label_internet").attr("title",wlan_lable_Interntet_wlan),$("#label_internet").text(wlan_lable_Interntet_wlan),checkLeftMenu(g_PageUrlTree.settings.internet.wifinetworks)?($("#label_wifinetworks").attr("title",wlan_lable_Interntet_wlan),$("#label_wifinetworks").text(wlan_lable_Interntet_wlan)):$("#wifinetworks").remove(),checkLeftMenu(g_PageUrlTree.settings.internet.wifipriority)?($("#label_wifiPriority").attr("title",IDS_label_text_wifiPriority),$("#label_wifiPriority").text(IDS_label_text_wifiPriority)):$("#wifipriority").remove(),null!=g_wifi&&(g_wifi.stawpsenabled&&checkLeftMenu(g_PageUrlTree.settings.internet.stationwps)?($("#label_stationwps").attr("title",IDS_system_label_stationwps_defaults),$("#label_stationwps").text(IDS_system_label_stationwps_defaults)):$("#stationwps").remove())):$("#internet").remove(),checkLeftMenu(g_PageUrlTree.settings.dialup)?($("#label_dialup").attr("title",dialup_label_dialup),$("#label_dialup").text(dialup_label_dialup),checkLeftMenu(g_PageUrlTree.settings.dialup.mobileconnection)?($("#label_mobile_connection").attr("title",dialup_label_mobile_connection),$("#label_mobile_connection").text(dialup_label_mobile_connection)):$("#mobileconnection").remove(),checkLeftMenu(g_PageUrlTree.settings.dialup.mobilenetworksettings)?($("#label_mobile_network_settings").attr("title",dialup_label_mobile_network_settings),$("#label_mobile_network_settings").text(dialup_label_mobile_network_settings)):$("#mobilenetworksettings").remove(),g_module.modsettings_enabled&&checkLeftMenu(g_PageUrlTree.settings.dialup.autoimei)?($("#label_autoimei").attr("title",dialup_label_autoimei),$("#label_autoimei").text(dialup_label_autoimei)):checkLeftMenu(g_PageUrlTree.settings.dialup.autoimei)?($("#autoimei_item").attr("data-disabled",!0),$("#autoimei_item a").attr("href","javascript:addWebUIInitDialog();void(0);"),$("#label_autoimei").attr("title",dialup_label_autoimei),$("#label_autoimei").text(dialup_label_autoimei)):$("#autoimei_item").remove(),checkLeftMenu(g_PageUrlTree.settings.dialup.profilesmgr)?($("#label_profile_management").attr("title",dialup_label_profile_management),$("#label_profile_management").text(dialup_label_profile_management)):$("#profilesmgr").remove()):$("#dialup").remove(),g_module.wifi_enabled&&checkLeftMenu(g_PageUrlTree.settings.wlan)?($("#label_wlan").text(wlan_label_wlan),$("#label_wlan").attr("title",wlan_label_wlan),checkLeftMenu(g_PageUrlTree.settings.wlan.wlanbasicsettings)?($("#label_wlan_basic_settings").attr("title",wlan_label_wlan_basic_settings),$("#label_wlan_basic_settings").text(wlan_label_wlan_basic_settings)):$("#wlanbasicsettings").remove(),checkLeftMenu(g_PageUrlTree.settings.wlan.wlanadvanced)?($("#label_wlan_advanced_settings").attr("title",wlan_label_wlan_advanced_settings),$("#label_wlan_advanced_settings").text(wlan_label_wlan_advanced_settings)):$("#wlanadvanced").remove(),checkLeftMenu(g_PageUrlTree.settings.wlan.wlanmacfilter)?($("#label_wlan_mac_filter").attr("title",wlan_label_wlan_mac_filter),$("#label_wlan_mac_filter").text(wlan_label_wlan_mac_filter)):$("#wlanmacfilter").remove(),checkLeftMenu(g_PageUrlTree.settings.wlan.wps)?($("#wlan_label_wps_settings").attr("title",wlan_label_wps_settings),$("#wlan_label_wps_settings").text(wlan_label_wps_settings)):$("#wps").remove()):$("#wlan").remove(),checkLeftMenu(g_PageUrlTree.settings.ethernet)?check_ethernet_display():$("#ethernet").remove(),g_module.vpn_enabled&&checkLeftMenu(g_PageUrlTree.settings.vpn)?($("#label_vpn").attr("title",IDS_vpn),$("#label_vpn").text(IDS_vpn),checkLeftMenu(g_PageUrlTree.settings.vpn.vpnstatus)?($("#label_vpn_status").attr("title",IDS_vpn_label_vpn_status),$("#label_vpn_status").text(IDS_vpn_label_vpn_status)):$("#vpnstatus").remove(),checkLeftMenu(g_PageUrlTree.settings.vpn.vpnsettings)?($("#label_vpn_setting").attr("title",IDS_vpn_label_setting),$("#label_vpn_setting").text(IDS_vpn_label_setting)):$("#vpnsettings").remove()):$("#vpn").remove(),g_module.voip_enabled&&checkLeftMenu(g_PageUrlTree.settings.voip)?($("#label_voip").text(IDS_VOIP_menu_label_voip),$("#label_voip").attr("title",IDS_VOIP_menu_label_voip),checkLeftMenu(g_PageUrlTree.settings.voip.serverbasic)?($("#label_server_basic").attr("title",IDS_VOIP_menu_label_sipserver),$("#label_server_basic").text(IDS_VOIP_menu_label_sipserver)):$("#serverbasic").remove(),checkLeftMenu(g_PageUrlTree.settings.voip.sipbasic)?($("#label_sip_basic").attr("title",IDS_VOIP_menu_label_sipuser),$("#label_sip_basic").text(IDS_VOIP_menu_label_sipuser)):$("#sipbasic").remove(),checkLeftMenu(g_PageUrlTree.settings.voip.speeddial)?($("#label_speed_dial").attr("title",IDS_VOIP_menu_label_speeddial),$("#label_speed_dial").text(IDS_VOIP_menu_label_speeddial)):$("#speeddial").remove()):$("#voip").remove(),checkLeftMenu(g_PageUrlTree.settings.security)?(g_module.modsettings_enabled&&checkLeftMenu(g_PageUrlTree.settings.security.pincodeautovalidate)?($("#label_pin_auto_validation").attr("title",dialup_label_pin_auto_validation),$("#label_pin_auto_validation").text(dialup_label_pin_auto_validation)):checkLeftMenu(g_PageUrlTree.settings.security.pincodeautovalidate)?($("#pincodeautovalidate").attr("data-disabled",!0),$("#pincodeautovalidate a").attr("href","javascript:addWebUIInitDialog();void(0);"),$("#label_pin_auto_validation").attr("title",dialup_label_pin_auto_validation),$("#label_pin_auto_validation").text(dialup_label_pin_auto_validation)):$("#pincodeautovalidate").remove(),getGMonitoringStatus(),checkLeftMenu(g_PageUrlTree.settings.security.pincodemanagement)?($("#label_pin_code_management").attr("title",dialup_label_pin_code_management),$("#label_pin_code_management").text(dialup_label_pin_code_management)):$("#pincodemanagement").remove(),$("#label_security").text(firewall_label_security),$("#label_security").attr("title",firewall_label_security),checkLeftMenu(g_PageUrlTree.settings.security.firewallswitch)?($("#label_firewall_switch").attr("title",firewall_label_firewall_switch),$("#label_firewall_switch").text(firewall_label_firewall_switch)):$("#firewallswitch").remove(),checkLeftMenu(g_PageUrlTree.settings.security.macfilter)&&g_module.fw_macfilter_enabled?($("#label_mac_filter").attr("title",IDS_security_macfilter_label),$("#label_mac_filter").text(IDS_security_macfilter_label)):$("#macfilter").remove(),checkLeftMenu(g_PageUrlTree.settings.security.lanipfilter)?($("#label_lan_ip_filter").attr("title",firewall_label_lan_ip_filter),$("#label_lan_ip_filter").text(firewall_label_lan_ip_filter)):$("#lanipfilter").remove(),checkLeftMenu(g_PageUrlTree.settings.security.virtualserver)?($("#label_virtual_server").attr("title",firewall_label_virtual_server),$("#label_virtual_server").text(firewall_label_virtual_server)):$("#virtualserver").remove(),checkLeftMenu(g_PageUrlTree.settings.security.specialapplication)?($("#label_special_application").attr("title",firewall_label_special_application),$("#label_special_application").text(firewall_label_special_application)):$("#specialapplication").remove(),checkLeftMenu(g_PageUrlTree.settings.security.dmzsettings)?($("#label_dmz_settings").attr("title",firewall_label_dmz_settings),$("#label_dmz_settings").text(firewall_label_dmz_settings)):$("#dmzsettings").remove(),checkLeftMenu(g_PageUrlTree.settings.security.sipalgsettings)?($("#label_sip_alg_settings").attr("title",firewall_label_sip_alg_settings),$("#label_sip_alg_settings").text(firewall_label_sip_alg_settings)):$("#sipalgsettings").remove(),checkLeftMenu(g_PageUrlTree.settings.security.upnp)?($("#label_upnp_setting").attr("title",firewall_label_upnp_setting),$("#label_upnp_setting").text(firewall_label_upnp_setting)):$("#upnp").remove(),checkLeftMenu(g_PageUrlTree.settings.security.nat)?($("#label_nat_settings").attr("title",IDS_wlan_title_nat_settings),$("#label_nat_settings").text(IDS_wlan_title_nat_settings)):$("#nat").remove(),checkLeftMenu(g_PageUrlTree.settings.security.urlfilter)?($("#label_urlfilter_settings").attr("title",IDS_security_urlfilter_domain_name_filter),$("#label_urlfilter_settings").text(IDS_security_urlfilter_domain_name_filter)):$("#urlfilter").remove(),g_module.ddns_enabled&&checkLeftMenu(g_PageUrlTree.settings.security.ddns)&&g_module.ddns_enabled?($("#label_ddns_settings").attr("title",IDS_security_ddns),$("#label_ddns_settings").text(IDS_security_ddns)):$("#ddns").remove(),checkLeftMenu(g_PageUrlTree.settings.security.bridgemode)&&g_module.bridge_enabled?($("#label_bridgemode_settings").attr("title",IDS_system_bridge_mode),$("#label_bridgemode_settings").text(IDS_system_bridge_mode)):$("#bridgemode").remove()):$("#security").remove(),checkLeftMenu(g_PageUrlTree.settings.system)?($("#label_system").attr("title",system_label_system),$("#label_system").text(system_label_system),checkLeftMenu(g_PageUrlTree.settings.system.deviceinformation)?($("#label_device_information").attr("title",system_label_device_information),$("#label_device_information").text(system_label_device_information)):$("#deviceinformation").remove(),g_module.modsettings_enabled&&checkLeftMenu(g_PageUrlTree.settings.system.modsettings)?($("#label_modsettings").attr("title",system_label_modsettings),$("#label_modsettings").text(system_label_modsettings)):checkLeftMenu(g_PageUrlTree.settings.system.modsettings)?($("#modsettings").attr("data-disabled",!0),$("#modsettings a").attr("href","javascript:addWebUIInitDialog();void(0);"),$("#label_modsettings").attr("title",system_label_modsettings),$("#label_modsettings").text(system_label_modsettings)):$("#modsettings").remove(),checkLeftMenu(g_PageUrlTree.settings.system.dhcp)?($("#label_dhcp").attr("title",dhcp_label_dhcp),$("#label_dhcp").text(dhcp_label_dhcp)):$("#dhcp").remove(),g_module.modsettings_enabled&&checkLeftMenu(g_PageUrlTree.settings.system.hosts)?($("#label_hosts").attr("title",system_label_hosts),$("#label_hosts").text(system_label_hosts)):checkLeftMenu(g_PageUrlTree.settings.system.hosts)?($("#hosts").attr("data-disabled",!0),$("#hosts a").attr("href","javascript:addWebUIInitDialog();void(0);"),$("#label_hosts").attr("title",system_label_hosts),$("#label_hosts").text(system_label_hosts)):$("#hosts").remove(),g_module.modsettings_enabled&&checkLeftMenu(g_PageUrlTree.settings.system.watchcat)?($("#label_watchcat").attr("title",system_label_watchcat),$("#label_watchcat").text(system_label_watchcat)):checkLeftMenu(g_PageUrlTree.settings.system.watchcat)?($("#watchcat").attr("data-disabled",!0),$("#watchcat a").attr("href","javascript:addWebUIInitDialog();void(0);"),$("#label_watchcat").attr("title",system_label_watchcat),$("#label_watchcat").text(system_label_watchcat)):$("#watchcat").remove(),g_module.diagnosis_enabled&&checkLeftMenu(g_PageUrlTree.settings.system.diagnosis)?($("#label_diagnosis").attr("title",system_label_diagnosis),$("#label_diagnosis").text(system_label_diagnosis)):$("#diagnosis").remove(),checkLeftMenu(g_PageUrlTree.settings.system.configuration)?($("#label_configuration").attr("title",system_label_backup_restore),$("#label_configuration").text(system_label_backup_restore)):$("#configuration").remove(),checkLeftMenu(g_PageUrlTree.settings.system.modifypassword)&&(1==g_hilink_login_old_api&&0==g_nedd_login||1==g_nedd_login)?($("#label_modify_password").attr("title",system_label_modify_password),$("#label_modify_password").text(system_label_modify_password)):$("#modifypassword").remove(),checkLeftMenu(g_PageUrlTree.settings.system.restore)?($("#label_restore_defaults").attr("title",system_label_restore_defaults),$("#label_restore_defaults").text(system_label_restore_defaults)):$("#restore").remove(),checkLeftMenu(g_PageUrlTree.settings.system.reboot)?($("#label_reboot").attr("title",system_label_reboot),$("#label_reboot").text(system_label_reboot)):$("#reboot").remove(),checkLeftMenu(g_PageUrlTree.settings.system.systemsettings)&&isneedsystemsettings()?($("#label_systemsettings").attr("title",IDS_systemsettings_topic),$("#label_systemsettings").text(IDS_systemsettings_topic)):$("#systemsettings").remove(),g_module.cbs_enabled&&checkLeftMenu(g_PageUrlTree.settings.cbssettings)?($("#label_cbssettings").attr("title",IDS_CBS_Settings_setting),$("#label_cbssettings").text(IDS_CBS_Settings_setting)):$("#cbssettings").remove(),g_module.bluetooth_enabled&&checkLeftMenu(g_PageUrlTree.settings.bluetooth)?($("#label_bluetooth").text(IDS_bluetooth),$("#label_bluetooth").attr("title",IDS_bluetooth)):$("#bluetooth").remove(),g_module.vsim_enabled&&checkLeftMenu(g_PageUrlTree.settings.vsim)?($("#label_vsim").attr("title",IDS_tianjitong_text),$("#label_vsim").text(IDS_tianjitong_text)):$("#vsim").remove(),g_module.online_update_enabled&&checkLeftMenu(g_PageUrlTree.settings.system.updatesettings)&&(notLoginupdate_leftmenu||auto_update_leftmenu)?($("#label_update_settings").attr("title",IDS_update_settings),$("#label_update_settings").text(IDS_update_settings)):$("#updatesettings").remove()):$("#system").remove(),g_module.online_update_enabled&&checkLeftMenu(g_PageUrlTree.settings.setting_update)?($("#label_update_system").attr("title",common_updates),$("#label_update_system").text(common_updates)):$("#setting_update").remove(),showCur(!1),"1"==g_setup_wizard_page&&"hilink"!=g_Driver_classify&&"1"==g_auto_update_enable&&$("#menu_detail_list").children().not("#quick_setup").hide(),"material"==webui_mode&&materializeLeftMenu()})),$(".main_left").children().is("#sharingsamba_menu")&&$(".main_left").load("leftmenu.html #sharingsamba_menu",(function(){clickMenu("menu_sharingsamba"),checkLeftMenu(g_PageUrlTree.sharing.sdcardsharing)&&g_module.sdcard_enabled?$("#label_sdcardsharing").text(sharing_label_sharing):$("#sdcardsharing").remove(),checkLeftMenu(g_PageUrlTree.sharing.sambasettings)&&g_module.sambashare_enabled?$("#label_sambasettings").text(IDS_system_samba_title):$("#sambasettings").remove(),checkLeftMenu(g_PageUrlTree.sharing.sambasharinguser)&&g_module.sambashare_enabled?$("#label_sambasharinguser").text(IDS_system_samba_user_setting_title):$("#sambasharinguser").remove(),g_module.dlna_enabled&&checkLeftMenu(g_PageUrlTree.sharing.dlna)?$("#label_dlna").text(common_dlna):$("#dlna").remove(),showCur(!1),"1"==g_setup_wizard_page&&"hilink"!=g_Driver_classify&&"1"==g_auto_update_enable&&$("#menu_detail_list").children().not("#quick_setup").hide(),"material"==webui_mode&&materializeLeftMenu()})),g_module.local_update_enabled&&checkLeftMenu(g_PageUrlTree.update.update_local)&&$(".main_left").children().is("#update_menu")&&$(".main_left").load("leftmenu.html #update_menu",(function(){clickMenu("menu_update"),checkLeftMenu(g_PageUrlTree.update.update_online)?$("#label_update_online").text(IDS_update_online_title):$("#update_online").remove(),g_module.local_update_enabled&&checkLeftMenu(g_PageUrlTree.update.update_local)?$("#label_update_local").text(IDS_update_local_title):$("#update_local").remove(),showCur(!1),"1"==g_setup_wizard_page&&"hilink"!=g_Driver_classify&&"1"==g_auto_update_enable&&$("#menu_detail_list").children().not("#quick_setup").hide(),"material"==webui_mode&&materializeLeftMenu()}))}function setLangList(){jQuery.isArray(LANGUAGE_DATA.supportted_languages)?($("#lang").append(g_langList),"material"==webui_mode?$("#lang").removeClass("browser-default"):$("#lang").show(),$("#lang").change((function(){changeLang("lang",$("#lang").val())}))):$("#lang").remove()}function showCurrentLanguage(){var e=LANGUAGE_DATA.current_language.replace(/-/,"_");$("#lang").val(e)}function showFooter(){g_needFooter&&$("#footer").load("footer.html img, span, rightcorner",(function(){var e=copyrightReplace(common_copyright);$("#footer span").html("&nbsp;"+e+"<div class='rightcorner'></div>"),$.browser.msie&&parseInt($.browser.version,10)>=9&&$("#statement_main").css({"margin-top":"3px"}),$("#footer").prepend("<a id='pravacy_policy' class='clr_gray'>Project Mode</a>"),$("#footer").addClass("clr_blue_hover"),getAjaxData("api/device/device-feature-switch",(function(e){var t=xml2object(e);"response"==t.type&&"1"==(g_copyright_enabled=t.response.copyright_enabled)&&($("#footer span").after("<span id='copyright_notice'><a href='javascript:window.open(\"/html/switchDebugMode.html\");void(0);' class='clr_gray'>Debug Mode</a></span>"),"material"==webui_mode&&$("#copyright_notice").addClass("mdl-cell mdl-cell--2-col mdl-cell--1-col-phone mdl-typography--text-right"))})),$("#pravacy_policy").attr("href","javascript:window.open('/html/switchProjectMode.html');void(0);"),"material"==webui_mode&&($("#footer").replaceWith('<footer id="footer" class="mdl-grid">'+$("#footer").html()+"</div>"),$("#pravacy_policy").addClass("mdl-cell mdl-cell--2-col mdl-cell--1-col-phone"),$("#statement_main").addClass("mdl-cell mdl-cell--8-col-desktop mdl-cell--4-col-tablet mdl-cell--2-col-phone mdl-typography--text-center"),$('img[src="../res/logo-footer.gif"]').prependTo("#statement_main"))}))}function setPrivacyPolicyUrl(e){void 0!==LANGUAGE_DATA.privacy_policy_list&&checkLeftMenu(LANGUAGE_DATA.privacy_policy_list[LANGUAGE_DATA.current_language])?$(e).attr("href",LANGUAGE_DATA.privacy_policy_list[LANGUAGE_DATA.current_language]):void 0!==LANGUAGE_DATA.privacy_policy_list&&checkLeftMenu(LANGUAGE_DATA.privacy_policy_list.default_url)&&$(e).attr("href",LANGUAGE_DATA.privacy_policy_list.default_url)}var g_requestVerificationToken=[];function getAjaxToken(){var e=$("meta[name=csrf_token]"),t=0;if(e.length>0)for(g_requestVerificationToken=[];t<e.length;t++)g_requestVerificationToken.push(e[t].content);else getAjaxData("api/webserver/token",(function(e){var t=xml2object(e);"response"==t.type&&(g_requestVerificationToken=t.response.token)}),{sync:!0})}getAjaxToken();var factoryResetRequired=!1,modsettings={},user_config={},webui_mode="new",force_new_sms=!1,force_old_sms=!1,force_new_ussd=!1,force_old_ussd=!1;function showConnectInfo(){"new"!=webui_mode?$.browser.msie&&"6.0"==$.browser.version?"ar_sa"==LANGUAGE_DATA.current_language||"he_il"==LANGUAGE_DATA.current_language||"fa_fa"==LANGUAGE_DATA.current_language?$("#center_box_main").css("marginRight",parseInt(g_PositionInfo.offset_ie6,10)+140):$("#center_box_main").css("marginLeft",parseInt(g_PositionInfo.offset_ie6,10)+140):"ar_sa"==LANGUAGE_DATA.current_language||"he_il"==LANGUAGE_DATA.current_language||"fa_fa"==LANGUAGE_DATA.current_language?$("#center_box_main").css("marginRight",parseInt(g_PositionInfo.offset,10)+280):$("#center_box_main").css("marginLeft",parseInt(g_PositionInfo.offset,10)+280):$("#center_box_main").css("marginLeft",245)}function checkUpdateNeedLogin(){getAjaxData("api/webserver/white_list_switch",(function(e){var t=xml2object(e);"response"==t.type?(notLoginupdate_leftmenu=!0,g_not_need_login_update="1"==t.response.whitelist_enable):(g_not_need_login_update=!1,notLoginupdate_leftmenu=!1)}),{errorCB:function(){g_not_need_login_update=!1,notLoginupdate_leftmenu=!1},sync:!0})}function force_update_leftmenu_check(){getAjaxData("api/online-update/configuration",(function(e){var t=xml2object(e);"response"==t.type?force_update_leftmenu=void 0!==t.response.server_force_enable&&"1"==t.response.server_force_enable||void 0!==t.response.server_force_enable&&"0"==t.response.server_force_enable:"error"==t.type&&(force_update_leftmenu=!1)}),{errorCB:function(){force_update_leftmenu=!1},sync:!0})}function auto_update_leftmenu_check(){getAjaxData("api/online-update/autoupdate-config",(function(e){var t=xml2object(e);"response"==t.type?auto_update_leftmenu=void 0!==t.response.auto_update&&"1"==t.response.auto_update||void 0!==t.response.auto_update&&"0"==t.response.auto_update:"error"==t.type&&(auto_update_leftmenu=!1)}),{errorCB:function(){auto_update_leftmenu=!1},sync:!0})}function judgeBridgemode(){$.inArray(current_href,["dhcp","dmzsettings","firewallswitch","lanipfilter","nat","sipalgsettings","specialapplication","upnp","urlfilter","virtualserver","wifinetworks","wifipriority","home","systemsettings","update","wlanbasicsettings","quicksetup","stationwps"])>-1&&checkLeftMenu(g_PageUrlTree.settings.security.bridgemode)&&g_module.bridge_enabled&&(g_bridgeModeStatus=!1,getAjaxData("api/security/bridgemode",(function(e){var t=xml2object(e);if("response"==t.type)if(1==parseInt(t.response.bridgemode,10))switch(g_bridgeModeStatus=!0,current_href){case"home":$("#wlan_connect_btn").hide(),g_module.wifioffload_enable=!1;break;case"systemsettings":$(".sntp_operation").hide(),g_module.sntp_enabled=!1;break;case"wlanbasicsettings":case"quicksetup":void 0!==g_wifiFeatureSwitch&&(g_wifiFeatureSwitch.maxapnum=1),g_module.multi_ssid_enabled=!1;break;case"update":g_isBridgeNotesOpened=!0,showInfoDialog(IDS_system_bridge_mode_warning,!1,disableEntirePage);break;default:showInfoDialog(IDS_system_bridge_mode_warning,!1,disableEntirePage)}else g_bridgeModeStatus=!1;else g_bridgeModeStatus=!1}),{sync:!0}))}function disableEntirePage(){$("input:not(#lang)").attr("disabled",!0),$("select:not(#lang)").attr("disabled",!0),$(".button_edit_list").die(),$(".button_edit_list").removeClass("clr_blue").addClass("clr_gray"),$(".button_delete_list").die(),$(".button_delete_list").removeClass("clr_blue").addClass("clr_gray"),$("#query_again").remove(),$(".wifiup").die(),$(".wifidown").die(),$(".wifidelete").die(),$(".wifiedit").die(),g_isBridgeNotesOpened=!1,allButton_enable("0")}function setSettingMenu(e){$.each(e,(function(e,t){"object"!=typeof t||g_isReady?"string"!=typeof t||g_isReady||""==t||($("#settings").attr("href",t+".html"),g_isReady=!0):setSettingMenu(t)}))}function changeItemStatus(){var e=$(".login_info > div:visible");e.size()>2?$.each(e,(function(e){$(this).css({width:"33.3%"})})):2==e.size()?$.each(e,(function(e){$(this).css({width:"50%"})})):1==e.size()&&1==g_feature.connection.connectionstatus?$.each(e,(function(e){$(".login_box_info .connection").attr("style","background:none;width:100%;"),$(".login_box_info h2").attr("style","width:95%;")})):$.each(e,(function(e){$(this).css({width:"50%"})}))}function loadHeaderRedirectPage(){""!=$.trim($("#header").html())&&null!=$("#header").html()||("material"==webui_mode?($(".login_head_div.login_head_dim").replaceWith('<header id="header" class="mdl-layout__header"><div class="mdl-layout__header-row"><span class="mdl-layout-title">'+g_feature.title+"</span></div></header>"),$("header").after('<div class="mdl-layout__drawer"><span class="mdl-layout-title">'+g_feature.title+"</span></div>"),"cradleDisconnected"==current_href||"pincoderequired"==current_href||"pukrequired"==current_href||"simlockrequired"==current_href?$(".mdl-layout__drawer > .mdl-layout-title").after("<nav class='help mdl-navigation'><span class='mdl-navigation__link'><select id='lang' class='browser-default' style='display:none'></select></span><a id=help_url class='mdl-navigation__link' href='#' target='_blank'><span id='help_span'></span></a><span class='username mdl-navigation__link'  id='username_span' style='display:none'></span><a id='logout_span' class='mdl-navigation__link logout' href='javascript:void(0);'></a></nav>"):"update_autorun"==current_href?$(".mdl-layout__drawer > .mdl-layout-title").after("<nav class='help mdl-navigation'><span class='mdl-navigation__link'><select id='lang' class='browser-default' style='display:none'></select></span></nav>"):$(".mdl-layout__drawer > .mdl-layout-title").after("<nav class='language mdl-navigation'><span class='mdl-navigation__link'><select id='lang' class='browser-default' style='display:none'></select></span></nav>"),setLangList(),showCurrentLanguage(),g_needToLogin?($("#logout_span").show(),getAjaxData("api/user/state-login",(function(e){var t=xml2object(e);"response"==t.type&&(g_password_type=t.response.password_type,0!=t.response.State?($("#username_span").hide(),$("#logout_span").text(common_login),cancelLogoutTimer()):($("#username_span").text(t.response.Username),$("#username_span").show(),$("#logout_span").text(common_logout),startLogoutTimer()))}),{sync:!0})):($(".logout").hide(),$("#logout_span").hide()),"1"==g_setup_wizard_page&&"hilink"!=g_Driver_classify&&"1"==g_auto_update_enable&&$(".clr_white_header_hover").children().not("#menu_settings").hide(),"undefined"!=typeof componentHandler&&(componentHandler.downgradeElements($("#all_content").get(0)),componentHandler.upgradeElement($("#all_content").get(0)))):$("#header").load("header.html",(function(){$(".help").remove(),$(".tools").remove(),$("#union_main_menu").remove(),$("#header_turnbg").removeClass("head_div"),"cradleDisconnected"==current_href||"pincoderequired"==current_href||"pukrequired"==current_href||"simlockrequired"==current_href?$(".logo").after("<div class='help'><span><select id='lang' style='display:none'></select></span><span class = 'clr_bold_a' style='display:none'><a id=help_url href='#' target='_blank'><span id='help_span'></span></a></span><span><span class='username'  id='username_span' style='display:none'></span></span><span>&nbsp;</span><span><span class='logout'><span id='logout_span'></span></span></span></div>"):"update_autorun"==current_href?$(".logo").after("<div class='help'><span><select id='lang' style='display:none'></select></span></div>"):$(".logo").after("<div class='language'><span><select id='lang' style='display:none'></select></span></div>"),setLangList(),showCurrentLanguage(),g_needToLogin?($("#logout_span").show(),getAjaxData("api/user/state-login",(function(e){var t=xml2object(e);"response"==t.type&&(g_password_type=t.response.password_type,0!=t.response.State?($("#username_span").hide(),$("#logout_span").text(common_login),cancelLogoutTimer()):($("#username_span").text(t.response.Username),$("#username_span").show(),$("#logout_span").text(common_logout),startLogoutTimer()))}),{sync:!0})):($(".logout").hide(),$("#logout_span").hide()),"1"==g_setup_wizard_page&&"hilink"!=g_Driver_classify&&"1"==g_auto_update_enable&&$(".clr_white_header_hover").children().not("#menu_settings").hide()})))}function loadHeader(){""!=$.trim($("#header").html())&&null!=$("#header").html()||("material"==webui_mode?($("#header").replaceWith('<header id="header" class="mdl-layout__header"><div class="mdl-layout__header-row"><span class="mdl-layout-title">'+g_feature.title+"</span></div></header>"),$.ajax({type:"GET",url:"header.html",success:function(e,t,n){$("header").after('<div class="mdl-layout__drawer"><span class="mdl-layout-title">'+g_feature.title+'</span><nav id="nav-mobile" class="mdl-navigation  mdl-layout--small-screen-only"></nav><nav class="help mdl-navigation"><span class="mdl-navigation__link"><select id="lang" class="browser-default" style="display:none"></select></span><a id=help_url class="mdl-navigation__link" href="#" target="_blank"><span id="help_span"></span></a><span class="mdl-navigation__link"  id="username_span" style="display:none"></span><a id="logout_span" class="logout mdl-navigation__link" href="javascript:void(0);"></a></nav></div>'),getUserManualUrl();var a=$(e).find("#union_main_menu > ul > li > a");if(a.get(0)){$("header .mdl-layout-title").after('<div class="mdl-layout-spacer"></div><nav id="union_main_menu" class="mdl-navigation  mdl-layout--large-screen-only"></nav>'),a.addClass("mdl-navigation__link"),a.each((function(){$(this).is("a[href]")||$(this).attr("href","javascript:void(0);")})),$("#union_main_menu").html(a),showCur(!0),setMainMenu(),(a=$("#union_main_menu").children()).each((function(){0==$(this).children().html().length&&$(this).remove()}));var i=(a=$("#union_main_menu").children()).clone();i.each((function(){$(this).attr("data-id",$(this).attr("id")).attr("id","nav-mobile-"+$(this).attr("id")),$(this).is("#nav-mobile-more")||$(this).click((function(e){document.querySelector("#"+$(this).attr("data-id")).click(),e.preventDefault()}))})),$("#nav-mobile").html(i);"</ul>",$("#nav-mobile").after("<ul id='nav_mobile_more_menu_ul' class='mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect' for='nav-mobile-more'></ul>");var s=$("#more_menu_ul").children().clone();s.each((function(){$(this).attr("data-id",$(this).attr("id")).attr("id","nav-mobile-"+$(this).attr("id")),$(this).children().attr("data-id",$(this).children().attr("id")).attr("id","nav-mobile-"+$(this).children().attr("id")),$(this).children().click((function(e){document.querySelector("#"+$(this).attr("data-id")).click(),e.preventDefault()}))})),$("#nav_mobile_more_menu_ul").html(s),"undefined"!=typeof componentHandler&&componentHandler.upgradeElement($("#nav_mobile_more_menu_ul").get(0))}g_needHelp?$("#help_span").text(common_help):($("#help_span").remove(),$("#help_url").remove()),g_needToLogin?($("#logout_span").show(),getAjaxData("api/user/state-login",(function(e){var t=xml2object(e);"response"==t.type&&(g_password_type=t.response.password_type,0!=t.response.State?($("#username_span").hide(),$("#logout_span").text(common_login),cancelLogoutTimer()):($("#username_span").text(t.response.Username),$("#username_span").show(),$("#logout_span").text(common_logout),"home"==current_href&&startLogoutTimer()))}),{sync:!0})):($(".logout").hide(),$("#logout_span").hide()),setLangList(),showCurrentLanguage(),$("#logout_span").live("click",(function(){g_destnation=null,loginout()})),$("#pop_login").die(),$("#pop_login").live("click",(function(){login(null==g_destnation&&"sdcardsharing"==current_href?current_href+".html":g_destnation)}));var o="#deviceinformation2,#antennapointing,#statistic,#sms,#payment,#menu_connection_settings a,#ussd,#update,#mods,#settings,.nav01,.nav02,#profile_settings a,#pb,#stk, #wifi_turnOff_button,#sambasettings,#sambasharinguser,#dlna,#appmanagement,#update_local";g_module.sdcard_enabled||(o+=",#sharing"),g_not_need_login_update||(o+=",#update,.nav01"),$(o).live("click",(function(){if(!g_needToLogin)return!0;var e=!0;return"menu_connection_settings"!=(g_nav=$(this)).parent().attr("id")&&"profile_settings"!=g_nav.parent().attr("id")||(g_nav=g_nav.parent()),getAjaxData("api/user/state-login",(function(t){var n=xml2object(t);"response"==n.type&&"0"!=n.response.State&&(void 0!==n.response.firstlogin&&(g_default_password_status=parseInt(n.response.firstlogin,10)),g_destnation=0==g_default_password_status&&"hilink"!=g_Driver_classify?null:g_nav.children().first().attr("href"),g_nav.children().first().attr("href","javascript:void(0);"),showloginDialog(),e=!1)}),{sync:!0}),e})),"1"==g_setup_wizard_page&&"hilink"!=g_Driver_classify&&"1"==g_auto_update_enable&&$(".clr_white_header_hover").children().not("#menu_settings").hide(),"undefined"!=typeof componentHandler&&(componentHandler.downgradeElements($("#all_content").get(0)),componentHandler.upgradeElement($("#all_content").get(0)))},dataType:"html"})):$("#header").load("header.html",(function(){$.browser.msie&&($(".help div").remove(),$(".help").append(" <span><select id='lang' style='display:none'></select></span><span class = 'clr_bold_a'><a id=help_url href='#' target='_blank'><span id='help_span'></span></a></span><span><span class='username'  id='username_span' style='display:none'></span></span><span>&nbsp;</span><span><span class='logout'><span id='logout_span'></span></span></span>")),1==g_sms_mode&&($("#sms").attr("href","smsandroid.html"),$("#tooltip_sms_full").attr("href","smsandroid.html"),$("#tooltip_sms").attr("href","smsandroid.html")),getUserManualUrl(),showCur(!0),setMainMenu(),g_needHelp?$("#help_span").text(common_help):($("#help_span").remove(),$("#help_url").remove()),g_needToLogin?($("#logout_span").show(),getAjaxData("api/user/state-login",(function(e){var t=xml2object(e);"response"==t.type&&(g_password_type=t.response.password_type,0!=t.response.State?($("#username_span").hide(),$("#logout_span").text(common_login),cancelLogoutTimer()):($("#username_span").text(t.response.Username),$("#username_span").show(),$("#logout_span").text(common_logout),"home"==current_href&&startLogoutTimer()))}),{sync:!0})):($(".logout").hide(),$("#logout_span").hide()),g_module.wifi_enabled||($("#wifi_gif").remove(),$("#indoor_gif").remove()),g_module.sms_enabled||$("#sms_gif").remove(),g_module.online_update_enabled||$("#update_gif").remove(),g_feature.battery_enabled||$("#battery_gif").remove(),void 0!==g_wifiFeatureSwitch&&WIFI5G_ON!=g_wifiFeatureSwitch.wifi5g_enabled&&$("#indoor_gif").remove(),initialStatusIcon(),setLangList(),showCurrentLanguage(),$("#logout_span").live("click",(function(){g_destnation=null,loginout()})),$("#pop_login").die(),$("#pop_login").live("click",(function(){login(null==g_destnation&&"sdcardsharing"==current_href?current_href+".html":g_destnation)}));var e="#menu_deviceinformation,#menu_antennapointing,#menu_statistic,#menu_sms,#menu_payment,#menu_connection_settings a,#menu_ussd,#menu_update,#menu_mods,#menu_settings,.nav01,.nav02,#profile_settings a,#menu_pb,#menu_stk, #wifi_turnOff_button,#sambasettings,#sambasharinguser,#dlna,#menu_appmanagement,#update_local";g_module.sdcard_enabled||(e+=",#menu_sharing"),g_not_need_login_update||(e+=",#menu_update,.nav01"),$(e).live("click",(function(){g_needToLogin&&("menu_connection_settings"!=(g_nav=$(this)).parent().attr("id")&&"profile_settings"!=g_nav.parent().attr("id")||(g_nav=g_nav.parent()),getAjaxData("api/user/state-login",(function(e){var t=xml2object(e);"response"==t.type&&"0"!=t.response.State&&(void 0!==t.response.firstlogin&&(g_default_password_status=parseInt(t.response.firstlogin,10)),g_destnation=0==g_default_password_status&&"hilink"!=g_Driver_classify?null:g_nav.children().first().attr("href"),g_nav.children().first().attr("href","javascript:void(0);"),showloginDialog())}),{sync:!0}))})),"1"==g_setup_wizard_page&&"hilink"!=g_Driver_classify&&"1"==g_auto_update_enable&&$(".clr_white_header_hover").children().not("#menu_settings").hide()})))}function setLoginStatus(e,t){g_needToLogin?($("#logout_span").show(),getAjaxData("api/user/state-login",(function(t){var n=xml2object(t);"response"==n.type&&(0!=n.response.State?($("#username_span").hide(),$("#logout_span").text(common_login),cancelLogoutTimer()):($("#username_span").text(n.response.Username),$("#username_span").show(),$("#logout_span").text(common_logout),"home"==current_href&&startLogoutTimer(e)))}),{sync:!0})):($(".logout").hide(),$("#logout_span").hide()),$("#logout_span").die(),$("#logout_span").live("click",(function(){g_destnation=null,loginout()})),$("#pop_login").die(),$("#pop_login").live("click",(function(){login(g_destnation,t,e)}))}function getLoginStatus(e,t){var n=!0;return g_needToLogin&&getAjaxData("api/user/state-login",(function(a){var i=xml2object(a);"response"==i.type&&0!=i.response.State&&($("#pop_login").die(),$("#pop_login").live("click",(function(){login(g_destnation,e,t)})),n=!1,showloginDialog())}),{sync:!0}),n}function checkInputValue(e){var t=!1;return null!=e&&"undefind"!=typeof e&&""!=e&&(t=!0),t}function create_button(e,t,n){if(""!=n&&" "!=n&&null!=n){"disable_btn clr_gray_disable_btn_center"==n?(button="<span class='button_wrapper ' id='span_"+t+"'>",button+="<input id='"+t+"' class='"+n+"' type='button' value='"+e+"'/></span>"):(button="<span class='button_wrapper ' id='span_"+t+"'>",button+="<input id='"+t+"' class='button_dialog "+n+"' type='button' value='"+e+"'/></span>")}else button="<span class='button_wrapper' id='span_"+t+"'>",button+="<input id='"+t+"' class='button_dialog ' type='button' value='"+e+"'/></span>";document.write(button),ieRadiusBorder(),"material"==webui_mode&&materializeButtons()}function ieRadiusBorder(){$.browser.msie&&($("input[type=button]").css("outline","none"),$(".button_wrapper").css("border-radius","3px"),$.browser.msie&&parseInt($.browser.version,10)<9&&($(".button_wrapper").css("background","#75ACD6"),$(".button_wrapper").corner("3px"),$(".button_wrapper input").css("padding-top","1px"),$.browser.msie&&parseInt($.browser.version,10)<8&&$("input[type=button]").css("padding","0 8px")))}function create_button_html(e,t,n){if(""!=n&&" "!=n&&null!=n){"disable_btn clr_gray_disable_btn_center"==n?(button="<span class='button_wrapper '>",button+="<input id='"+t+"' class='"+n+"' type='button' value='"+e+"'/></span>"):(button="<span class='button_wrapper '>",button+="<input id='"+t+"' class='button_dialog "+n+"' type='button' value='"+e+"'/></span>")}else button="<span class='button_wrapper'>",button+="<input id='"+t+"' class='button_dialog ' type='button' value='"+e+"'/></span>";return button}function isButtonEnable(e){var t=!0,n=$("#"+e);return n&&(t="material"==webui_mode?n.is("[disabled]"):n.hasClass("disable_btn")),!t}function call_dialog(e,t,n,a,i,s){if(t=display_SIMtoUIM(t),"material"==webui_mode){document.querySelectorAll(".dialog").forEach((function(e,t,n){e.close()})),$(".dialog").remove();var o="";o+="<h4 class='mdl-dialog__title'>"+e+"</h4>",o+="<div class='mdl-dialog__content'>",o+=t,o+="</div>",o+="<div class='mdl-dialog__actions'>",o+="    <a href='javascript:void(0);' id='"+a+"' class='mdl-button'>"+n+"</a>",""!=i&&" "!=i&&null!=i&&(o+="    <a href='javascript:void(0);' id='"+s+"' class='mdl-button'>"+i+"</a>"),o+="</div>";var _=document.createElement("dialog");_.className="dialog mdl-dialog",_.id="sms_dialog",_.style="width: auto;",_.innerHTML=o,$(".body_bg").before(_),_.showModal||dialogPolyfill.registerDialog(_),_.showModal()}else{$("#div_wrapper").remove(),$(".dialog").remove();o="";if($("#div_wrapper").size()<1&&(o+="<div id='div_wrapper'><iframe   id='ifream_dialog'  src= '' frameborder= '0' style= 'background:#bcbcbc; width:100%; height:100%; display: block;'> </iframe></div>"),o+="<div class='dialog' id='sms_dialog'>",o+="    <div class='sms_dialog_content'>",o+="        <div class='sms_dialog_header'>",o+="            <span class='dialog_header_left clr_white'>"+e+"</span>",o+="            <span class='dialog_header_right'><a href='javascript:void(0);' title='close' class='dialog_close_btn clr_gray'><canvas id='callCanvas' width='25px' height='25px'></canvas></a></span>",o+="        </div>",o+="        <div class='sms_dialog_table'>"+t+"</div>",o+="        <div class='sms_dialog_table_bottom'>",o+="            <div class='dialog_table_r'>",o+="              <span class='button_wrapper "+a+"'>",o+="                  <input id='"+a+"' class='button_dialog' type='button' value='"+n+"'/></span>",""!=i&&" "!=i&&null!=i&&(o+="&nbsp;&nbsp;&nbsp;&nbsp;<span class='button_wrapper "+s+"'>",o+="                  <input id='"+s+"' class='button_dialog' type='button' value='"+i+"'/></span>"),o+="            </div>",o+="        </div>",o+="    </div>",o+="</div>",$(".body_bg").before(o),$.browser.msie&&9==parseInt($.browser.version,10))$(".button_wrapper").css("border-radius","3px"),draw(document.getElementById("callCanvas"));else if($.browser.msie&&parseInt($.browser.version,10)<9){$(".dialog_header_left").css("margin-top","5"),$(".dialog_close_btn").css("top","7"),$(".sms_dialog_header").css({width:"609px",height:"29px"}),$(".sms_dialog_header").corner("top 5px"),$(".button_wrapper").css("background","#75ACD6"),$(".button_wrapper").corner("3px"),$(".button_wrapper input").css("padding-top","2px"),$(".sms_dialog_table_bottom").corner("keep 3px cc:6a6a6a");$(".sms_dialog_header a").append("<img src='../res/new_del.png' title='' alt='' />")}else{draw(document.getElementById("callCanvas"))}reputPosition($(".dialog"),$("#div_wrapper"))}g_main_displayingPromptStack.push(a),$("a").attr("tabindex","-1"),$("select").attr("tabindex","-1")}function showloginDialog(){if("material"==webui_mode){document.querySelectorAll(".login_dialog").forEach((function(e,t,n){e.close()})),$(".login_dialog").remove();var e="";e+="<h4 class='mdl-dialog__title'>"+common_login+"</h4>",e+="<div class='mdl-dialog__content'>",e+="    <div class='login'>",e+="           <div id='username_wrapper'>",e+="               <p>"+dialup_label_user_name+common_colon+"</p>",e+="               <span><input type='text' class='input' id='username' maxlength='15' /></span>",e+="           </div>",e+="           <div id='login_password_wrapper'>",e+="           <p>"+common_password+common_colon+"</p>",e+="               <span><input  type='password'  autocomplete='off' class='input' id='password' maxlength='15'/>&nbsp;&nbsp;</span>",e+="           </div>",e+="    </div>",e+="</div>",e+="<div class='mdl-dialog__actions'>",e+="      <a href='javascript:void(0);' id='pop_login' class='mdl-button'>"+common_login+"</a>",e+="      <a href='javascript:void(0);' id='pop_Cancel' class='mdl-button'>"+common_cancel+"</a>",e+="</div>";var t=document.createElement("dialog");t.className="login_dialog mdl-dialog",t.id="dialog",t.innerHTML=e,$(".body_bg").before(t),t.showModal||dialogPolyfill.registerDialog(t),t.showModal()}else{$("#div_wrapper").remove(),$(".login_dialog").remove();e="";if($("#div_wrapper").size()<1&&(e+="<div id='div_wrapper'><iframe   id='ifream_dialog'  src= '' frameborder= '0' style= 'background:#bcbcbc; position:absolute; width:100%; height:100%; z-index:-1; display: block;'> </iframe></div>"),e+="<div class='login_dialog' id='dialog'>",e+="    <div class='login_dialog_content'>",e+="        <div class='login_dialog_header'>",e+="            <span class='dialog_header_left clr_white'>"+common_login+"</span>",e+="            <span class='dialog_header_right'><a class='dialog_close_btn clr_gray' title='' href='javascript:void(0);'><canvas id='canvas' width='25px' height='25px'></canvas></a></span>",e+="        </div>",e+="        <div class='login_dialog_table'>",e+="               <div class='login'>","new"==webui_mode&&(e+="               <div id='initial_configuration_wrapper' style='display:none;'>",e+="                   <p id='initial_configuration_tips'>"+IDS_initial_configuration_tips+"</p>",e+="               </div>"),e+="               <div id='username_wrapper'>",e+="                   <p>"+dialup_label_user_name+common_colon+"</p>",e+="                   <span><input type='text' class='input' id='username' maxlength='15' /></span>",e+="               </div>",e+="               <div id='login_password_wrapper'>",e+="               <p>"+common_password+common_colon+"</p>",e+="                   <span><input  type='password'  autocomplete='off' class='input' id='password' maxlength='15'/>&nbsp;&nbsp;</span>",e+="               </div>","new"==webui_mode&&(e+="               <div id='forgot_pwd'>",e+="                   <span id='forget_password_tab'>"+IDS_forget_password_tab+"</span>",e+="               </div>",e+="               <div id='forget_password_wrapper'>",e+="                   <br><p id='forget_password_tips' style='display:none;'>"+IDS_forget_password_tips_hilink+"</p>",e+="               </div>"),e+="               </div>",e+="        </div>",e+="        <div class='login_dialog_table_bottom'>",e+="              <span class='button_wrapper pop_login'>",e+="                  <input id='pop_login' class='button_dialog' type='button' value='"+common_login+"'/></span>",e+="&nbsp;&nbsp;&nbsp;&nbsp;<span class='button_wrapper pop_Cancel'>",e+="                  <input id='pop_Cancel' class='button_dialog' type='button' value='"+common_cancel+"'/></span>",e+="       </div>",e+="    </div>",e+="</div>",$(".body_bg").before(e),$.browser.msie&&9==parseInt($.browser.version,10))$(".button_wrapper").css("border-radius","3px"),draw(document.getElementById("canvas"));else if($.browser.msie&&parseInt($.browser.version,10)<9){$(".dialog_header_left").css("margin-top","5"),$(".login_dialog_header").css({width:"420px",height:"29px"}),$(".login_dialog_header").corner("top 5px"),$(".button_wrapper").css("background","#75ACD6"),$(".button_wrapper").corner("3px"),$(".button_wrapper input").css("padding-top","2px"),$(".login_dialog_table_bottom").corner("keep 3px cc:6a6a6a");$(".login_dialog_header a").append("<img src='../res/new_del.png' title='' alt='' />"),$(".dialog_close_btn").css("top","7px")}else{draw(document.getElementById("canvas"))}reputPosition($("#dialog"),$("#div_wrapper"))}g_main_displayingPromptStack.push("pop_login"),$("#username").val("admin"),$("#password").focus(),g_is_login_opened=!0,disableTabKey(),$("#forget_password_tab").click((function(){showRestoreDialog()})),"1"==g_setup_wizard_page&&"quicksetup"==current_href&&"hilink"!=g_Driver_classify&&"1"==g_auto_update_enable&&$("#initial_configuration_wrapper").show(),$("#pop_Cancel,.dialog_close_btn").click((function(){"1"==g_setup_wizard_page&&"quicksetup"==current_href&&"hilink"!=g_Driver_classify&&"1"==g_auto_update_enable?(button_enable("step1_next","0"),button_enable("step_finish_new","0")):gotoPageWithoutHistory(HOME_PAGE_URL)}))}function draw(e){var t=e.getContext("2d");t.beginPath(),t.clearRect(0,0,24,24),t.fillStyle="#595959",t.strokeStyle="#595959",t.beginPath(),t.arc(12,12,11,0,2*Math.PI,!0),t.closePath(),t.lineWidth=2,t.fill(),t.stroke();y=12,t.strokeStyle="red",t.beginPath(),t.moveTo(6.4,6.4),t.lineTo(17.6,17.6),t.stroke(),t.closePath(),t.strokeStyle="red",t.beginPath(),t.moveTo(6.4,17.6),t.lineTo(17.6,6.4),t.stroke(),t.closePath()}function showConfirmDialog(e,t,n,a,i){if(e=display_SIMtoUIM(e),"material"==webui_mode){DIALOG_UNREMOVE!=a&&(document.querySelectorAll(".dialog").forEach((function(e,t,n){e.close()})),$(".dialog").remove());var s="";s+="<h4 class='mdl-dialog__title'>"+common_confirm+"</h4>",s+="<div class='mdl-dialog__content'>",s+=e,s+="</div>",s+="<div class='mdl-dialog__actions'>",s+="    <a href='javascript:void(0);' id='pop_confirm' class='mdl-button'>"+common_ok+"</a>",""!=n&&" "!=n&&null!=n&&(s+="    <a href='javascript:void(0);' id='pop_Cancel' class='mdl-button'>"+common_cancel+"</a>"),s+="</div>";var o=document.createElement("dialog");o.className="dialog mdl-dialog",e==common_warning_logout&&(o.id="dialog"),o.innerHTML=s}else{DIALOG_UNREMOVE!=a&&($("#div_wrapper").remove(),$(".dialog").remove());s="";$("#div_wrapper").size()<1&&(s+="<div id='div_wrapper'><iframe   id='ifream_dialog'  src= '' frameborder= '0' style= 'background:#bcbcbc; position:absolute; width:100%; height:100%; z-index:-1; display: block;'> </iframe></div>"),e==common_warning_logout?s+="<div class='dialog' id='dialog'>":s+="<div class='dialog'>",s+="    <div class='dialog_content'>",s+="        <div class='dialog_header'>",s+="            <span class='dialog_header_left clr_white'>"+common_confirm+"</span>",s+="            <span class='dialog_header_right'><a href='javascript:void(0);' title='' class='dialog_close_btn clr_gray'><canvas id='confirmCanvas' width='25px' height='25px'></canvas></a></span>",s+="        </div>",s+="        <div class='dialog_table'>"+e+"</div>",s+="        <div class='dialog_table_bottom'>",s+="            <div class='dialog_table_r'>",s+="              <span class='button_wrapper pop_confirm'>",s+="                  <input id='pop_confirm' class='button_dialog' type='button' value='"+common_ok+"'/></span>",""!=n&&" "!=n&&null!=n&&(s+="&nbsp;&nbsp;&nbsp;&nbsp;<span class='button_wrapper pop_Cancel'>",s+="                  <input id='pop_Cancel' class='button_dialog' type='button' value='"+common_cancel+"'/></span>"),s+="            </div>",s+="        </div>",s+="    </div>",s+="</div>"}if($("#pop_confirm").live("click",(function(){return clearDialog(),"function"==typeof t&&t(),t=null,n=null,i=null,g_main_displayingPromptStack.pop(),hiddenSelect(!1),!1})),$("#pop_Cancel").live("click",(function(){return"function"==typeof n&&n(),t=null,n=null,i=null,g_main_displayingPromptStack.pop(),hiddenSelect(!1),!1})),"material"==webui_mode)$(".body_bg").before(o),o.showModal||dialogPolyfill.registerDialog(o),o.showModal();else{if($(".dialog_close_btn").live("click",(function(){"function"==typeof i&&i(),t=null,n=null,i=null,g_main_displayingPromptStack.pop()})),$(".body_bg").before(s),$.browser.msie&&9==parseInt($.browser.version,10))$(".button_wrapper").css("border-radius","3px"),draw(document.getElementById("confirmCanvas"));else if($.browser.msie&&parseInt($.browser.version,10)<9){$(".dialog_header_left").css("margin-top","5"),$(".dialog_header").css({width:"500px",height:"29px"}),$(".dialog_header").corner("top 5px"),$(".button_wrapper").css("background","#75ACD6"),$(".button_wrapper").corner("3px"),$(".button_wrapper input").css("padding-top","2px"),$(".dialog_header a").css("top","7px"),$(".button_wrapper input").css("padding-top","2px");$(".dialog_header a").append("<img src='../res/new_del.png' title='' alt='' />")}else{draw(document.getElementById("confirmCanvas"))}hiddenSelect(!0),reputPosition($(".dialog"),$("#div_wrapper"))}g_main_displayingPromptStack.push("pop_confirm"),disableTabKey()}function showInfoDialog(e,t,n,a){if(e=display_SIMtoUIM(e),0==$(".info_dialog").size()){var i;if(clearTimeout(i),"material"==webui_mode){var s="";s+="<h4 class='mdl-dialog__title'>"+common_note+"</h4>",s+="<div class='mdl-dialog__content'>",s+=e,s+="</div>",s+="<div class='mdl-dialog__actions'>",s+="    <a href='javascript:void(0);' id='pop_Cancel' class='mdl-button'>"+common_close+"</a>",s+="</div>";var o=document.createElement("dialog");o.className="info_dialog mdl-dialog",o.innerHTML=s,$(".body_bg").before(o),$("#pop_Cancel").bind("click",(function(){"function"==typeof n&&n(),n=null,clearTimeout(i),clearDialog()})),o.showModal||dialogPolyfill.registerDialog(o),o.showModal()}else{s="";if($("#div_wrapper").size()<1&&(s+="<div id='div_wrapper'><iframe   id='ifream_dialog'  src= '' frameborder= '0' style= 'background:#bcbcbc; position:absolute; width:100%; height:100%; z-index:-1; display: block;'> </iframe></div>"),s+="<div class='info_dialog'>",s+="    <div class='info_dialog_content'>",s+="        <div class='info_dialog_header'>",s+="            <span class='dialog_header_left clr_white'>"+common_note+"</span>",s+="            <span class='dialog_header_right'><a href='javascript:void(0);' title='' class='info_dialog_close_btn clr_gray'><canvas id='showInfoCanvas' width='25px' height='25px'></canvas></a></span>",s+="        </div>",s+="        <div class='info_dialog_table'><div class='info_content'>"+e+"</div></div>",s+="    </div>",s+="</div>",$(".body_bg").before(s),$.browser.msie&&9==parseInt($.browser.version,10))$(".button_wrapper").css("border-radius","3px"),draw(document.getElementById("showInfoCanvas"));else if($.browser.msie&&parseInt($.browser.version,10)<9){$(".dialog_header_left").css("margin-top","5"),$(".info_dialog_header").css({width:"500px",height:"29px"}),$(".info_dialog_header").corner("top 5px"),$(".info_dialog_close_btn").css("top","7");$(".info_dialog_header a").append("<img src='../res/new_del.png' title='' alt='' />")}else{draw(document.getElementById("showInfoCanvas"))}hiddenSelect(!0),$(".info_dialog_close_btn").bind("click",(function(){"function"==typeof n&&n(),n=null,clearTimeout(i),clearDialog()})),reputPosition($(".info_dialog"),$("#div_wrapper"))}disableTabKey(),t?2e4==t?i=setTimeout((function(){clearDialog()}),2e4):($(".info_dialog_close_btn").remove(),i=setTimeout((function(){clearDialog()}),6e3)):i=setTimeout((function(){"function"==typeof n&&n(),n=null,clearDialog()}),g_feature.dialogdisapear)}}function showQtip(e,t,n){t=display_SIMtoUIM(t);var a=$("#"+e);a.qtip("destroy",!0),a&&(a.qtip({prerender:!0,content:t,position:{my:"top center",at:"bottom center"},show:{event:!1,ready:!0}}),n?(null!=clearshow&&clearTimeout(clearshow),clearshow=setTimeout((function(){a.qtip("destroy",!0)}),n)):(null!=clearshow&&clearTimeout(clearshow),clearshow=setTimeout((function(){a.qtip("destroy",!0)}),g_feature.tip_disapear))),a.focus()}function clearDialog(){"material"==webui_mode&&document.querySelectorAll(".dialog:not(#upload_dialog), .info_dialog, .login_dialog").forEach((function(e,t,n){e.close()})),$(".dialog:not(#upload_dialog), .info_dialog, .login_dialog, #div_wrapper").remove(),hiddenSelect(!1),enableTabKey(),g_is_login_opened&&(g_is_login_opened=!1,getDeviceStatus())}function clearDialog_table(){"material"==webui_mode&&document.querySelectorAll(".dialog:not(#upload_dialog), .info_dialog, .login_dialog").forEach((function(e,t,n){e.close()})),$(".dialog:not(#upload_dialog), .info_dialog, .login_dialog, #div_wrapper").hide(),hiddenSelect(!1),enableTabKey(),g_is_login_opened&&(g_is_login_opened=!1,getDeviceStatus())}function correctPNG(){var e=0;for(e=0;e<document.images.length;e++){var t=document.images[e],n=t.src.toUpperCase();if("PNG"==n.substring(n.length-3,n.length)){var a=t.id?"id='"+t.id+"' ":"",i=t.className?"class='"+t.className+"' ":"",s=t.title?"title='"+t.title+"' ":"title='"+t.alt+"' ",o="display:inline-block;"+t.style.cssText;"left"==t.align&&(o="float:left;"+o),"right"==t.align&&(o="float:right;"+o),t.parentNode.href&&(o="cursor:hand;"+o);var _="<span "+a+i+s+' style="width:'+t.width+"px; height:"+t.height+"px;"+o+";filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t.src+"', sizingMethod='scale');\"></span>";t.outerHTML=_,e-=1}}}function fixPNG(e){var t=navigator.appVersion.split("MSIE"),n=parseFloat(t[1]);if(n>=5.5&&n<7&&document.body.filters){var a=e.id?"id='"+e.id+"' ":"",i=e.className?"class='"+e.className+"' ":"",s=e.title?"title='"+e.title+"' ":"title='"+e.alt+"' ",o="display:inline-block;"+e.style.cssText,_="<span "+a+i+s+' style="width:'+e.width+"px; height:"+e.height+"px;"+o+";filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+e.src+"', sizingMethod='scale');\"></span>";e.outerHTML=_}}function _createNodeStr(e,t){return"<"+e+">"+t+"</"+e+">"}function _recursiveObject2Xml(e,t){var n="";return"string"==typeof t||"number"==typeof t?n=_createNodeStr(e,t):jQuery.isArray(t)?jQuery.each(t,(function(t,a){n+=_recursiveObject2Xml(e,a)})):"object"==typeof t&&(n+="<"+e+">",jQuery.each(t,(function(e,t){n+=_recursiveObject2Xml(e,t)})),n+="</"+e+">"),n}function object2xml(e,t){var n='<?xml version="1.0" encoding="UTF-8"?>';return n+=_recursiveObject2Xml(e,t)}function _recursiveXml2Object(e){if(e.children().size()>0){var t={};return e.children().each((function(){var e=$(this).children().size()>0?_recursiveXml2Object($(this)):$(this).text();$(this).siblings().size()>0&&$(this).siblings().get(0).tagName==this.tagName?(null==t[this.tagName]&&(t[this.tagName]=[]),t[this.tagName].push(e)):t[this.tagName]=e})),t}return e.text()}function xml2object(e){var t={};if(e.find("response").size()>0){var n=_recursiveXml2Object(e.find("response"));t.type="response",t.response=n}else if(e.find("error").size()>0){var a=e.find("code").text(),i=e.find("message").text();t.type="error",t.error={code:a,message:i}}else if(e.find("config").size()>0){var s=_recursiveXml2Object(e.find("config"));t.type="config",t.config=s}else t.type="unknown";return t}function getAvailableToken(){return $.isArray(g_requestVerificationToken)?g_requestVerificationToken.length>0?g_requestVerificationToken[0]:"":g_requestVerificationToken}function getAjaxData(e,t,n){var a=AJAX_HEADER+e+AJAX_TAIL,i=!0,s=AJAX_TIMEOUT,o=null;n&&(n.sync&&(i=1!=n.sync),n.timeout&&(s=parseInt(n.timeout,10),isNaN(s)&&(s=AJAX_TIMEOUT)),o=n.errorCB);var _={};$.isArray(g_requestVerificationToken)||(_.__RequestVerificationToken=g_requestVerificationToken),1!=g_scarm_login||"api/wlan/multi-basic-settings"!=e&&"api/wlan/security-settings"!=e||(_["Login-Type"]="Scram"),g_set_cookie_flag&&"api/monitoring/status"==e&&(g_set_cookie_flag=!1,_["Update-Cookie"]="UpdateCookie"),$.ajax({async:i,headers:_,type:"GET",timeout:s,url:a,error:function(e,t){try{jQuery.isFunction(o)&&o(e,t)}catch(e){}},success:function(a){var i;"string"==typeof a||"number"==typeof a?(-1!=this.url.indexOf("/api/ussd/get")&&-1!=a.indexOf("content")&&(a=smsContentDeleteWrongChar(a)),window.ActiveXObject?((i=new ActiveXObject("Microsoft.XMLDOM")).async=!1,i.loadXML(a)):i=(new DOMParser).parseFromString(a,"text/xml")):i=a;var s=xml2object($(i));if("error"==s.type){if(ERROR_WRONG_SESSION_TOKEN==s.error.code)return void gotoPageWithoutHistory(HOME_PAGE_URL);if(ERROR_WRONG_SESSION==s.error.code)return void(g_login_checking_flag||gotoPageWithoutHistory(HOME_PAGE_URL))}"error"==s.type&&ERROR_WRONG_TOKEN==s.error.code?(getAjaxToken(),getAjaxData(e,t,n)):"function"==typeof t&&t($(i))}})}function sdResolveCannotParseChar(e){return void 0!==e&&null!=e&&""!=e?e.replace(/(\&|\')/g,(function(e,t){return{"&":"&amp;","'":"&#39;"}[t]})):""}function wifiSsidResolveCannotParseChar(e){return void 0!==e&&null!=e&&""!=e?e.replace(/(\&|\'|\"|\>|\<)/g,(function(e,t){return{"&":"&amp;","'":"&apos;",'"':"&quot;","<":"&lt;",">":"&gt;"}[t]})):""}function XSSResolveCannotParseChar(e){return void 0!==e&&null!=e&&""!=e?e.replace(/(\&|\'|\"|\>|\<|\/|\(|\))/g,(function(e,t){return{"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;","/":"&#x2F;","(":"&#40;",")":"&#41;"}[t]})):""}function sd_resolveEntityReference(e){return void 0!==e&&null!=e&&""!=e?e.replace(/(\%26|\%27|\%20|\%23|\%25|\%3B|\'|\&|\"|\>|\<|\/|\(|\))/g,(function(e,t){return{"%26":"&amp;","%27":"&#39;","%20":" ","%23":"#","%25":"%","%3B":";","'":"&#39;","&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;","/":"&#x2F;","(":"&#40;",")":"&#41;"}[t]})):""}function XSSResolveHtmlReturnChar(e){return void 0!==e&&null!=e&&""!=e?e.replace(/(\'|\"|\/|\(|\))/g,(function(e,t){return{"'":"&apos;",'"':"&quot;","/":"&#x2F;","(":"&#40;",")":"&#41;"}[t]})):""}function smsContentDeleteWrongChar(e){return e.replace(/([\x00-\x08]|\x0b|\x0c|[\x0e-\x1f])/g," ")}function getTokenFromHeader(e,t){for(var n=e.indexOf(t)+t.length+1;" "==e.substring(n,n+1);)n++;return e.substring(n,n+32)}main_executeBeforeDocumentReady(),$(document).ready((function(){if(document.title=g_feature.title,$(".hotlinkstring").show(),factoryResetRequired&&"factoryresetrequired"!=current_href&&"pincoderequired"!=current_href&&"pukrequired"!=current_href&&"simlockrequired"!=current_href&&"nocard"!=current_href&&"cradleDisconnected"!=current_href)gotoPageWithoutHistory("factoryresetrequired.html");else if("1"!=g_setup_wizard_page||factoryResetRequired||"hilink"==g_Driver_classify||"1"!=g_auto_update_enable||"quicksetup"==current_href||"pincoderequired"==current_href||"pukrequired"==current_href||"simlockrequired"==current_href||"nocard"==current_href||"cradleDisconnected"==current_href)if("1"==g_setup_wizard_page||factoryResetRequired||0!=g_default_password_status||"modifypassword"==current_href||"pincoderequired"==current_href||"pukrequired"==current_href||"simlockrequired"==current_href||"nocard"==current_href||"cradleDisconnected"==current_href||"commend"==current_href){"pincoderequired"==current_href||"pukrequired"==current_href||"simlockrequired"==current_href||"nocard"==current_href||"cradleDisconnected"==current_href||"update_autorun"==current_href||"voicebusy"==current_href||"opennewwindow"==current_href||"factoryresetrequired"==current_href?loadHeaderRedirectPage():"antennapointing"!=current_href&&loadHeader(),showConnectInfo(),getSimPukTimes(),"material"!=webui_mode&&addStatusListener("GetPLMN_main()"),$(".content").children().first().is(".main_left")&&showleftMenu(),getDeviceStatus(),showFooter(),$(".button_wrapper:not(#login_btn,#connect_btn,#disconnect_btn,#cancel_btn)").live("mouseover",(function(){$(this).addClass("mouse_on")})),$(".button_wrapper").live("mouseout",(function(){$(this).removeClass("mouse_on")})),$(".button_wrapper:not(#login_btn)").mousedown((function(){$(this).addClass("mouse_down")})),$(".button_wrapper").mouseup((function(){$(this).removeClass("mouse_down")})),$("#pop_OK").live("click",(function(){"pop_OK"==g_main_displayingPromptStack[g_main_displayingPromptStack.length-1]&&g_main_displayingPromptStack.pop(),enableTabKey()})),$(".dialog_close_btn, #pop_Cancel").live("click",(function(){null!=g_nav&&(g_nav.children().first().attr("href",g_destnation),g_nav=null),g_isTrunOffWlanChecked&&(g_isTrunOffWlanChecked=!1,$("#trun_off_waln_check").click()),(g_is_disconnect_clicked||g_is_connect_clicked||g_is_network_connect||g_is_wlan_connect||g_is_power_off||g_isPostAjax||g_new_switch)&&(g_is_disconnect_clicked=!1,g_is_connect_clicked=!1,g_is_network_connect=!1,g_is_wlan_connect=!1,g_is_power_off=!1,g_isPostAjax=!1,g_new_switch=!1),clearDialog(),g_main_displayingPromptStack.pop(),enableTabKey()})),$(document).keydown(onKeyup),g_main_displayingPromptStack.length=0,judgeBridgemode(),g_smallPage=mainIsHandheldBrowser();var e=new Date,t=e.getDate()+e.getSeconds();"home"!=current_href&&(window.name=SHA256(t.toString())),$("#deviceinformation2").live("click",(function(){$("#deviceinformation2").attr("href","deviceinformation.html")})),$("#antennapointing").live("click",(function(){$("#antennapointing").attr("href","antennapointing.html")})),$("#settings").live("click",(function(){setSettingMenu(g_PageUrlTree.settings)})),$("#statistic").live("click",(function(){$("#statistic").attr("href","statistic.html")})),$("#sms").live("click",(function(){$("#sms").attr("href","smsinbox.html")})),$("#pb").live("click",(function(){$("#pb").attr("href","phonebook.html")})),$("#ussd").live("click",(function(){$("#ussd").attr("href","ussd.html")})),$("#update").live("click",(function(){$("#update").attr("href","update.html")})),$("#ota").live("click",(function(){$("#ota").attr("href","ota.html")})),$("#mods").live("click",(function(){g_module.modsettings_enabled?$("#mods").attr("href","mods.html"):$("#mods").attr("href","javascript:addWebUIInitDialog();void(0);")})),$("#sharing").live("click",(function(){(g_module.dlna_enabled||g_module.sdcard_enabled||g_module.sambashare_enabled)&&(g_module.sdcard_enabled?$("#menu_sharing a").attr("href","sdcardsharing.html"):g_module.sambashare_enabled?$("#menu_sharing a").attr("href","sambasettings.html"):$("#menu_sharing a").attr("href","dlna.html"))})),$("#stk").live("click",(function(){$("#stk").attr("href","stk.html")})),$("#appmanagement").live("click",(function(){$("#appmanagement").attr("href","appmanagement.html")}))}else gotoPageWithoutHistory("modifypassword.html");else gotoPageWithoutHistory("quicksetup.html")})),$(window).load((function(){$("#all_content").show(),changeItemStatus(),setTimeout((function(){reloadLeftMenu()}),1500),setTimeout((function(){"pincoderequired"==current_href||"pukrequired"==current_href||"simlockrequired"==current_href||"nocard"==current_href||"cradleDisconnected"==current_href||"update_autorun"==current_href||"voicebusy"==current_href||"opennewwindow"==current_href?loadHeaderRedirectPage():loadHeader()}),2e3)}));var g_encPublickey={e:"",n:""};function getEncpubkey(e){if(void 0!==g_moduleswitch.encrypt_enabled&&1==g_moduleswitch.encrypt_enabled){var t=!0;void 0!==e&&(t=e),getAjaxData("api/webserver/publickey",(function(e){var n=xml2object(e);"response"==n.type?(g_encPublickey.e=n.response.encpubkeye,g_encPublickey.n=n.response.encpubkeyn,""==g_encPublickey.e&&getEncpubkey(t)):getEncpubkey(t)}),{sync:t},{errorCB:function(){getEncpubkey(t)}})}}function storagePubkey(e,t){var n=window.localStorage;if(""!=t&&""!=e)try{n.setItem("atp","atp"),n.getItem("atp"),n.removeItem("atp"),n.removeItem("n"),n.removeItem("e"),n.setItem("n",e),n.setItem("e",t)}catch(n){var a="[rsa_n="+e+"&rsa_e="+t+"]",i=window.name,s=i.indexOf("[rsa_n="),o=i;s>0&&(o=i.substr(0,s)),window.name=o+a}}function getPubkey(){var e=window.localStorage;try{return e.setItem("atp","atp"),e.getItem("atp"),e.removeItem("atp"),[e.getItem("n"),e.getItem("e")]}catch(e){var t=window.name,n=t.indexOf("[rsa_n=");if(n>=0){var a=t.substr(n),i=a.indexOf("&rsa_e=");if(i>0){var s=a.substring(i+7,a.length-1);return[a.substring(7,i),s]}}}return["",""]}function doRSAEncrypt(e){if(""==e)return"";if(void 0===g_moduleswitch.encrypt_enabled||1!=g_moduleswitch.encrypt_enabled)return e;if(""==g_encPublickey.e)if(1==g_scarm_login){var t=getPubkey();g_encPublickey.e=t[1],g_encPublickey.n=t[0]}else getEncpubkey();var n=new RSAKey;n.setPublic(g_encPublickey.n,g_encPublickey.e);var a=(e=base64_encode(e)).length/245,s="";for(i=0;i<a;i++){var o=e.substr(245*i,245);s+=n.encrypt(o)}return s.length%256!=0&&(s=doRSAEncrypt(e)),s}getEncpubkey(!1);var g_LoopCount=0;function saveAjaxData(e,t,n,a){var i=AJAX_HEADER+e+AJAX_TAIL,s=!0,o=AJAX_TIMEOUT,_=null,r={};if($.isArray(g_requestVerificationToken)){if(!(g_requestVerificationToken.length>0))return g_LoopCount++>20&&"api/wlan/handover-setting"==e&&refresh(),void setTimeout((function(){saveAjaxData(e,t,n,a)}),50);r.__RequestVerificationToken=g_requestVerificationToken[0],g_requestVerificationToken.splice(0,1)}else r.__RequestVerificationToken=g_requestVerificationToken;g_LoopCount=0,a&&(a.sync&&(s=1!=a.sync),a.timeout&&(o=parseInt(a.timeout,10),isNaN(o)&&(o=AJAX_TIMEOUT)),_=a.errorCB,a.enc&&1==g_moduleswitch.encrypt_enabled?(r.encrypt_transmit="encrypt_transmit",t=doRSAEncrypt(t)):a.enp&&1==g_moduleswitch.encrypt_enabled&&(r.part_encrypt_transmit=a.enpstring)),$.ajax({async:s,headers:r,type:"POST",timeout:o,url:i,data:t,error:function(i,s){try{if("12030"==i.status||"12031"==i.status||"12019"==i.status||"400"==i.status)return void saveAjaxData(e,t,n,a);jQuery.isFunction(_)&&_(i,s),g_isPostAjax=!1}catch(e){}},success:function(i){var s;"string"==typeof i?(-1!=this.url.indexOf("/api/sms/sms-list")&&-1!=i.indexOf("Messages")&&(i=smsContentDeleteWrongChar(i)),window.ActiveXObject?((s=new ActiveXObject("Microsoft.XMLDOM")).async=!1,s.loadXML(i)):s=(new DOMParser).parseFromString(i,"text/xml")):s=i;var o=xml2object($(s));if(void 0!==o.error&&-1==this.url.indexOf("/api/user/session")){if(o.error.code==ERROR_SYSTEM_NO_RIGHTS&&"home"!=current_href)return void gotoPageWithoutHistory(HOME_PAGE_URL);if(ERROR_VOICE_BUSY==o.error.code)return void gotoPageWithoutHistory(VOICE_BUSY_URL);if(ERROR_WRONG_TOKEN==o.error.code)return getAjaxToken(),void saveAjaxData(e,t,n,a);if(ERROR_WRONG_SESSION_TOKEN==o.error.code)return void gotoPageWithoutHistory(HOME_PAGE_URL);if(ERROR_WRONG_SESSION==o.error.code)return void(g_login_checking_flag||gotoPageWithoutHistory(HOME_PAGE_URL))}else isAjaxReturnOK(o)&&-1!=this.url.indexOf("/api/user/login")?$.isArray(g_requestVerificationToken)&&(g_requestVerificationToken=[]):-1==this.url.indexOf("/api/user/challenge_login")&&-1==this.url.indexOf("/api/user/authentication_login")&&-1==this.url.indexOf("/api/user/password_scram")||$.isArray(g_requestVerificationToken)&&(g_requestVerificationToken=[]);"function"==typeof n&&n($(s))},complete:function(e,t){var n=e.getAllResponseHeaders();n.indexOf("__RequestVerificationTokenone")>=0?(g_requestVerificationToken.push(getTokenFromHeader(n,"__RequestVerificationTokenone")),n.indexOf("__RequestVerificationTokentwo")>=0&&g_requestVerificationToken.push(getTokenFromHeader(n,"__RequestVerificationTokentwo"))):n.indexOf("__requestverificationtokenone")>=0?(g_requestVerificationToken.push(getTokenFromHeader(n,"__requestverificationtokenone")),n.indexOf("__requestverificationtokentwo")>=0&&g_requestVerificationToken.push(getTokenFromHeader(n,"__requestverificationtokentwo"))):n.indexOf("__RequestVerificationToken")>=0?g_requestVerificationToken.push(getTokenFromHeader(n,"__RequestVerificationToken")):n.indexOf("__requestverificationtoken")>=0&&g_requestVerificationToken.push(getTokenFromHeader(n,"__requestverificationtoken"))}})}function isAjaxReturnOK(e){var t=!1;return e&&"string"==typeof e.response&&"ok"==e.response.toLowerCase()&&(t=!0),t}function getConfigData(e,t,n){var a="../"+e,i=!0,s=AJAX_TIMEOUT,o=null;n&&(n.sync&&(i=1!=n.sync),n.timeout&&(s=parseInt(n.timeout,10),isNaN(s)&&(s=AJAX_TIMEOUT)),o=n.errorCB),$.ajax({async:i,type:"GET",timeout:s,url:a,error:function(e,t,n){try{jQuery.isFunction(o)&&o(e,t)}catch(e){}},success:function(e){var n;"string"==typeof e||"number"==typeof e?window.ActiveXObject?((n=new ActiveXObject("Microsoft.XMLDOM")).async=!1,n.loadXML(e)):n=(new DOMParser).parseFromString(e,"text/xml"):n=e;"function"==typeof t&&t($(n))}})}function _createFeatureNode(e){if(void 0===e||null==e)return null;var t=$.trim(e);return""==t?t:isNaN(e)?e:parseInt(e,10)}function _recursiveXml2Feature(e){if(e.children().size()>0){var t={};return e.children().each((function(){var e=$(this).children().size()>0?_recursiveXml2Feature($(this)):_createFeatureNode($(this).text());$(this).siblings().size()>0&&$(this).siblings().get(0).tagName==this.tagName?(null==t[this.tagName]&&(t[this.tagName]=[]),t[this.tagName].push(e)):t[this.tagName]=e})),t}return _createFeatureNode(e.text())}function _xml2feature(e){var t=null;e.find("config").size()>0&&(t=_recursiveXml2Feature(e.find("config")));return t}function getGlobalFeatures(){getAjaxData("api/device/basic_information",(function(e){var t=xml2object(e);"response"==t.type?(basic_infos=t.response,void 0!==t.response.autoupdate_guide_status&&(g_setup_wizard_page=t.response.autoupdate_guide_status),g_Driver_classify=t.response.classify,g_ProductCDMA="CDMA"==t.response.productfamily,g_net_mode_status=g_ProductCDMA?MACRO_NET_MODE_C:MACRO_NET_MODE_W,g_net_mode_type="1"==t.response.multimode?MACRO_NET_DUAL_MODE:MACRO_NET_SINGLE_MODE):getAjaxData("api/device/information",(function(e){var t=xml2object(e);"response"==t.type&&(g_ProductCDMA="CDMA"==t.response.ProductFamily,g_net_mode_status=g_ProductCDMA?MACRO_NET_MODE_C:MACRO_NET_MODE_W,g_net_mode_type="1"==t.response.MultiMode?MACRO_NET_DUAL_MODE:MACRO_NET_SINGLE_MODE)}),{sync:!0})}),{sync:!0}),null!=basic_infos&&void 0===g_setup_wizard_page&&getAjaxData("api/device/basic_information",(function(e){var t=xml2object(e);"response"==t.type&&(basic_infos=t.response,void 0!==t.response.autoupdate_guide_status&&(g_setup_wizard_page=t.response.autoupdate_guide_status),g_Driver_classify=t.response.classify,g_ProductCDMA="CDMA"==t.response.productfamily,g_net_mode_status=g_ProductCDMA?MACRO_NET_MODE_C:MACRO_NET_MODE_W,g_net_mode_type="1"==t.response.multimode?MACRO_NET_DUAL_MODE:MACRO_NET_SINGLE_MODE)}),{sync:!0}),getAjaxData("api/online-update/configuration",(function(e){var t=xml2object(e);"response"==t.type&&(g_auto_update_enable=t.response.auto_update_enable)}),{sync:!0}),getConfigData("config/global/config.xml",(function(e){(g_feature=_xml2feature(e)).battery_enabled=g_feature.battery_enabled&&""!=G_MonitoringStatus.response.BatteryStatus,g_PageUrlTree=g_feature.menu,g_needToLogin=g_feature.login&&isFirmwareSupportsModule("api/wlan/basic-settings"),g_nedd_login=g_feature.login&&isFirmwareSupportsModule("api/wlan/basic-settings"),g_needFooter=g_feature.footer&&("old"==webui_mode||"material"==webui_mode),g_MainMenuNumber=force_new_sms&&force_new_ussd&&"old"==webui_mode?6:7,g_PositionInfo=g_feature.position_info,g_copyright_year=g_feature.copyright}),{sync:!0}),getConfigData("config/ussd/prepaidussd.xml",(function(e){var t=xml2object(e);"config"==t.type&&void 0!==g_PageUrlTree.ussd.prepaid.pre_fun_balanceInquiry&&""==t.config.USSD.BalanceInquiry.Items.Item.Command&&delete g_PageUrlTree.ussd.prepaid.pre_fun_balanceInquiry}),{sync:!0}),0==g_needToLogin&&getAjaxData("api/user/hilink_login",(function(e){var t=xml2object(e);"response"==t.type?(g_hilink_login_old_api=1,g_hilink_login_status=t.response.hilink_login,g_needToLogin=1==parseInt(t.response.hilink_login,10)):g_hilink_login_old_api=0}),{sync:!0}),getConfigData("config/global/net-type.xml",(function(e){var t=xml2object(e).config.networktypes;if($.isArray(t)){var n=0;for(n=0;n<t.length;n++)g_networktype[parseInt(t[n].index,10)]=t[n].networktype}}),{sync:!0}),getAjaxData("api/global/module-switch",(function(e){var t,n=xml2object(e);"response"==n.type&&(g_moduleswitch=n.response,g_module={ussd_enabled:"1"==g_moduleswitch.ussd_enabled,sdcard_enabled:!("1"!=g_moduleswitch.sdcard_enabled||!isSdCardEnabled()),online_update_enabled:"1"==g_moduleswitch.bbou_enabled,wifi_enabled:!("1"!=g_moduleswitch.wifi_enabled||!isFirmwareSupportsModule("api/wlan/basic-settings")),sms_enabled:"1"==g_moduleswitch.sms_enabled,pb_enabled:!("1"!=g_moduleswitch.pb_enabled||!isFirmwareSupportsModule("api/pb/pb-list")),autoapn_enabled:"1"==g_feature.autoapn_enabled,statistic_enabled:"1"==g_moduleswitch.statistic_enabled,checklogin_enabled:"1"==g_feature.login,help_enabled:"1"==g_moduleswitch.help_enabled,ap_station_enabled:"1"==g_feature.ap_station_enabled,multi_ssid_enabled:"1"==g_moduleswitch.multssid_enable,dlna_enabled:"1"==g_moduleswitch.dlna_enabled,stk_enabled:!("1"!=g_moduleswitch.stk_enabled||!isFirmwareSupportsModule("api/stk/stk-get-main")),ota_enabled:"1"==g_moduleswitch.ota_enabled,wifioffload_enable:!("1"!=g_moduleswitch.wifioffload_enabled||!isFirmwareSupportsModule("api/wlan/wifiprofile")),cradle_enabled:"1"==g_moduleswitch.cradle_enabled,vpn_enabled:"1"==g_moduleswitch.vpn_enabled,ipv6_enabled:"1"==g_moduleswitch.ipv6_enabled,monthly_volume_enabled:"1"==g_moduleswitch.monthly_volume_enabled,powersave_enabled:"1"==g_moduleswitch.powersave_enabled,fastboot_enabled:"1"==g_moduleswitch.fastboot_enabled,sntp_enabled:"1"==g_moduleswitch.sntp_enabled,dataswitch_enabled:"1"==g_moduleswitch.dataswitch_enabled,poweroff_enabled:!("1"!=g_moduleswitch.poweroff_enabled||!g_feature.battery_enabled),ddns_enabled:"1"==g_moduleswitch.ddns_enabled,sambashare_enabled:"1"==g_moduleswitch.sambashare_enabled,bridge_enabled:"1"==g_moduleswitch.bridge_enabled,local_update_enabled:"1"==g_moduleswitch.localupdate_enabled,fw_macfilter_enabled:"1"==g_moduleswitch.fw_macfilter_enabled,diagnosis_enabled:"1"==g_moduleswitch.diagnosis_enabled,voip_enabled:"1"==g_moduleswitch.voip_enabled,vsim_enabled:"1"==g_moduleswitch.vsim_enabled,cbs_enabled:"1"==g_moduleswitch.cbs_enabled,bluetooth_enabled:"1"==g_moduleswitch.bluetooth_enabled,cs_enable:"1"==g_moduleswitch.cs_enable,modsettings_enabled:(t=!1,$.ajax({type:"GET",url:"/modsettings.json",success:function(e,n,a){void 0!==e.response&&(t=!0)},dataType:"json",async:!1}),t)},g_needHelp=g_module.help_enabled,g_sms_mode=g_moduleswitch.session_sms_enabled)}),{sync:!0}),g_module.wifi_enabled&&getAjaxData("api/wlan/wifi-feature-switch",(function(e){var t=xml2object(e);"response"==t.type&&(g_wifiFeatureSwitch=t.response,g_wifi={stawpsenabled:"1"==g_wifiFeatureSwitch.stawpsenabled})}),{sync:!0}),getAjaxData("api/device/usb-tethering-switch",(function(e){var t=xml2object(e);"response"==t.type&&(g_USBtetheringSwitch=t.response.tetheringswitch)}),{sync:!0}),getConfigData("config/pcassistant/config.xml",(function(e){g_assistant_ret=xml2object(e),g_module.assistant_enabled="1"==g_assistant_ret.config.enable}),{sync:!0})}function formatFloat(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function getCurrentTime(e){var t="",n=parseInt(e,10),a=parseInt(n/3600,10);a>9?t+=a+":":a>=0&&(t+="0"+a+":"),n-=3600*a;var i=parseInt(n/60,10);return i>9?t+=i+":":i>0?t+="0"+i+":":0==i&&(t+="00:"),(n-=60*i)>9?t+=n:n>0?t+="0"+n:0==n&&(t+="00"),t}function getCurrentTimeArray(e){var t=[],n=parseInt(e,10),a=parseInt(n/3600/24,10);t.push(a),n-=3600*a*24;var i=parseInt(n/3600,10);t.push(i),n-=3600*i;var s=parseInt(n/60,10);t.push(s);var o=n-60*s;return t.push(o),t}function clickMenu(e){var t=$("."+e+" li ");$.each(t,(function(n){$(this).click((function(){if(!$(this).is('[data-disabled="true"]'))if($(this).hasClass("sub")&&$(this).hasClass("click"))$(this).removeClass("click");else{if($(this).hasClass("nosub"))return!0;$(t).removeClass("click"),$(this).addClass("click")}})),"menu_pb"!=e&&($(this).mouseover((function(){$(this).addClass("menu_hover")})),$(this).mouseout((function(){$(this).removeClass("menu_hover")})))}))}function button_enable(e,t){var n=$("#"+e);"1"==t?"material"==webui_mode?(n.removeClass("disable_btn"),n.removeClass("button_dialog"),n.removeClass("clr_gray_disable_btn_center"),n.removeAttr("disabled")):(n.removeClass("disable_btn"),n.removeClass("button_dialog"),n.removeClass("clr_gray_disable_btn_center"),n.addClass("button_dialog")):"0"==t&&("material"==webui_mode?(n.removeClass("disable_btn"),n.removeClass("clr_gray_disable_btn_center"),n.removeClass("button_dialog"),n.attr("disabled","")):(n.removeClass("disable_btn"),n.removeClass("clr_gray_disable_btn_center"),n.removeClass("button_dialog"),n.addClass("disable_btn"),n.addClass("clr_gray_disable_btn_center")))}function allButton_enable(e){var t=$(".button_wrapper input");"1"==e?"material"==webui_mode?(t.removeClass("disable_btn"),t.removeClass("button_dialog"),t.removeClass("clr_gray_disable_btn_center"),t.removeAttr("disabled")):(t.removeClass("disable_btn"),t.removeClass("button_dialog"),t.removeClass("clr_gray_disable_btn_center"),t.addClass("button_dialog")):"0"==e&&("material"==webui_mode?(t.removeClass("disable_btn"),t.removeClass("clr_gray_disable_btn_center"),t.removeClass("button_dialog"),t.attr("disabled","")):(t.removeClass("disable_btn"),t.removeClass("clr_gray_disable_btn_center"),t.removeClass("button_dialog"),t.addClass("disable_btn"),t.addClass("clr_gray_disable_btn_center")))}function refresh(){window.location.reload()}function gotoPageWithoutHistory(e){window.location.replace(e)}function gotoPageWithHistory(e){window.location.href=e}function showPasswordStrength(e){var t='<div class="pwd_strength"><table><tr><td style="color:red;">'+IDS_psw_strength_label+common_colon+"</td>";t+='<td><table class="pwd_strength_tb" border="0" cellpadding="0" cellspacing="0"><tr><td id="pwd_strength_low" width="33.3%" align="center">'+IDS_psw_strength_low+"</td>",t+='<td id="pwd_strength_mid" width="33.3%" align="center">'+IDS_psw_strength_mid+"</td>",t+='<td id="pwd_strength_hig" width="33.3%" align="center">'+IDS_psw_strength_hig+"</td></tr></table></td></tr></table></div>",$("#"+e).after(t)}function clearPasswordStrength(){$(".pwd_strength").remove()}function setPWDStrengthColor(e){MACRO_PASSWORD_LOW==e?($("#pwd_strength_low").css({"background-color":"red"}),$("#pwd_strength_mid, #pwd_strength_hig").css({"background-color":"gray"})):MACRO_PASSWORD_MID==e?($("#pwd_strength_low, #pwd_strength_mid").css({"background-color":"orange"}),$("#pwd_strength_hig").css({"background-color":"gray"})):MACRO_PASSWORD_HIG==e?$("#pwd_strength_low, #pwd_strength_mid, #pwd_strength_hig").css({"background-color":"green"}):$("#pwd_strength_low, #pwd_strength_mid, #pwd_strength_hig").css({"background-color":"gray"})}function showErrorUnderTextbox(e,t,n){var a="";a=null!=n&&""!=n&&" "!=n?"<div class='error_message'><label id='"+n+"'>"+t+"</label><div>":"<div class='error_message'><label>"+t+"</label><div>",0==$("#"+e).parent().children(".error_message").length&&$("#"+e).after(a)}function showErrorUnderTr(e,t,n){var a="";a=null!=n&&""!=n&&" "!=n?"<tr class='error_message'><td></td><td colspan='2'><label id='"+n+"'>"+t+"</label></td></tr>":"<tr class='error_message'><td></td><td colspan='2'><label>"+t+"</label></td></tr>",$("#"+e).after(a)}function showErrorUnderTrEx(e,t,n){var a="";a=null!=n&&""!=n&&" "!=n?"<tr class='error_message'><td></td><td colspan='2'><label id='"+n+"'>"+t+"</label></td></tr>":"<tr class='error_message'><td></td><td colspan='2'><label>"+t+"</label></td></tr>",$("#"+e).parent().parent().after(a)}function showPassword(e,t){var n=$("#"+t).attr("checked")?"text":"password",a=$("#"+e).val();$("<input id= "+e+" type='"+n+"'  autocomplete='off' size='25'  maxlength='64' />").replaceAll($("#"+e)),$("#"+e).val(a)}var COMMON_PASSWORD_VALUE="********",mousedownIndexList=[],rng_state,rng_pool,rng_pptr;function checkPostIndex(e){if(void 0===g_moduleswitch.encrypt_enabled||1!=g_moduleswitch.encrypt_enabled)return!1;var t=!1;return $.each(mousedownIndexList,(function(n,a){a==e&&(t=!0)})),!t}function clickPasswordEvent(e,t){if(void 0===g_moduleswitch.encrypt_enabled||1!=g_moduleswitch.encrypt_enabled)return!1;$("#"+e).live("mousedown focusin click",(function(n){var a=!1;$.each(mousedownIndexList,(function(e,n){n==t&&(a=!0)})),a||(mousedownIndexList.push(t),$("#"+e).val().length>0&&$("#"+e).attr("value",""))}))}function clearAllErrorLabel(){$(".error_message").remove()}function showWaitingDialog(e,t,n){if(t=display_SIMtoUIM(t),"material"==webui_mode){var a="<h4 class='mdl-dialog__title'>"+e+"</h4><div class='mdl-dialog__content'><center><div class='preloader-wrapper big active'><div class='spinner-layer spinner-blue'><div class='circle-clipper left'><div class='circle'></div></div><div class='gap-patch'><div class='circle'></div></div><div class='circle-clipper right'><div class='circle'></div></div></div><div class='spinner-layer spinner-red'><div class='circle-clipper left'><div class='circle'></div></div><div class='gap-patch'><div class='circle'></div></div><div class='circle-clipper right'><div class='circle'></div></div></div><div class='spinner-layer spinner-yellow'><div class='circle-clipper left'><div class='circle'></div></div><div class='gap-patch'><div class='circle'></div></div><div class='circle-clipper right'><div class='circle'></div></div></div><div class='spinner-layer spinner-green'><div class='circle-clipper left'><div class='circle'></div></div><div class='gap-patch'><div class='circle'></div></div><div class='circle-clipper right'><div class='circle'></div></div></div></div><p>"+t+"</p></center></div><div class='mdl-dialog__actions'><a href='javascript:void(0);' id='pop_Cancel' class='mdl-button'>"+common_close+"</a></div>",i=document.createElement("dialog");i.id="wait_table",i.className="wait_table mdl-dialog",i.innerHTML=a,$("body").append(i),i.showModal||dialogPolyfill.registerDialog(i),i.showModal(),$("#pop_Cancel").bind("click",(function(){closeWaitingDialog()}))}else{$("#div_wrapper").remove();a="<div id='div_wrapper'><iframe   id='ifream_dialog'  src= '' frameborder= '0' style= 'background:#bcbcbc; width:100%; height:100%; display: block;'> </iframe></div>"+("<table colspacing='0' cellspacing='0' id='wait_table' class='wait_table'><tr><td><div class='wait_table_header'><label class='wait_title clr_white'>"+e+"</label><span class='wait_dialog_btn' id='wait_dialog_btn' ><canvas id='showWaitingCanvas' width='25px' height='25px'></canvas></span></div></td></tr><tr><td><div class='wait_table_content clr_bold'><div class='wait_wrapper'><div class='wait_image'><img src='../res/waiting.gif' alt=''/></div><div class='wait_str clr_bold'>"+t+"</div></div></div></td></tr><tr><td><div class='wait_table_bottom'></div></td></tr></table>");if($("body").append(a),$.browser.msie&&parseInt($.browser.version,10)<9){$(".wait_table_header").css({width:"377px",height:"26px"}),$(".wait_table_header").corner("top 5px");$(".wait_table_header span").append("<img src='../res/new_del.png' title='' alt='' />")}else{draw(document.getElementById("showWaitingCanvas"))}reputPosition($("#wait_table"),$("#div_wrapper")),$("#wait_dialog_btn").bind("click",(function(){closeWaitingDialog()}))}"function"==typeof n&&n(),disableTabKey()}function closeWaitingDialog(e){0==$(".info_dialog").size()&&$("#div_wrapper").remove(),"material"==webui_mode&&document.querySelectorAll("#wait_table").forEach((function(e,t,n){e.close()})),$("#wait_table").remove(),enableTabKey(),"function"==typeof e&&e()}function getGMonitoringStatus(){null==G_MonitoringStatus&&getAjaxData("api/monitoring/status",(function(e){var t=xml2object(e);"response"==t.type&&(G_MonitoringStatus=t)}),{sync:!0})}function getDeviceStatus(){if(!g_is_login_opened){"0"==firstTimeMontitoringStatusQuery?(firstTimeMontitoringStatusQuery="1",$.browser.opera&&"11.00"==$.browser.version?getAjaxData("api/monitoring/status",(function(e){var t=xml2object(e);"response"==t.type&&(G_MonitoringStatus=t,DATA_READY.statusReady=!0,execEachFunList(),getPlmn(),MACRO_NET_DUAL_MODE==g_net_mode_type&&getMainNetMode(),getAjaxData("api/monitoring/check-notifications",(function(e){G_NotificationsStatus=null;var t=xml2object(e);"response"==t.type&&(g_module.online_update_enabled&&30==t.response.OnlineUpdateStatus&&"0"==g_needToLogin&&window.location.href.toLowerCase().indexOf("update.html")<0&&(window.location.href="update.html"),G_NotificationsStatus=t.response,showNotification(),DATA_READY.notificationsReady=!0,execEachFunList())})))})):getAjaxData("api/monitoring/status",(function(e){var t=xml2object(e);"response"==t.type&&(G_MonitoringStatus=t,DATA_READY.statusReady=!0,execEachFunList(),getPlmn(),MACRO_NET_DUAL_MODE==g_net_mode_type&&getMainNetMode(),getAjaxData("api/monitoring/check-notifications",(function(e){G_NotificationsStatus=null;var t=xml2object(e);"response"==t.type&&(g_module.online_update_enabled&&30==t.response.OnlineUpdateStatus&&"0"==g_needToLogin&&window.location.href.toLowerCase().indexOf("update.html")<0&&(window.location.href="update.html"),G_NotificationsStatus=t.response,showNotification(),DATA_READY.notificationsReady=!0,execEachFunList())})))}),{sync:!0})):getAjaxData("api/monitoring/status",(function(e){var t=xml2object(e);"response"==t.type&&(G_MonitoringStatus=t,DATA_READY.statusReady=!0,execEachFunList(),getPlmn(),MACRO_NET_DUAL_MODE==g_net_mode_type&&getMainNetMode(),getAjaxData("api/monitoring/check-notifications",(function(e){G_NotificationsStatus=null;var t=xml2object(e);"response"==t.type&&(g_module.online_update_enabled&&30==t.response.OnlineUpdateStatus&&"0"==g_needToLogin&&window.location.href.toLowerCase().indexOf("update.html")<0&&(window.location.href="update.html"),G_NotificationsStatus=t.response,showNotification(),DATA_READY.notificationsReady=!0,execEachFunList())})))})),g_module.wifioffload_enable&&getAjaxData("api/wlan/station-information",(function(e){var t=xml2object(e);"response"==(G_StationStatus=t).type&&(""!=g_stationInfo&&G_StationStatus.response.NetworkName==g_stationInfo.response.NetworkName&&G_StationStatus.response.CurrentSecMode==g_stationInfo.response.CurrentSecMode&&null!=G_MonitoringStatus&&"response"==G_MonitoringStatus.type&&(g_wifiStatusInfo==G_MonitoringStatus.response.WifiConnectionStatus?g_stationInfoFlag=!0:g_wifiStatusInfo=G_MonitoringStatus.response.WifiConnectionStatus),g_stationInfo=t),DATA_READY.apStationReady=!0,execEachFunList()})),g_module.cradle_enabled?getAjaxData("api/cradle/status-info",(function(e){var t=xml2object(e);"response"==t.type&&(G_cradleStationStatus=t.response),DATA_READY.cradleReady=!0,execEachFunList()})):($("#ethernet_connection").remove(),$("#only_ethernet_connection").remove());var strUrl="api/wlan/basic-settings";g_module.multi_ssid_enabled&&(strUrl="api/wlan/multi-security-settings"),g_module.wifi_enabled&&void 0!==g_wifiFeatureSwitch&&WIFI5G_ON==g_wifiFeatureSwitch.wifi5g_enabled&&getAjaxData(strUrl,(function(e){var t=xml2object(e);"response"==t.type&&(g_wlanInfo=t.response)})),g_decive_timer=setTimeout(getDeviceStatus,g_feature.update_interval)}function execEachFunList(){g_module.cradle_enabled&&0==DATA_READY.cradleReady||g_module.wifioffload_enable&&0==DATA_READY.apStationReady||0==DATA_READY.statusReady||0==DATA_READY.notificationsReady||(execFunList(),DATA_READY.statusReady=!1,DATA_READY.notificationsReady=!1,DATA_READY.apStationReady=!1,DATA_READY.cradleReady=!1)}function execFunList(){alreadyStatusListnerExecuted="1",$.each(STATUS_LISTENER_FUN_LIST,(function(n,value){eval(value)}))}}function getPlmn(){function e(e,t){return void 0===e||""==e||" "==e?t:e}if(g_plmn_rat="",G_MonitoringStatus.response.ServiceStatus==SERVICE_STATUS_AVAIABLE)if(void 0!==G_MonitoringStatus.response.CurrentNetworkTypeEx&&""!=G_MonitoringStatus.response.CurrentNetworkTypeEx)switch(G_MonitoringStatus.response.CurrentNetworkTypeEx){case MACRO_NET_WORK_TYPE_EX_GSM:case MACRO_NET_WORK_TYPE_EX_GPRS:case MACRO_NET_WORK_TYPE_EX_EDGE:case MACRO_NET_WORK_TYPE_EX_IS95A:case MACRO_NET_WORK_TYPE_EX_IS95B:case MACRO_NET_WORK_TYPE_EX_CDMA_1x:case MACRO_NET_WORK_TYPE_EX_HYBRID_CDMA_1x:g_plmn_rat=e(g_networktype[parseInt(G_MonitoringStatus.response.CurrentNetworkTypeEx,10)],plmn_label_2g);break;case MACRO_NET_WORK_TYPE_EX_EVDO_REV_0:case MACRO_NET_WORK_TYPE_EX_EVDO_REV_A:case MACRO_NET_WORK_TYPE_EX_EVDO_REV_B:case MACRO_NET_WORK_TYPE_EX_HYBRID_EVDO_REV_0:case MACRO_NET_WORK_TYPE_EX_HYBRID_EVDO_REV_A:case MACRO_NET_WORK_TYPE_EX_HYBRID_EVDO_REV_B:case MACRO_NET_WORK_TYPE_EX_EHRPD_REL_0:case MACRO_NET_WORK_TYPE_EX_EHRPD_REL_A:case MACRO_NET_WORK_TYPE_EX_EHRPD_REL_B:case MACRO_NET_WORK_TYPE_EX_HYBRID_EHRPD_REL_0:case MACRO_NET_WORK_TYPE_EX_HYBRID_EHRPD_REL_A:case MACRO_NET_WORK_TYPE_EX_HYBRID_EHRPD_REL_B:case MACRO_NET_WORK_TYPE_EX_WCDMA:case MACRO_NET_WORK_TYPE_EX_HSDPA:case MACRO_NET_WORK_TYPE_EX_HSUPA:case MACRO_NET_WORK_TYPE_EX_HSPA:case MACRO_NET_WORK_TYPE_EX_HSPA_PLUS:case MACRO_NET_WORK_TYPE_EX_DC_HSPA_PLUS:case MACRO_NET_WORK_TYPE_EX_TD_SCDMA:case MACRO_NET_WORK_TYPE_EX_TD_HSDPA:case MACRO_NET_WORK_TYPE_EX_TD_HSUPA:case MACRO_NET_WORK_TYPE_EX_TD_HSPA:case MACRO_NET_WORK_TYPE_EX_TD_HSPA_PLUS:g_plmn_rat=e(g_networktype[parseInt(G_MonitoringStatus.response.CurrentNetworkTypeEx,10)],plmn_label_3g);break;case MACRO_NET_WORK_TYPE_EX_LTE:g_plmn_rat=e(g_networktype[parseInt(G_MonitoringStatus.response.CurrentNetworkTypeEx,10)],plmn_label_4g)}else switch(G_MonitoringStatus.response.CurrentNetworkType){case MACRO_NET_WORK_TYPE_GSM:case MACRO_NET_WORK_TYPE_GPRS:case MACRO_NET_WORK_TYPE_EDGE:case MACRO_NET_WORK_TYPE_1xRTT:case MACRO_NET_WORK_TYPE_1xEVDV:g_plmn_rat=e(g_networktype[parseInt(G_MonitoringStatus.response.CurrentNetworkType,10)],plmn_label_2g);break;case MACRO_NET_WORK_TYPE_WCDMA:case MACRO_NET_WORK_TYPE_TDSCDMA:case MACRO_NET_WORK_TYPE_EVDO_REV_0:case MACRO_NET_WORK_TYPE_EVDO_REV_A:case MACRO_NET_WORK_TYPE_EVDO_REV_B:case MACRO_NET_WORK_TYPE_HSDPA:case MACRO_NET_WORK_TYPE_HSUPA:case MACRO_NET_WORK_TYPE_HSPA:case MACRO_NET_WORK_TYPE_HSPA_PLUS:case MACRO_NET_WORK_TYPE_HSPA_PLUS_64QAM:case MACRO_NET_WORK_TYPE_HSPA_PLUS_MIMO:g_plmn_rat=e(g_networktype[parseInt(G_MonitoringStatus.response.CurrentNetworkType,10)],plmn_label_3g);break;case MACRO_NET_WORK_TYPE_LTE:g_plmn_rat=e(g_networktype[parseInt(G_MonitoringStatus.response.CurrentNetworkType,10)],plmn_label_4g)}return g_net_mode=""==g_plmn_rat||void 0===g_plmn_rat?dialup_label_no_service:g_plmn_rat,g_plmn_rat}function getMainNetMode(){var e=null;if(void 0!==G_MonitoringStatus.response.CurrentNetworkTypeEx&&""!=G_MonitoringStatus.response.CurrentNetworkTypeEx)switch(G_MonitoringStatus.response.CurrentNetworkTypeEx){case MACRO_NET_WORK_TYPE_EX_IS95A:case MACRO_NET_WORK_TYPE_EX_IS95B:case MACRO_NET_WORK_TYPE_EX_CDMA_1x:case MACRO_NET_WORK_TYPE_EX_EVDO_REV_0:case MACRO_NET_WORK_TYPE_EX_EVDO_REV_A:case MACRO_NET_WORK_TYPE_EX_EVDO_REV_B:case MACRO_NET_WORK_TYPE_EX_HYBRID_CDMA_1x:case MACRO_NET_WORK_TYPE_EX_HYBRID_EVDO_REV_0:case MACRO_NET_WORK_TYPE_EX_HYBRID_EVDO_REV_A:case MACRO_NET_WORK_TYPE_EX_HYBRID_EVDO_REV_B:case MACRO_NET_WORK_TYPE_EX_EHRPD_REL_0:case MACRO_NET_WORK_TYPE_EX_EHRPD_REL_A:case MACRO_NET_WORK_TYPE_EX_EHRPD_REL_B:case MACRO_NET_WORK_TYPE_EX_HYBRID_EHRPD_REL_0:case MACRO_NET_WORK_TYPE_EX_HYBRID_EHRPD_REL_A:case MACRO_NET_WORK_TYPE_EX_HYBRID_EHRPD_REL_B:e=MACRO_NET_MODE_C;break;case MACRO_NET_WORK_TYPE_EX_GSM:case MACRO_NET_WORK_TYPE_EX_GPRS:case MACRO_NET_WORK_TYPE_EX_EDGE:case MACRO_NET_WORK_TYPE_EX_WCDMA:case MACRO_NET_WORK_TYPE_EX_HSDPA:case MACRO_NET_WORK_TYPE_EX_HSUPA:case MACRO_NET_WORK_TYPE_EX_HSPA:case MACRO_NET_WORK_TYPE_EX_HSPA_PLUS:case MACRO_NET_WORK_TYPE_EX_DC_HSPA_PLUS:case MACRO_NET_WORK_TYPE_EX_TD_SCDMA:case MACRO_NET_WORK_TYPE_EX_TD_HSDPA:case MACRO_NET_WORK_TYPE_EX_TD_HSUPA:case MACRO_NET_WORK_TYPE_EX_TD_HSPA:case MACRO_NET_WORK_TYPE_EX_TD_HSPA_PLUS:case MACRO_NET_WORK_TYPE_EX_LTE:e=MACRO_NET_MODE_W}else switch(G_MonitoringStatus.response.CurrentNetworkType){case MACRO_NET_WORK_TYPE_EVDO_REV_0:case MACRO_NET_WORK_TYPE_EVDO_REV_A:case MACRO_NET_WORK_TYPE_EVDO_REV_B:case MACRO_NET_WORK_TYPE_1xRTT:case MACRO_NET_WORK_TYPE_UMB:case MACRO_NET_WORK_TYPE_1xEVDV:case MACRO_NET_WORK_TYPE_3xRTT:e=MACRO_NET_MODE_C;break;case MACRO_NET_WORK_TYPE_GSM:case MACRO_NET_WORK_TYPE_GPRS:case MACRO_NET_WORK_TYPE_EDGE:case MACRO_NET_WORK_TYPE_WCDMA:case MACRO_NET_WORK_TYPE_HSDPA:case MACRO_NET_WORK_TYPE_HSUPA:case MACRO_NET_WORK_TYPE_HSPA:case MACRO_NET_WORK_TYPE_TDSCDMA:case MACRO_NET_WORK_TYPE_HSPA_PLUS:case MACRO_NET_WORK_TYPE_HSPA_PLUS_64QAM:case MACRO_NET_WORK_TYPE_HSPA_PLUS_MIMO:case MACRO_NET_WORK_TYPE_LTE:e=MACRO_NET_MODE_W}null!=e&&g_net_mode_status!=e&&(g_net_mode_status!=MACRO_NET_MODE_W&&g_net_mode_status!=MACRO_NET_MODE_C||(g_judgeApplyFlag?g_judgeApplyFlag=!1:showInfoDialog(IDS_common_netmode_change)),g_net_mode_status=e,g_net_mode_change=MACRO_NET_MODE_CHANGE)}function resetNetModeChange(){g_net_mode_change=MACRO_NET_MODE_RESET}function checkOffloadEnabled(){checkValueIsNull(G_cradleStationStatus)?g_module.cradle_enabled&&CRADLE_NETLINE_EXIST==G_cradleStationStatus.cradlestatus&&ETHERNET_LAN_MODE!=G_cradleStationStatus.connectionmode&&CRADLEAUTOMODE!=G_cradleStationStatus.connectionmode&&showInfoDialog(IDS_function_disabled.replace("%s1","cradle").replace("%s2","offload"),!1,disableEntirePage):setTimeout(checkOffloadEnabled,50)}function checkValueIsNull(e){return null!=e&&void 0!==e}function initialStatusIcon(){var e="";e="ar_sa"==LANGUAGE_DATA.current_language||"he_il"==LANGUAGE_DATA.current_language||"fa_fa"==LANGUAGE_DATA.current_language?{my:"top left",at:"bottom center"}:{my:"top right",at:"bottom center"},addStatusListener("getIconStatus()"),"1"==alreadyStatusListnerExecuted&&getIconStatus(),$(".qtip").qtip("destroy",!0),g_module.sms_enabled&&$("#tooltip_sms").qtip({id:"sms",prerender:!0,content:"<b>"+STATUS_BAR_ICON_STATUS.unread_sms_tooltip_state+"</b>",position:e}),g_module.online_update_enabled&&$("#tooltip_update").qtip({id:"upd",prerender:!0,content:"<b>"+common_new_version+"</b>",position:e}),$("#sim_signal_gif").qtip({id:"sim",prerender:!0,content:"<b>"+STATUS_BAR_ICON_STATUS.sim_signal_tooltip_state+"</b>",position:e}),$("#wan_gif").qtip({id:"wan",prerender:!0,content:"<b>"+STATUS_BAR_ICON_STATUS.wan_tooltip_state+"</b>",position:e}),$("#wifi_gif").qtip({id:"wifi",prerender:!0,content:"<b>"+STATUS_BAR_ICON_STATUS.wifi_tooltip_state+"</b>",position:e}),$("#battery_gif").qtip({id:"battery",prerender:!0,content:"<b>"+STATUS_BAR_ICON_STATUS.battery_tooltip_state+"</b>",position:e}),$("#tooltip_sms_full").qtip({id:"sms_full",prerender:!0,content:"<b>"+sms_message_full+"</b>",position:e}),$("#station_gif").qtip({id:"station",prerender:!0,content:"<b>"+STATUS_BAR_ICON_STATUS.station_tooltip_state+"</b>",position:e}),$("#indoor_gif").qtip({id:"indoor",prerender:!0,content:"<b>"+STATUS_BAR_ICON_STATUS.wifi_indoor_tooltip_state+"</b>",position:e})}function refreshSimcardStatus(){getAjaxData("api/monitoring/converged-status",(function(e){var t=xml2object(e);"response"==t.type&&(g_main_convergedStatus=t.response)})),g_simcard_timer=setTimeout(refreshSimcardStatus,SIMCARD_STATUS_REFRESH)}function qtps_signal(){var e="",t="",n="",a="",i="",s="",o="";return getAjaxData("api/device/signal",(function(e){var _=xml2object(e);"response"==_.type&&(null!=_.response.rssi&&(t=_.response.rssi),null!=_.response.rsrp&&(a=_.response.rsrp),null!=_.response.rsrq&&(i=_.response.rsrq),null!=_.response.sinr&&(n=_.response.sinr),null!=_.response.rscp&&(s=_.response.rscp),null!=_.response.ecio&&(o=_.response.ecio))}),{sync:!0}),""==t&&getAjaxData("api/net/signal-para",(function(e){var n=xml2object(e);"response"==n.type&&null!=n.response.Rssi&&(t=n.response.Rssi)}),{sync:!0}),""==t&&getConfigData("config/deviceinformation/add_param.xml",(function(e){var n=xml2object(e);"config"==n.type&&null!=n.config.rssi&&""!=(t=n.config.rssi)&&(t+="dBm")}),{sync:!0}),e="RSSI: "+(""!=t?t:common_unknown),""!=a&&(e+="<br>RSRP: "+a),""!=i&&(e+="<br>RSRQ : "+i),""!=n&&(e+="<br>SINR: "+n),""!=s&&(e+="<br>RSCP: "+s),""!=o&&(e+="<br>Ec/Io: "+o),e}function qtps_multissid(){var e="";return getAjaxData("api/wlan/multi-basic-settings",(function(t){var n=xml2object(t);if("response"==n.type&&void 0!==n.response.Ssids.Ssid)for(var a=0;a<n.response.Ssids.Ssid.length;a++)e+=n.response.Ssids.Ssid[a].WifiSsid+common_colon+" "+n.response.Ssids.Ssid[a].WifiAssociatedStationNum+(a!=n.response.Ssids.Ssid.length-1?"<br>":"")}),{sync:!0}),e}function getIconStatus(){alreadyStatusListnerExecuted="0";var e="0",t=G_MonitoringStatus,n=G_StationStatus,a="0";if(null!=t&&"response"==t.type){if(header_icon_status.ConnectionStatus=t.response.ConnectionStatus,g_module.cradle_enabled&&checkValueIsNull(G_cradleStationStatus)&&CRADLE_NETLINE_EXIST==G_cradleStationStatus.cradlestatus&&ETHERNET_LAN_MODE!=G_cradleStationStatus.connectionmode&&CRADLEAUTOMODE!=G_cradleStationStatus.connectionmode){header_icon_status.ConnectionStatus=G_cradleStationStatus.connectstatus}if(void 0!==t.response.SignalIcon||null!=t.response.SignalIcon?header_icon_status.SignalStrength=t.response.SignalIcon:header_icon_status.SignalStrength=parseInt(t.response.SignalStrength/20,10).toString(),header_icon_status.BatteryStatus=t.response.BatteryStatus,header_icon_status.BatteryLevel=t.response.BatteryLevel,header_icon_status.BatteryPercent=t.response.BatteryPercent,header_icon_status.SimStatus=t.response.SimStatus,header_icon_status.WifiStatus=t.response.WifiStatus,void 0!==t.response.CurrentNetworkTypeEx&&""!=t.response.CurrentNetworkTypeEx?header_icon_status.CurrentNetworkType=t.response.CurrentNetworkTypeEx:header_icon_status.CurrentNetworkType=t.response.CurrentNetworkType,$.browser.msie&&"6.0"==$.browser.version||g_BatteryStatus!=header_icon_status.BatteryStatus||g_BatteryLevel!=header_icon_status.BatteryLevel||"1"==g_coulometer_status&&g_BatteryPercent!=header_icon_status.BatteryPercent){switch(g_BatteryStatus!=header_icon_status.BatteryStatus&&("1"==g_coulometer_status?(g_coulometer_BatteryStatus=null,g_BatteryLevel=header_icon_status.BatteryLevel):g_BatteryLevel=null,g_BatteryStatus=header_icon_status.BatteryStatus),header_icon_status.BatteryStatus){case MACRO_BATTERY_STATUS_NORMAL:"1"!=g_coulometer_status||g_BatteryPercent==header_icon_status.BatteryPercent&&g_coulometer_BatteryStatus==header_icon_status.BatteryStatus?($.browser.msie&&"6.0"==$.browser.version||g_BatteryLevel!=header_icon_status.BatteryLevel)&&(g_BatteryLevel=header_icon_status.BatteryLevel,getBatteryLevel(header_icon_status.BatteryLevel)):(g_BatteryPercent=header_icon_status.BatteryPercent,g_coulometer_BatteryStatus=header_icon_status.BatteryStatus,getBatteryLevel(header_icon_status.BatteryPercent)),$("#battery_gif").show();break;case MACRO_BATTERY_STATUS_LOW:if("1"==g_coulometer_status){if(STATUS_BAR_ICON_STATUS.battery_tooltip_state=header_icon_status.BatteryPercent+"%",null!=g_lastBatteryStatus&&MACRO_BATTERY_STATUS_ELECT==g_lastBatteryStatus)break;$("#battery_gif").html("<img   src = '../res/battery_elect.gif' />"),$("#battery_gif").show()}else{if(STATUS_BAR_ICON_STATUS.battery_tooltip_state=battery_recharging+" ("+header_icon_status.BatteryPercent+"%)",null!=g_lastBatteryStatus&&MACRO_BATTERY_STATUS_ELECT==g_lastBatteryStatus&&null!=last_battery_level&&header_icon_status.BatteryLevel==last_battery_level)break;switch(header_icon_status.BatteryLevel){case MACRO_BATTERY_LEVEL_ZERO:$("#battery_gif").html("<img   src = '../res/battery_elect_0.gif' />");break;case MACRO_BATTERY_LEVEL_ONE:$("#battery_gif").html("<img   src = '../res/battery_elect_25.gif' />");break;case MACRO_BATTERY_LEVEL_TWO:$("#battery_gif").html("<img   src = '../res/battery_elect_50.gif' />");break;case MACRO_BATTERY_LEVEL_THREE:$("#battery_gif").html("<img   src = '../res/battery_elect_75.gif' />");break;default:$("#battery_gif").html("<img   src = '../res/battery_elect.gif' />")}$("#battery_gif").show(),last_battery_level=header_icon_status.BatteryLevel}break;case MACRO_BATTERY_STATUS_ELECT:if(STATUS_BAR_ICON_STATUS.battery_tooltip_state="1"==g_coulometer_status?header_icon_status.BatteryPercent+"%":battery_recharging,null!=g_lastBatteryStatus&&MACRO_BATTERY_STATUS_ELECT==g_lastBatteryStatus)break;$("#battery_gif").html("<img   src = '../res/battery_elect.gif' />"),$("#battery_gif").show();break;case MACRO_BATTERY_STATUS_NOBATTERY:$("#battery_gif").hide(),STATUS_BAR_ICON_STATUS.battery_tooltip_state="";break;default:$("#battery_gif").show(),"1"==g_coulometer_status?getBatteryLevel(header_icon_status.BatteryPercent):(STATUS_BAR_ICON_STATUS.battery_tooltip_state=common_battery,$("#battery_gif").html("<img   src = '../res/battery_low.gif'  />"))}g_lastBatteryStatus=header_icon_status.BatteryStatus}if($.browser.msie&&"6.0"==$.browser.version||g_WifiStatus!=header_icon_status.WifiStatus)switch(g_WifiStatus=header_icon_status.WifiStatus,header_icon_status.WifiStatus){case MACRO_WIFI_OFF:$("#wifi_gif").html("<img onload = 'fixPNG(this)' src = '../res/wifi_"+MACRO_WIFI_OFF+".png' 0 0 no-repeat>"),STATUS_BAR_ICON_STATUS.wifi_tooltip_state=wlan_label_wlan_off;break;case MACRO_WIFI_ON:null!=typeof G_MonitoringStatus.response.wififrequence?void 0!==g_wifiFeatureSwitch&&WIFI5G_ON==g_wifiFeatureSwitch.wifi5g_enabled&&G_MonitoringStatus.response.wififrequence==WIFI5G_ON?$("#wifi_gif").html("<img onload = 'fixPNG(this)'  src = '../res/wifi_"+MACRO_WIFI_5G+".png' 0 0 no-repeat>"):$("#wifi_gif").html("<img onload = 'fixPNG(this)'  src = '../res/wifi_"+MACRO_WIFI_ON+".png' 0 0 no-repeat>"):void 0!==g_wifiFeatureSwitch&&WIFI5G_ON==g_wifiFeatureSwitch.wifi5g_enabled&&"a/n"==g_wlanInfo.WifiMode?$("#wifi_gif").html("<img onload = 'fixPNG(this)'  src = '../res/wifi_"+MACRO_WIFI_5G+".png' 0 0 no-repeat>"):$("#wifi_gif").html("<img onload = 'fixPNG(this)'  src = '../res/wifi_"+MACRO_WIFI_ON+".png' 0 0 no-repeat>"),STATUS_BAR_ICON_STATUS.wifi_tooltip_state=qtps_multissid()?qtps_multissid():wlan_label_wlan_on;break;default:$("#wifi_gif").html("<img onload = 'fixPNG(this)' src = '../res/wifi_"+MACRO_WIFI_OFF+".png' 0 0 no-repeat>"),STATUS_BAR_ICON_STATUS.wifi_tooltip_state=wlan_label_wlan_off}if(g_WifiStatus==header_icon_status.WifiStatus&&MACRO_WIFI_ON==header_icon_status.WifiStatus&&(void 0!==G_MonitoringStatus.response.wififrequence?"-1"==wifi5g_icon_flag&&void 0!==g_wifiFeatureSwitch&&WIFI5G_ON==g_wifiFeatureSwitch.wifi5g_enabled&&G_MonitoringStatus.response.wififrequence==WIFI5G_ON?($("#wifi_gif").html("<img onload = 'fixPNG(this)'  src = '../res/wifi_"+MACRO_WIFI_5G+".png' 0 0 no-repeat>"),wifi5g_icon_flag=0,wifion_icon_flag=-1):"-1"!=wifion_icon_flag||void 0!==g_wifiFeatureSwitch&&WIFI5G_ON==g_wifiFeatureSwitch.wifi5g_enabled&&G_MonitoringStatus.response.wififrequence==WIFI5G_ON||($("#wifi_gif").html("<img onload = 'fixPNG(this)'  src = '../res/wifi_"+MACRO_WIFI_ON+".png' 0 0 no-repeat>"),wifion_icon_flag=0,wifi5g_icon_flag=-1):"-1"==wifi5g_icon_flag&&void 0!==g_wifiFeatureSwitch&&WIFI5G_ON==g_wifiFeatureSwitch.wifi5g_enabled&&"a/n"==g_wlanInfo.WifiMode?($("#wifi_gif").html("<img onload = 'fixPNG(this)'  src = '../res/wifi_"+MACRO_WIFI_5G+".png' 0 0 no-repeat>"),wifi5g_icon_flag=0,wifion_icon_flag=-1):"-1"!=wifion_icon_flag||void 0!==g_wifiFeatureSwitch&&WIFI5G_ON==g_wifiFeatureSwitch.wifi5g_enabled&&"a/n"==g_wlanInfo.WifiMode||($("#wifi_gif").html("<img onload = 'fixPNG(this)'  src = '../res/wifi_"+MACRO_WIFI_ON+".png' 0 0 no-repeat>"),wifion_icon_flag=0,wifi5g_icon_flag=-1),STATUS_BAR_ICON_STATUS.wifi_tooltip_state=qtps_multissid()?qtps_multissid():wlan_label_wlan_on),WIFI5G_ON==g_wifiFeatureSwitch.wifi5g_enabled&&void 0!==t.response.wifiindooronly?(g_WifiIndoorStatus!=t.response.wifiindooronly||$.browser.msie&&"6.0"==$.browser.version)&&(g_WifiIndoorStatus=t.response.wifiindooronly,1==t.response.wifiindooronly?($("#indoor_gif").html("<img onload = 'fixPNG(this)'  src = '../res/wifi_indoor.png' 0 0 no-repeat>"),STATUS_BAR_ICON_STATUS.wifi_indoor_tooltip_state=wlan_label_5gWifi_indoor,$("#indoor_gif").show()):$("#indoor_gif").hide()):$("#indoor_gif").hide(),g_SimStatus==g_main_convergedStatus.SimState&&g_hSimStatus==header_icon_status.SimStatus||(("new"==webui_mode&&G_MonitoringStatus.response.WifiConnectionStatus!=WIFI_CONNECTED||"new"!=webui_mode)&&(g_SimStatus=g_main_convergedStatus.SimState,g_hSimStatus=header_icon_status.SimStatus),sign_enable=0,MACRO_PIN_REQUIRED==g_main_convergedStatus.SimState?("new"==webui_mode&&G_MonitoringStatus.response.WifiConnectionStatus!=WIFI_CONNECTED||"new"!=webui_mode)&&($("#sim_signal_gif").html("<img onload = 'fixPNG(this)' src = '../res/sim_disable"+("old"==webui_mode?".old":"")+".png' 0 0 no-repeat>"),$("#new_nav_signal_text").empty(),$("#status_img2").hide().empty(),STATUS_BAR_ICON_STATUS.sim_signal_tooltip_error=dialup_label_pin_code_required):MACRO_PUK_REQUIRED==g_main_convergedStatus.SimState?("new"==webui_mode&&G_MonitoringStatus.response.WifiConnectionStatus!=WIFI_CONNECTED||"new"!=webui_mode)&&(PUK_TIMES_ZERO==g_pin_status_SimPukTimes?($("#sim_signal_gif").html("<img onload = 'fixPNG(this)' src = '../res/sim_disable"+("old"==webui_mode?".old":"")+".png' 0 0 no-repeat>"),$("#new_nav_signal_text").empty(),$("#status_img2").hide().empty(),STATUS_BAR_ICON_STATUS.sim_signal_tooltip_error=dialup_help_puk_locked):($("#sim_signal_gif").html("<img onload = 'fixPNG(this)' src = '../res/sim_disable"+("old"==webui_mode?".old":"")+".png' 0 0 no-repeat>"),$("#new_nav_signal_text").empty(),$("#status_img2").hide().empty(),STATUS_BAR_ICON_STATUS.sim_signal_tooltip_error=dialup_label_puk_code_required)):MACRO_SIM_STATUS_USIM_N==header_icon_status.SimStatus||MACRO_SIM_STATUS_USIM_NE==header_icon_status.SimStatus||"undefined"==header_icon_status.SimStatus||header_icon_status.SimlockStatus?("new"==webui_mode&&G_MonitoringStatus.response.WifiConnectionStatus!=WIFI_CONNECTED||"new"!=webui_mode)&&($("#sim_signal_gif").html("<img onload = 'fixPNG(this)' src = '../res/sim_disable"+("old"==webui_mode?".old":"")+".png' 0 0 no-repeat>"),$("#new_nav_signal_text").empty(),$("#status_img2").hide().empty(),STATUS_BAR_ICON_STATUS.sim_signal_tooltip_error=dialup_label_sim_invalid):(sign_enable=1,STATUS_BAR_ICON_STATUS.sim_signal_tooltip_error="")),STATUS_BAR_ICON_STATUS.sim_signal_tooltip_state=sign_enable?qtps_signal():STATUS_BAR_ICON_STATUS.sim_signal_tooltip_error,"new"==webui_mode&&(header_icon_status.WifiStatus==MACRO_WIFI_ON&&qtps_multissid()&&(STATUS_BAR_ICON_STATUS.sim_signal_tooltip_state+="<br>"+qtps_multissid()),g_feature.battery_enabled))switch(header_icon_status.BatteryStatus){case MACRO_BATTERY_STATUS_LOW:case MACRO_BATTERY_STATUS_ELECT:STATUS_BAR_ICON_STATUS.sim_signal_tooltip_state+="<br>"+battery_recharging+" ("+header_icon_status.BatteryPercent+"%)";break;case MACRO_BATTERY_STATUS_NOBATTERY:break;default:STATUS_BAR_ICON_STATUS.sim_signal_tooltip_state+="<br>"+common_battery+": "+header_icon_status.BatteryPercent+"%"}if(G_MonitoringStatus.response.WifiConnectionStatus==WIFI_CONNECTED&&($("#new_nav_signal_text").text(wlan_lable_wifi),$("#status_img2").text(wlan_lable_wifi).show()),sign_enable&&G_MonitoringStatus.response.WifiConnectionStatus!=WIFI_CONNECTED&&($("#new_nav_signal_text").text(g_net_mode),g_net_mode!=dialup_label_no_service?$("#status_img2").text(g_net_mode).show():$("#status_img2").hide().text(g_net_mode)),sign_enable){if($.browser.msie&&"6.0"==$.browser.version||g_SignalStrength!=header_icon_status.SignalStrength&&SIMCARD_OK==sign_enable&&("new"==webui_mode&&G_MonitoringStatus.response.WifiConnectionStatus!=WIFI_CONNECTED||"new"!=webui_mode))switch(g_SignalStrength=header_icon_status.SignalStrength,header_icon_status.SignalStrength){case MACRO_EVDO_LEVEL_ONE:case MACRO_EVDO_LEVEL_TWO:case MACRO_EVDO_LEVEL_THREE:case MACRO_EVDO_LEVEL_FOUR:case MACRO_EVDO_LEVEL_FIVE:$("#sim_signal_gif").html("<img onload = 'fixPNG(this)' src = '../res/signal_"+header_icon_status.SignalStrength+("old"==webui_mode?".old":"")+".png'0 0 no-repeat>");break;default:$("#sim_signal_gif").html("<img onload = 'fixPNG(this)' src = '../res/signal_"+MACRO_EVDO_LEVEL_ZERO+("old"==webui_mode?".old":"")+".png'0 0 no-repeat>")}g_module.local_update_enabled&&$("#menu_update a").attr("href","update.html")}else g_module.local_update_enabled&&!(G_MonitoringStatus.response.WifiConnectionStatus==WIFI_CONNECTED||g_module.cradle_enabled&&checkValueIsNull(G_cradleStationStatus)&&CRADLE_NETLINE_EXIST==G_cradleStationStatus.cradlestatus&&G_cradleStationStatus.connectionmode!=ETHERNET_LAN_MODE&&G_cradleStationStatus.connectstatus!=CRADLE_CONNECTSTATUSNULL&&G_cradleStationStatus.connectstatus!=CRANDLE_CONNECTSTATUSERRO)&&($("#menu_update a").attr("href","update_local.html"),g_not_need_login_update&&$("#menu_update a").live("click",(function(){g_needToLogin&&("menu_connection_settings"!=(g_nav=$(this)).parent().attr("id")&&"profile_settings"!=g_nav.parent().attr("id")||(g_nav=g_nav.parent()),getAjaxData("api/user/state-login",(function(e){var t=xml2object(e);"response"==t.type&&"0"!=t.response.State&&(void 0!==t.response.firstlogin&&(g_default_password_status=parseInt(t.response.firstlogin,10)),g_destnation=0==g_default_password_status?null:"update_local.html",$("#update").attr("href","javascript:void(0);"),showloginDialog())}),{sync:!0}))})))}function i(){if(header_icon_status.ConnectionStatus===MACRO_CONNECTION_CONNECTED){e="1";var t="",n="";($.browser.msie&&"6.0"==$.browser.version||$("#wan_gif").html().indexOf("wan_disable.png")<0)&&(STATUS_BAR_ICON_STATUS.wan_tooltip_state=dialup_label_wan_connect),$("#wan_gif").show(),getAjaxData("api/monitoring/traffic-statistics",(function(e){var a=xml2object(e);"response"==a.type&&(t=a.response.CurrentUpload,n=a.response.CurrentDownload,""!=wanUpload&&null!=wanUpload&&""!=wanDownload&&null!=wanDownload?(wanUpload!=t&&n==wanDownload?("0"==g_up_connection_status&&($("#wan_gif").html("<img onload = 'fixPNG(this)' src = '../res/wan_up.png' 0 0 no-repeat>"),g_disable_connection_status="0",g_up_down_connection_status="0",g_up_connection_status="1",g_down_connection_status="0"),STATUS_BAR_ICON_STATUS.wan_tooltip_state=dialup_label_wan_connect):wanUpload==t&&n!=wanDownload?("0"==g_down_connection_status&&($("#wan_gif").html("<img onload = 'fixPNG(this)' src = '../res/wan_down.png' 0 0 no-repeat>"),g_disable_connection_status="0",g_up_down_connection_status="0",g_up_connection_status="0",g_down_connection_status="1"),STATUS_BAR_ICON_STATUS.wan_tooltip_state=dialup_label_wan_connect):wanUpload!=t&&n!=wanDownload?("0"==g_up_down_connection_status&&($("#wan_gif").html("<img onload = 'fixPNG(this)' src = '../res/wan_up_down.png' 0 0 no-repeat>"),g_disable_connection_status="0",g_up_down_connection_status="1",g_up_connection_status="0",g_down_connection_status="0"),STATUS_BAR_ICON_STATUS.wan_tooltip_state=dialup_label_wan_connect):wanUpload==t&&n==wanDownload&&"0"==g_disable_connection_status&&($("#wan_gif").html("<img onload = 'fixPNG(this)' src = '../res/wan_disable.png' 0 0 no-repeat>"),g_disable_connection_status="1",g_up_connection_status="0",g_down_connection_status="0",g_up_down_connection_status="0"),wanUpload=t,wanDownload=n):("0"==g_disable_connection_status&&($("#wan_gif").html("<img onload = 'fixPNG(this)' src = '../res/wan_disable.png' 0 0 no-repeat>"),g_disable_connection_status="1",g_up_connection_status="0",g_down_connection_status="0",g_up_down_connection_status="0"),wanUpload=t,wanDownload=n))})),STATUS_BAR_ICON_STATUS.wan_tooltip_state=dialup_label_wan_connect}else STATUS_BAR_ICON_STATUS.wan_tooltip_state=dialup_label_wan_disconnect}if(g_module.online_update_enabled&&g_NotificationsOnlineUpdateStatus!=G_NotificationsStatus.OnlineUpdateStatus&&(g_NotificationsOnlineUpdateStatus=G_NotificationsStatus.OnlineUpdateStatus,G_NotificationsStatus.OnlineUpdateStatus==MACRO_NEWVERSIONFOUND||G_NotificationsStatus.OnlineUpdateStatus==MACRO_READYTOUPDATE?($("#update_gif").css({display:"block"}),$("#tooltip_update").html("<img src = '../res/update_enable.gif'>")):($("#update_gif").css({display:"none"}),$("#tooltip_update").html("<img src = '../res/update_disable.gif'>"))),WIFI_CONNECTED==G_MonitoringStatus.response.WifiConnectionStatus&&g_module.wifioffload_enable){if(null!=n&&"response"==n.type){e="1";var s="",o="";($.browser.msie&&"6.0"==$.browser.version||$("#wan_gif").html().indexOf("wan_disable.png")<0)&&(STATUS_BAR_ICON_STATUS.wan_tooltip_state=dialup_label_wan_connect),$("#wan_gif").show(),getAjaxData("api/wlan/station-information",(function(e){var t=xml2object(e);G_StationStatus=t,"response"==t.type&&(s=t.response.TxFlux,o=t.response.RxFlux,""!=wifiUpload&&""!=wifiDownload?(wifiUpload!=s&&o==wifiDownload?("0"==g_up_connection_status&&($("#wan_gif").html("<img onload = 'fixPNG(this)' src = '../res/wan_up.png' 0 0 no-repeat>"),g_disable_connection_status="0",g_up_down_connection_status="0",g_up_connection_status="1",g_down_connection_status="0"),STATUS_BAR_ICON_STATUS.wan_tooltip_state=dialup_label_wan_connect):wifiUpload==s&&o!=wifiDownload?("0"==g_down_connection_status&&($("#wan_gif").html("<img onload = 'fixPNG(this)' src = '../res/wan_down.png' 0 0 no-repeat>"),g_disable_connection_status="0",g_up_down_connection_status="0",g_up_connection_status="0",g_down_connection_status="1"),STATUS_BAR_ICON_STATUS.wan_tooltip_state=dialup_label_wan_connect):wifiUpload!=s&&o!=wifiDownload?("0"==g_up_down_connection_status&&($("#wan_gif").html("<img onload = 'fixPNG(this)' src = '../res/wan_up_down.png' 0 0 no-repeat>"),g_up_down_connection_status="1",g_disable_connection_status="0",g_up_connection_status="0",g_down_connection_status="0"),STATUS_BAR_ICON_STATUS.wan_tooltip_state=dialup_label_wan_connect):wifiUpload==s&&o==wifiDownload&&"0"==g_disable_connection_status&&($("#wan_gif").html("<img onload = 'fixPNG(this)' src = '../res/wan_disable.png' 0 0 no-repeat>"),g_disable_connection_status="1",g_up_down_connection_status="0",g_up_connection_status="0",g_down_connection_status="0"),wifiUpload=s,wifiDownload=o):("0"==g_disable_connection_status&&($("#wan_gif").html("<img onload = 'fixPNG(this)' src = '../res/wan_disable.png' 0 0 no-repeat>"),g_disable_connection_status="1",g_up_down_connection_status="0",g_up_connection_status="0",g_down_connection_status="0"),wifiUpload=s,wifiDownload=o))}));var _=setWifiSignal(n.response.SignalStrength);($.browser.msie&&"6.0"==$.browser.version||void 0===$("#station_gif").html()||$("#station_gif").html().indexOf("station_"+_+".png")<0)&&($("#station_gif").html("<img onload = 'fixPNG(this)' src = '../res/station_"+_+".png' 0 0 no-repeat>"),"new"==webui_mode&&(g_SimStatus=-11111,g_hSimStatus=-11111,g_SignalStrength=-11111,0==_?$("#sim_signal_gif").html('<svg xmlns="http://www.w3.org/2000/svg" fill="#FFFFFF" width="34" height="34" viewBox="0 0 18 18" style="margin: 8px 5px 8px 10px;"><path fill-opacity=".3" d="M9.01 15.99l8.8-10.96C17.47 4.77 14.08 2 9 2S.53 4.77.19 5.03l8.8 10.96h.02z"/></svg>'):1==_?$("#sim_signal_gif").html('<svg xmlns="http://www.w3.org/2000/svg" fill="#FFFFFF" width="34" height="34" viewBox="0 0 18 18" style="margin: 8px 5px 8px 10px;"><path fill-opacity=".3" d="M9.01 15.99l8.8-10.96C17.47 4.77 14.08 2 9 2S.53 4.77.19 5.03l8.8 10.96h.02z"/><path d="M5.24 11.31L9 16l3.76-4.68C12.57 11.17 11.14 10 9 10c-2.14 0-3.57 1.17-3.76 1.31z"/></svg>'):2==_?$("#sim_signal_gif").html('<svg xmlns="http://www.w3.org/2000/svg" fill="#FFFFFF" width="34" height="34" viewBox="0 0 18 18" style="margin: 8px 5px 8px 10px;"><path fill-opacity=".3" d="M9.01 15.99l8.8-10.96C17.47 4.77 14.08 2 9 2S.53 4.77.19 5.03l8.8 10.96h.02z"/><path d="M3.98 9.75l5.01 6.24L9 16v-.01l5.01-6.24C13.76 9.56 11.85 8 9 8 6.15 8 4.24 9.56 3.98 9.75z"/></svg>'):3==_?$("#sim_signal_gif").html('<svg xmlns="http://www.w3.org/2000/svg" fill="#FFFFFF" width="34" height="34" viewBox="0 0 18 18" style="margin: 8px 5px 8px 10px;"><path fill-opacity=".3" d="M9.01 15.99l8.8-10.96C17.47 4.77 14.08 2 9 2S.53 4.77.19 5.03l8.8 10.96h.02z"/><path d="M2.73 8.19L9 15.99V16l.01-.01 6.27-7.8C14.96 7.94 12.56 6 9 6S3.04 7.94 2.73 8.19z"/></svg>'):4==_&&$("#sim_signal_gif").html('<svg xmlns="http://www.w3.org/2000/svg" fill="#FFFFFF" width="34" height="34" viewBox="0 0 18 18" style="margin: 8px 5px 8px 10px;"><path d="M9.01 15.99l8.8-10.96C17.47 4.77 14.08 2 9 2S.53 4.77.19 5.03l8.8 10.96h.02z"/></svg>'))),$("#station_gif").show()}else $("#station_gif").hide(),i();g_Monitoring_CradleConnectionStatus=-1111}else g_module.cradle_enabled&&checkValueIsNull(G_cradleStationStatus)&&CRADLE_NETLINE_EXIST==G_cradleStationStatus.cradlestatus&&ETHERNET_LAN_MODE!=G_cradleStationStatus.connectionmode&&CRADLEAUTOMODE!=G_cradleStationStatus.connectionmode?$.browser.msie&&"6.0"==$.browser.version||g_Monitoring_CradleConnectionStatus!=G_cradleStationStatus.cradlestatus?(g_Monitoring_CradleConnectionStatus=G_cradleStationStatus.cradlestatus,$("#station_gif").html("<img onload = 'fixPNG(this)' src = '../res/cradle_1.png' 0 0 no-repeat>"),$("#station_gif").show(),STATUS_BAR_ICON_STATUS.station_tooltip_state=IDS_plmn_label_wx,a="1",G_cradleStationStatus.connectstatus==CRADLE_CONNECTED?(e="1",$("#wan_gif").show(),"0"==g_up_down_connection_status&&($("#wan_gif").html("<img onload = 'fixPNG(this)' src = '../res/wan_up_down.png' 0 0 no-repeat>"),g_up_down_connection_status="1",g_disable_connection_status="0",g_up_connection_status="0",g_down_connection_status="0"),STATUS_BAR_ICON_STATUS.wan_tooltip_state=dialup_label_wan_connect):i()):(checkValueIsNull(G_cradleStationStatus)&&G_cradleStationStatus.connectstatus==CRADLE_CONNECTED&&(e="1",$("#wan_gif").show(),"0"==g_up_down_connection_status&&($("#wan_gif").html("<img onload = 'fixPNG(this)' src = '../res/wan_up_down.png' 0 0 no-repeat>"),g_up_down_connection_status="1",g_disable_connection_status="0",g_up_connection_status="0",g_down_connection_status="0"),STATUS_BAR_ICON_STATUS.wan_tooltip_state=dialup_label_wan_connect),g_Monitoring_CradleConnectionStatus=G_cradleStationStatus.cradlestatus):(g_Monitoring_CradleConnectionStatus=-1111,$("#station_gif").hide(),i());null!=G_cradleStationStatus&&(!g_module.cradle_enabled||1!=G_cradleStationStatus.cradlestatus||0!=G_cradleStationStatus.connectionmode&&1!=G_cradleStationStatus.connectionmode||"0"!=a||(G_cradleStationStatus.connectstatus==CRADLE_CONNECTFAILED?$("#station_gif").html("<img onload = 'fixPNG(this)' src = '../res/cradle_1.png' 0 0 no-repeat>"):($("#station_gif").html("<img onload = 'fixPNG(this)' src = '../res/cradle_twinkle.gif' 0 0 no-repeat>"),g_Monitoring_CradleConnectionStatus=-1111),$("#station_gif").show(),STATUS_BAR_ICON_STATUS.station_tooltip_state=IDS_plmn_label_wx)),"0"==e&&$("#wan_gif").hide();var r=G_NotificationsStatus.UnreadMessage;STATUS_BAR_ICON_STATUS.unread_sms_tooltip_state=common_new_message+r,changeTooltipContent()}function getBatteryLevel(e){if("1"==g_coulometer_status){STATUS_BAR_ICON_STATUS.battery_tooltip_state=e+"%";var t=parseInt(e,10);0<t&&t<=10?$("#battery_gif").html("<img onload = 'fixPNG(this)' src = '../res/battery_level_1.png' 0 0 no-repeat>"):10<t&&t<=23?$("#battery_gif").html("<img onload = 'fixPNG(this)' src = '../res/battery_level_2.png' 0 0 no-repeat>"):23<t&&t<=34?$("#battery_gif").html("<img onload = 'fixPNG(this)' src = '../res/battery_level_3.png' 0 0 no-repeat>"):34<t&&t<=45?$("#battery_gif").html("<img onload = 'fixPNG(this)' src = '../res/battery_level_4.png' 0 0 no-repeat>"):45<t&&t<=56?$("#battery_gif").html("<img onload = 'fixPNG(this)' src = '../res/battery_level_5.png' 0 0 no-repeat>"):56<t&&t<=67?$("#battery_gif").html("<img onload = 'fixPNG(this)' src = '../res/battery_level_6.png' 0 0 no-repeat>"):67<t&&t<=78?$("#battery_gif").html("<img onload = 'fixPNG(this)' src = '../res/battery_level_7.png' 0 0 no-repeat>"):78<t&&t<=89?$("#battery_gif").html("<img onload = 'fixPNG(this)' src = '../res/battery_level_8.png' 0 0 no-repeat>"):89<t&&t<=100?$("#battery_gif").html("<img onload = 'fixPNG(this)' src = '../res/battery_level_9.png' 0 0 no-repeat>"):$("#battery_gif").html("<img onload = 'fixPNG(this)' src = '../res/battery_level_0.png' 0 0 no-repeat>")}else{switch(e){case MACRO_BATTERY_LEVEL_ONE:case MACRO_BATTERY_LEVEL_TWO:case MACRO_BATTERY_LEVEL_THREE:var n=(2*parseInt(e,10)).toString();$("#battery_gif").html("<img onload = 'fixPNG(this)' src = '../res/battery_level_"+n+".png' 0 0 no-repeat>");break;case MACRO_BATTERY_LEVEL_FOUR:$("#battery_gif").html("<img onload = 'fixPNG(this)' src = '../res/battery_level_9.png' 0 0 no-repeat>");break;default:$("#battery_gif").html("<img onload = 'fixPNG(this)' src = '../res/battery_level_"+e+".png' 0 0 no-repeat>")}STATUS_BAR_ICON_STATUS.battery_tooltip_state=common_battery}}function changeTooltipContent(){$("#qtip-sim").find(".qtip-content").html("<b>"+STATUS_BAR_ICON_STATUS.sim_signal_tooltip_state+"</b>"),$("#qtip-station").find(".qtip-content").html("<b>"+STATUS_BAR_ICON_STATUS.station_tooltip_state+"</b>"),$("#qtip-wan").find(".qtip-content").html("<b>"+STATUS_BAR_ICON_STATUS.wan_tooltip_state+"</b>"),$("#qtip-wifi").find(".qtip-content").html("<b>"+STATUS_BAR_ICON_STATUS.wifi_tooltip_state+"</b>"),$("#qtip-battery").find(".qtip-content").html("<b>"+STATUS_BAR_ICON_STATUS.battery_tooltip_state+"</b>"),$("#qtip-indoor").find(".qtip-content").html("<b>"+STATUS_BAR_ICON_STATUS.wifi_indoor_tooltip_state+"</b>"),$("#qtip-sms").find(".qtip-content").html("<b>"+STATUS_BAR_ICON_STATUS.unread_sms_tooltip_state+"</b>")}function addStatusListener(funName){STATUS_LISTENER_FUN_LIST.push(funName),DATA_READY.statusReady&&DATA_READY.notificationsReady&&eval(funName)}function base64encode(e){var t,n,a,i,s,o;for(a=e.length,n=0,t="";n<a;){if(i=255&e.charCodeAt(n++),n==a){t+=g_base64EncodeChars.charAt(i>>2),t+=g_base64EncodeChars.charAt((3&i)<<4),t+="==";break}if(s=e.charCodeAt(n++),n==a){t+=g_base64EncodeChars.charAt(i>>2),t+=g_base64EncodeChars.charAt((3&i)<<4|(240&s)>>4),t+=g_base64EncodeChars.charAt((15&s)<<2),t+="=";break}o=e.charCodeAt(n++),t+=g_base64EncodeChars.charAt(i>>2),t+=g_base64EncodeChars.charAt((3&i)<<4|(240&s)>>4),t+=g_base64EncodeChars.charAt((15&s)<<2|(192&o)>>6),t+=g_base64EncodeChars.charAt(63&o)}return t}function base64_encode(e){_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var t,n,a,i,s,o,_,r="",l=0;for(e=_utf8_encode(e);l<e.length;)i=(t=e.charCodeAt(l++))>>2,s=(3&t)<<4|(n=e.charCodeAt(l++))>>4,o=(15&n)<<2|(a=e.charCodeAt(l++))>>6,_=63&a,isNaN(n)?o=_=64:isNaN(a)&&(_=64),r=r+this._keyStr.charAt(i)+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(_);return r}function _utf8_encode(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t+=String.fromCharCode(a):a>127&&a<2048?(t+=String.fromCharCode(a>>6|192),t+=String.fromCharCode(63&a|128)):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128),t+=String.fromCharCode(63&a|128))}return t}function validateInput(e,t){clearAllErrorLabel();return""==e?(showErrorUnderTextbox("username",settings_hint_user_name_empty),$("#username").focus(),$("#username").val(""),!1):""==t&&""!=e?(showErrorUnderTextbox("forget_password_tab",dialup_hint_password_empty),$("#password").focus(),$("#password").val(""),!1):!!checkInputChar(e)||(showErrorUnderTextbox("forget_password_tab",IDS_login_username_password_wrong),$("#username").focus(),$("#username").val(""),$("#password").val(""),!1)}function loginToQuicksetup(){"quicksetup"==current_href&&window.location.reload()}function refreshToken(){getAjaxData("api/webserver/SesTokInfo",(function(e){var t=xml2object(e);"response"==t.type&&(g_requestVerificationToken=[]).push(t.response.TokInfo)}),{sync:!0})}function login(e,t,n){var a=$.trim($("#username").val()),i=$("#password").val(),s=validateInput(a,i);if(s&&1!=g_logining_flag)if(g_logining_flag=!0,refreshToken(),1==g_scarm_login){if($.isArray(g_requestVerificationToken)&&g_requestVerificationToken.length<=0)return void setTimeout((function(){g_requestVerificationToken.length>0&&login(e,t,n)}),50);var o=CryptoJS.SCRAM(),_=o.nonce().toString();saveAjaxData("api/user/challenge_login",object2xml("request",{username:a,firstnonce:_,mode:RSA_LOGIN_MODE}),(function(s){var r=xml2object(s);if("response"==r.type){g_scarm_salt=CryptoJS.enc.Hex.parse(r.response.salt);var l=r.response.iterations,c=r.response.servernonce,d=_+","+c+","+c,u=o.saltedPassword(i,g_scarm_salt,l);u=u.toString();var g=o.clientKey(CryptoJS.enc.Hex.parse(u));g=g.toString();var p=o.serverKey(CryptoJS.enc.Hex.parse(u));p=p.toString();var m=o.clientProof(i,g_scarm_salt,l,d);saveAjaxData("api/user/authentication_login",object2xml("request",{clientproof:m=m.toString(),finalnonce:c}),(function(s){if("response"==(r=xml2object(s)).type){var _=o.serverProof(i,g_scarm_salt,l,d);if(_=_.toString(),r.response.serversignature==_){var c=r.response.rsan,u=o.signature(CryptoJS.enc.Hex.parse(c),CryptoJS.enc.Hex.parse(p));u=u.toString(),r.response.rsapubkeysignature==u?(g_encPublickey.e=r.response.rsae,g_encPublickey.n=r.response.rsan,storagePubkey(g_encPublickey.n,g_encPublickey.e),getAjaxData("api/user/state-login",(function(i){var s=xml2object(i);if("response"==s.type){void 0!==s.response.firstlogin&&(g_default_password_status=parseInt(s.response.firstlogin,10)),$("#username_span").text(a),$("#username_span").show(),$("#logout_span").text(common_logout);var o=$("#password").val();clearDialog(),g_main_displayingPromptStack.pop(),startLogoutTimer(n),checkPWRemind(o)?(checkDialogFlag=!0,"1"==g_setup_wizard_page&&"hilink"!=g_Driver_classify&&"1"==g_auto_update_enable?"quicksetup"==current_href&&window.location.replace("quicksetup.html"):showPWRemindDialog(e,t)):setTimeout((function(){"1"==g_setup_wizard_page&&"hilink"!=g_Driver_classify&&"1"==g_auto_update_enable?"quicksetup"==current_href&&window.location.replace("quicksetup.html"):loginSwitchDoing(e,t)}),200)}}))):(showErrorUnderTextbox("username",IDS_login_fialed_prompt),$("#username").focus(),$("#username").val(""),$("#password").val(""))}else showErrorUnderTextbox("username",IDS_login_fialed_prompt),$("#username").focus(),$("#username").val(""),$("#password").val("")}else r.error.code==ERROR_LOGIN_USERNAME_PWD_ORERRUN?(showErrorUnderTextbox("forget_password_tab",IDS_login_username_password_input_overrun),$("#username").focus(),$("#username").val(""),$("#password").val("")):r.error.code==ERROR_LOGIN_USERNAME_PWD_WRONG&&(showErrorUnderTextbox("forget_password_tab",IDS_login_username_password_wrong),$("#username").focus(),$("#username").val(""),$("#password").val(""))}))}else r.error.code==ERROR_LOGIN_USERNAME_PWD_ORERRUN?(showErrorUnderTextbox("forget_password_tab",IDS_login_username_password_input_overrun),$("#username").focus(),$("#username").val(""),$("#password").val("")):r.error.code==ERROR_LOGIN_USERNAME_PWD_WRONG?(showErrorUnderTextbox("forget_password_tab",IDS_login_username_password_wrong),$("#username").focus(),$("#username").val(""),$("#password").val("")):r.error.code==ERROR_LOGIN_ALREADY_LOGIN&&(showErrorUnderTextbox("forget_password_tab",common_user_login_repeat),$("#username").focus(),$("#username").val(""),$("#password").val(""));g_logining_flag=!1}))}else{if($.isArray(g_requestVerificationToken)){if(!(g_requestVerificationToken.length>0))return void setTimeout((function(){g_requestVerificationToken.length>0&&login(e,t,n)}),50);i=base64encode("4"==g_password_type?SHA256(a+base64encode(SHA256($("#password").val()))+g_requestVerificationToken[0]):$("#password").val())}else i=base64encode($("#password").val());if(s)saveAjaxData("api/user/login",object2xml("request",{Username:a,Password:i,password_type:g_password_type}),(function(i){var s=xml2object(i);g_logining_flag=!1,isAjaxReturnOK(s)?getAjaxData("api/user/state-login",(function(i){var s=xml2object(i);if("response"==s.type){void 0!==s.response.firstlogin&&(g_default_password_status=parseInt(s.response.firstlogin,10)),$("#username_span").text(a),$("#username_span").show(),$("#logout_span").text(common_logout);var o=$("#password").val();clearDialog(),g_main_displayingPromptStack.pop(),startLogoutTimer(n),checkPWRemind(o)?(checkDialogFlag=!0,"1"==g_setup_wizard_page&&"hilink"!=g_Driver_classify&&"1"==g_auto_update_enable?"quicksetup"==current_href&&window.location.replace("quicksetup.html"):showPWRemindDialog(e,t)):setTimeout((function(){"1"==g_setup_wizard_page&&"hilink"!=g_Driver_classify&&"1"==g_auto_update_enable?"quicksetup"==current_href&&window.location.replace("quicksetup.html"):loginSwitchDoing(e,t)}),200)}})):"error"==s.type&&(clearAllErrorLabel(),s.error.code==ERROR_LOGIN_PASSWORD_WRONG?(showErrorUnderTextbox("forget_password_tab",system_hint_wrong_password),$("#password").val(""),$("#password").focus()):s.error.code==ERROR_LOGIN_ALREADY_LOGIN?(showErrorUnderTextbox("forget_password_tab",common_user_login_repeat),$("#username").focus(),$("#username").val(""),$("#password").val("")):s.error.code==ERROR_LOGIN_TOUCH_ALREADY_LOGIN?(showErrorUnderTextbox("forget_password_tab",touch_user_login_repeat),$("#username").focus(),$("#username").val(""),$("#password").val("")):s.error.code==ERROR_LOGIN_USERNAME_WRONG?(showErrorUnderTextbox("username",settings_hint_user_name_not_exist),$("#username").focus(),$("#username").val(""),$("#password").val("")):s.error.code==ERROR_LOGIN_USERNAME_PWD_WRONG?(showErrorUnderTextbox("forget_password_tab",IDS_login_username_password_wrong),$("#username").focus(),$("#username").val(""),$("#password").val("")):s.error.code==ERROR_LOGIN_USERNAME_PWD_ORERRUN&&(showErrorUnderTextbox("forget_password_tab",IDS_login_username_password_input_overrun),$("#username").focus(),$("#username").val(""),$("#password").val("")))}),{enc:!0})}}function loginSwitchDoing(e,t){void 0!==e&&null!=e&&(window.location.href=e),"function"==typeof t&&(t(),t=null),g_is_network_connect?(g_is_network_connect=!1,index_sendNetWorkAction()):g_is_wlan_connect?(g_is_wlan_connect=!1,setHandoverSetting()):g_is_power_off?(g_is_power_off=!1,setPowerOff()):g_new_switch&&(g_new_switch=!1,setNetConnect_New()),g_is_disconnect_clicked?index_clickDisconnectBtn():g_is_connect_clicked&&index_clickConnectBtn(),g_isTrunOffWlanChecked&&($(".trun_on_off_waln :checked").size()>0?g_handover_setting.Handover="2":g_handover_setting.Handover="0",g_isTrunOffWlanChecked=!1,setHandoverSetting()),checkDialogFlag||loginToQuicksetup()}function checkPWRemind(e){var t=!1;return checkPWStrength(e)==MACRO_PASSWORD_LOW&&getAjaxData("api/user/remind",(function(e){var n=xml2object(e);"response"==n.type&&"0"==n.response.remindstate&&(t=!0)}),{sync:!0}),t}function setPWRemindStatus(e){saveAjaxData("api/user/remind",object2xml("request",{remindstate:e}),(function(e){isAjaxReturnOK(xml2object(e))}),{sync:!0})}function checkPWStrength(e){var t,n=e.length,a=0,i=0;for(i=0;i<n;i++)a|=(t=e.charCodeAt(i))>=48&&t<=57?1:t>=65&&t<=90||t>=97&&t<=122?2:4;return a=function(e){var t=0,n=0;for(n=0;n<3;n++)1&e&&t++,e>>>=1;return t}(a),n<6||1==a&&n<10?MACRO_PASSWORD_LOW:2==a&&n>=6||1==a&&n>=10?MACRO_PASSWORD_MID:3==a&&n>=6?MACRO_PASSWORD_HIG:MACRO_PASSWORD_LOW}function showPWRemindDialog(e,t){if("material"==webui_mode){var n="";n+="<h4 class='mdl-dialog__title'>"+common_note+"</h4>",n+="<div class='mdl-dialog__content'>",n+="    <p>"+IDS_psw_login_remind+"</p>",n+="    <label class='mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect' for='check_pass_remind'><input type='checkbox'  id='check_pass_remind' class='mdl-checkbox__input' /><span class='mdl-checkbox__label'>"+IDS_psw_modify_remind+"</span></label>",n+="</div>",n+="<div class='mdl-dialog__actions'>",n+="    <a href='javascript:void(0);' id='psw_confirm' class='mdl-button'>"+IDS_common_modify+"</a>",n+="    <a href='javascript:void(0);' id='psw_Cancel' class='mdl-button'>"+IDS_common_wait+"</a>",n+="</div>";var a=document.createElement("dialog");a.className="dialog mdl-dialog",a.innerHTML=n,"undefined"!=typeof componentHandler&&componentHandler.upgradeElement(a.querySelector('label[for="check_pass_remind"]')),$(".body_bg").before(a),a.showModal||dialogPolyfill.registerDialog(a),a.showModal()}else{n="";if($("#div_wrapper").size()<1&&(n+="<div id='div_wrapper'><iframe   id='ifream_dialog'  src= '' frameborder= '0' style= 'background:#bcbcbc; position:absolute; width:100%; height:100%; z-index:-1; display: block;'> </iframe></div>"),n+="<div class='dialog'>",n+="    <div class='dialog_content'>",n+="        <div class='dialog_header'>",n+="            <span class='dialog_header_left clr_white'>"+common_note+"</span>",n+="            <span class='dialog_header_right'><a class='dialog_close_btn clr_gray' id='psw_close_btn' href='javascript:void(0);' title='' ><canvas id='remindDialogCanvas' width='25px' height='25px'></canvas></a></span>",n+="        </div>",n+="        <div class='dialog_table'>"+IDS_psw_login_remind+"</div>",n+="        <div class='dialog_table'><input type='checkbox'  id='check_pass_remind' /><span>&nbsp;"+IDS_psw_modify_remind+"</span></div>",n+="        <div class='dialog_table_bottom'>",n+="            <div class='dialog_table_r'>",n+="                <span class='button_wrapper pop_confirm'>",n+="                    <input id='psw_confirm' class='button_dialog' type='button' value='"+IDS_common_modify+"'/></span>",n+="&nbsp;&nbsp;&nbsp;&nbsp;<span class='button_wrapper'>",n+="                <input id='psw_Cancel' class='button_dialog' type='button' value='"+IDS_common_wait+"'/></span>",n+="            </div>",n+="        </div>",n+="    </div>",n+="</div>",$(".body_bg").before(n),$.browser.msie&&9==parseInt($.browser.version,10))$(".button_wrapper").css("border-radius","3px"),draw(document.getElementById("remindDialogCanvas"));else if($.browser.msie&&parseInt($.browser.version,10)<9){$(".dialog_header_left").css("margin-top","5"),$(".dialog_header").css({width:"500px",height:"29px"}),$(".dialog_header").corner("top 5px"),$(".button_wrapper").css("background","#75ACD6"),$(".button_wrapper").corner("3px"),$(".button_wrapper input").css("padding-top","2px"),$(".dialog_header a").css("top","7px");$(".dialog_header a").append("<img src='../res/new_del.png' title='' alt='' />")}else{draw(document.getElementById("remindDialogCanvas"))}}$("#psw_confirm, #psw_Cancel, #psw_close_btn").die("click"),$("#psw_confirm").live("click",(function(){$("#check_pass_remind").get(0).checked&&setPWRemindStatus(MACRO_PASSWORD_REMIND_OFF),clearDialog(),setTimeout((function(){return loginSwitchDoing(e,t),g_main_displayingPromptStack.pop(),hiddenSelect(!1),window.location.href="modifypassword.html",!1}),200)})),$("#psw_Cancel,#psw_close_btn").live("click",(function(){0!=$("#check_pass_remind").length&&$("#check_pass_remind").get(0).checked&&setPWRemindStatus(MACRO_PASSWORD_REMIND_OFF),clearDialog(),setTimeout((function(){return loginSwitchDoing(e,t),g_main_displayingPromptStack.pop(),hiddenSelect(!1),checkDialogFlag&&loginToQuicksetup(),!1}),200)})),"material"!=webui_mode&&(hiddenSelect(!0),reputPosition($(".dialog"),$("#div_wrapper"))),g_main_displayingPromptStack.push("psw_confirm"),disableTabKey()}function userOut(e){saveAjaxData("api/user/logout",object2xml("request",{Logout:1}),(function(t){var n=xml2object(t);"response"==n.type&&isAjaxReturnOK(n)&&($("#username_span").hide(),$("#logout_span").text(common_login),checkInputValue(e)?gotoPageWithoutHistory(e):"1"==g_setup_wizard_page&&"hilink"!=g_Driver_classify&&"1"==g_auto_update_enable?redirectOnCondition(null,null)||gotoPageWithoutHistory("quicksetup.html"):gotoPageWithoutHistory(HOME_PAGE_URL))}))}function getDefaultPass(){getAjaxData("api/user/state-login",(function(e){var t=xml2object(e);"response"==t.type&&void 0!==t.response.firstlogin&&(g_default_password_status=parseInt(t.response.firstlogin,10))}),{sync:!0})}function loginout(){getAjaxData("api/user/state-login",(function(e){var t=xml2object(e);"response"==t.type&&(0!=t.response.State?(void 0!==t.response.firstlogin&&(g_default_password_status=parseInt(t.response.firstlogin,10)),showloginDialog()):showConfirmDialog(common_warning_logout,(function(){return userOut(),cancelLogoutTimer(),!1}),(function(){})))}),{sync:!0})}function showNotification(){if(null!=G_NotificationsStatus){var e=G_NotificationsStatus.UnreadMessage,t=G_NotificationsStatus.SmsStorageFull;g_module.sms_enabled&&("1"==t?($("#sms_full").css({display:"block"}),null!=$("#tooltip_sms_full").html()&&$("#tooltip_sms_full").html().indexOf("message.gif")<0&&$("#tooltip_sms_full").html("<img src = '../res/message.gif' alt='' />"),$("#sms_gif").css({display:"none"}),$("#tooltip_sms").html("")):($("#sms_full").css({display:"none"}),$("#tooltip_sms_full").html(""),e>0?($("#sms_gif").css({display:"block"}),null!=$("#tooltip_sms").html()&&$("#tooltip_sms").html().indexOf("unread_message.gif")<0&&$("#tooltip_sms").html("<img src = '../res/unread_message.gif' alt='' />")):($("#sms_gif").css({display:"none"}),$("#tooltip_sms").html(""))))}}function getUserManualUrl(){if(g_needHelp){var e=document.getElementById("help_url"),t=LANGUAGE_DATA.current_language,n=LANGUAGE_DATA.usermanual_language_list,a=[],i=!1;if(void 0!==(a=CreateArray(n.support_language.language))&&""!=a){var s=0;for(s=0;s<a.length;s++)t==a[s].replace(/-/,"_")&&(i=!0)}0==i&&(t=n.default_language.replace(/-/,"_")),t=t.replace("_","-"),g_user_manual_url="../"+USER_MANUAL_PATH+"/"+t+"/"+USER_MANUAL_PATH+"/"+USER_MANUAL_FILE_NAME,void 0!==e&&null!=typeof e&&(e.href=g_user_manual_url)}}function mainIsHandheldBrowser(){var e=!1,t=navigator.platform.toLowerCase(),n=navigator.userAgent.toLowerCase(),a=-1!=t.indexOf("ipod"),i=-1!=t.indexOf("iphone"),s=-1!=t.indexOf("ipad");g_isPad_status=s;var o=-1!=n.indexOf("android"),_=-1!=n.indexOf("playstation");return(i||a||_||s||o||screen.height<=320||screen.width<=320)&&(e=!0),e}function reputPosition(e,t){var n=0,a=0,i=0,s=0;if(e&&(g_smallPage?(a=(l()-e.width())/2,g_isPad_status?n=(r()-e.height())/2:(n=0,$(document).scrollTop(0),$(document).scrollLeft((l()-e.width())/2))):(n=(r()-e.height())/2,a=(l()-e.width())/2,i=$(document).scrollTop(),s=$(document).scrollLeft(),n=i+n>0?i+n:0,a=s+a),e.css({left:a,top:n}).show()),window.onscroll=function(){i=$(document).scrollTop(),s=$(document).scrollLeft()},window.onresize=function(){e.is(":visible")&&(e.css({left:a,top:n}),t&&t.css({width:0,height:0}),g_smallPage?(g_isPad_status?$(document).scrollTop((r()-e.height())/2):$(document).scrollTop(0),$(document).scrollLeft((l()-e.width())/2)):($(document).scrollTop(i),$(document).scrollLeft(s)),reputPosition(e.last(),t))},t){var o=Math.max(l(),function(){if(!e)return document.documentElement.scrollWidth;if(null!=e.position())return Math.max(e.position().left+e.width(),document.documentElement.scrollWidth)}()),_=Math.max(r(),function(){if(!e)return document.body.scrollHeight;if(null!=e.position())return Math.max(e.position().top+e.height(),document.documentElement.scrollHeight)}());t.css({width:o,height:_}),t.show()}function r(){return document.documentElement.clientHeight}function l(){return document.documentElement.clientWidth}}function onKeyup(e){if(!e.ctrlKey&&!e.altKey&&MACRO_KEYCODE==e.keyCode&&1==flag_focus){var t="",n=g_main_displayingPromptStack.length;if(n>0)t=g_main_displayingPromptStack[n-1];else{if("autoconnection"==current_href&&isButtonEnable("autocennect_apply")&&(t="autocennect_apply"),$("input").blur(),$("select").blur(),"mobilenetworksettings"==current_href&&isButtonEnable("mobilensetting_apply")&&(t="mobilensetting_apply"),"home"==current_href)""!=$(".search_t").val()&&(t="search_button");"pincodemanagement"==current_href&&(t=$(".button_wrapper input").attr("id")),"pincoderequired"==current_href&&(t="pinrequired_button_apply"),"pukrequired"==current_href&&(t="pukrequired_apply"),"simlockrequired"==current_href&&(t="simlock_button_apply"),"mobileconnection"==current_href&&isButtonEnable("apply")&&(t="apply"),"pincodeautovalidate"==current_href&&isButtonEnable("validate_apply")&&(t="validate_apply"),"modifypassword"==current_href&&isButtonEnable("apply_button")&&(t="apply_button"),"wps"==current_href&&isButtonEnable("apply_button")&&(t="apply_button"),"dhcp"==current_href&&isButtonEnable("apply")&&(t="apply"),"sipalgsettings"==current_href&&isButtonEnable("apply_button")&&(t="apply_button"),"profilesmgr"==current_href&&isButtonEnable("select_apply")&&(t="select_apply"),"wlanbasicsettings"==current_href&&isButtonEnable("apply_button")&&(t="apply_button"),"wlanadvanced"==current_href&&isButtonEnable("apply_button")&&(t="apply_button"),"wlanmacfilter"==current_href&&isButtonEnable("apply")&&(t="apply"),"firewallswitch"==current_href&&isButtonEnable("apply_button")&&(t="apply_button"),"dmzsettings"==current_href&&isButtonEnable("apply_button")&&(t="apply_button"),"upnp"==current_href&&isButtonEnable("apply")&&(t="apply"),"update"==current_href&&($("#success_ok").is(":hidden")||(t="success_ok"),$("#pop_Cancel").is(":hidden")||(t="pop_Cancel")),"ota"==current_href&&($("#auto_apply").is(":hidden")||(t="auto_apply"),$("#ota_manual_otksl").is(":hidden")||(t="ota_manual_otksl"),$("#ota_manual_activate").is(":hidden")||(t="ota_manual_activate")),"sdcardsharing"==current_href&&isButtonEnable(g_sd_mode_id)&&(t=g_sd_mode_id),"ethernetsettings"==current_href&&isButtonEnable("apply_button")&&(t="apply_button"),"macclone"==current_href&&isButtonEnable("apply_button")&&(t="apply_button"),"ddns"==current_href&&isButtonEnable("apply")&&(t="apply"),"cradleDisconnected"==current_href&&isButtonEnable("link_connetcioncradle")&&(t="link_connetcioncradle"),"stationwps"==current_href&&isButtonEnable("button_connection")&&(t="button_connection"),"serverbasic"==current_href&&isButtonEnable("apply")&&(t="apply"),"sipbasic"==current_href&&isButtonEnable("apply")&&(t="apply"),"speeddial"==current_href&&isButtonEnable("apply")&&(t="apply")}""!=t&&$("#"+t).trigger("click")}}function enableTabKey(){$("a").attr("tabindex",""),$("input").attr("tabindex",""),$("select").attr("tabindex","")}function disableTabKey(){$("a").attr("tabindex","-1"),$("input").attr("tabindex","-1"),$("select").attr("tabindex","-1"),$("#username").attr("tabindex","1"),$("#password").attr("tabindex","2"),tabKeyflag||($("#username").focusout((function(){disableTabKey()})),$("#username").focusin((function(){enableTabKey()})),tabKeyflag=!0)}function startLogoutTimer(e){g_needToLogin&&(clearTimeout(g_logoutTimer),g_logoutTimer=setTimeout((function(){userOut(e)}),LOGOUT_TIMEOUT_MAIN))}function cancelLogoutTimer(){g_needToLogin&&clearTimeout(g_logoutTimer)}function regURL(e){var t=new RegExp("(((https|http|ftp|rtsp|mms):&#x2F;&#x2F;)|(www\\.)){1}[!-~]*","ig");return(e=XSSResolveCannotParseChar(e)).replace(t,(function(e){return $1_href=-1==e.indexOf("&#x2F;&#x2F;")?"http://"+e:e,"="==$1_href.charAt($1_href.length-1)&&"="!=$1_href.charAt($1_href.length-2)&&($1_href=$1_href.substring(0,$1_href.length-1)),"<a href='"+$1_href+"' style='text-decoration:underline;' target='_blank' onclick='javascript:stopBubble(event)'>"+e+"</a>"}))}function stopBubble(e){e&&e.stopPropagation?e.stopPropagation():window.event.cancelBubble=!0}function setWifiSignal(e){var t=null;switch(e){case MACRO_EVDO_LEVEL_ONE:t=MACRO_EVDO_LEVEL_ONE;break;case MACRO_EVDO_LEVEL_TWO:t=MACRO_EVDO_LEVEL_TWO;break;case MACRO_EVDO_LEVEL_THREE:t=MACRO_EVDO_LEVEL_THREE;break;case MACRO_EVDO_LEVEL_FOUR:case MACRO_EVDO_LEVEL_FIVE:t=MACRO_EVDO_LEVEL_FOUR;break;default:t=MACRO_EVDO_LEVEL_ZERO}return STATUS_BAR_ICON_STATUS.station_tooltip_state=wlan_lable_wifi,t}function replaceSpace(e){var t=0;for(t=0;t<e.length;t++)" "==e.charAt(t)&&(e=e.replace(" ","&nbsp;"));return e}function replaceSpaceOther(e){var t=0;for(t=0;t<e.length;t++)" "==e.charAt(t)&&(e=e.replace(" ","&nbsp;"));for(;e.indexOf("<")>=0;)e=e.replace("<","&lt;");for(;e.indexOf(">")>=0;)e=e.replace(">","&gt;");return e}function getSimPukTimes(){getAjaxData("api/pin/status",(function(e){var t=xml2object(e);"response"==t.type&&(g_pin_status_SimPukTimes=t.response.SimPukTimes)}))}function display_SIMtoUIM(e){return MACRO_NET_DUAL_MODE==g_net_mode_type?e.indexOf("SIMLOCK")>-1?e:e=e.replace(/SIM/g,"UIM"):e}function hiddenSelect(e){$.browser.msie&&6==$.browser.version&&(e?$("select").css("display","none"):($("select").css("display","inline"),$("#select_WifiCountry_for_Idevice").css("display","none")))}function check_ethernet_display(){g_module.cradle_enabled?($("#label_ethernet").text(IDS_ethernet_label_Internet_ethernet),checkLeftMenu(g_PageUrlTree.settings.ethernet.ethernetsettings)?$("#label_wan_setting").text(IDS_ethernet_label_setting):$("#ethernetsettings").remove(),checkLeftMenu(g_PageUrlTree.settings.ethernet.ethernetstatus)?$("#label_wan_status").text(IDS_ethernet_label_ethernet_status):$("#ethernetstatus").remove(),checkLeftMenu(g_PageUrlTree.settings.ethernet.macclone)?$("#label_mac_clone").text(IDS_ethernet_label_mac_clone):$("#macclone").remove()):$("#ethernet").remove()}function getMonitoringStatus(){null==g_net_mode_status&&getAjaxData("api/monitoring/status",(function(e){var t=xml2object(e);"response"==t.type&&(G_MonitoringStatus=t,getMainNetMode())}),{sync:!0})}function CreateArray(e){var t=[];return $.isArray(e)?e:(void 0!==e&&t.push(e),t)}function checkInputChar(e){var t,n;if(""==e)return!0;for(t=0;t<e.length;t++){if((n=e.charAt(t).charCodeAt())>MACRO_SUPPORT_CHAR_MAX||n<MACRO_SUPPORT_CHAR_MIN)return!1;if(MACRO_NOT_SUPPORT_CHAR_COMMA==n||MACRO_NOT_SUPPORT_CHAR_QUOTATION_MARK==n||MACRO_NOT_SUPPORT_CHAR_COLON==n||MACRO_NOT_SUPPORT_CHAR_SEMICOLON==n||MACRO_NOT_SUPPORT_BACKSLASH_MARK==n||MACRO_NOT_SUPPORT_CHAR_38==n||MACRO_NOT_SUPPORT_CHAR_37==n||MACRO_NOT_SUPPORT_CHAR_43==n||MACRO_NOT_SUPPORT_CHAR_39==n||MACRO_NOT_SUPPORT_CHAR_60==n||MACRO_NOT_SUPPORT_CHAR_62==n||MACRO_NOT_SUPPORT_CHAR_63==n)return!1}return!0}function showDialog(e,t,n,a,i,s){if("material"==webui_mode){document.querySelectorAll(".login_dialog").forEach((function(e,t,n){e.close()})),$(".login_dialog").remove();var o="";o+="<h4 class='mdl-dialog__title'>"+e+"</h4>",o+="<div class='mdl-dialog__content'>",o+=t,o+="</div>",o+="<div class='mdl-dialog__actions'>",o+="    <a href='javascript:void(0);' id='"+a+"' class='mdl-button'>"+n+"</a>",o+="    <a href='javascript:void(0);' id='"+s+"' class='mdl-button'>"+i+"</a>",o+="</div>";var _=document.createElement("dialog");_.className="login_dialog mdl-dialog",_.id="dialog",_.innerHTML=o,$(".body_bg").before(_),_.showModal||dialogPolyfill.registerDialog(_),_.showModal()}else{$("#div_wrapper").remove(),$(".login_dialog").remove();o="";if($("#div_wrapper").size()<1&&(o+="<div id='div_wrapper'><iframe   id='ifream_dialog'  src= '' frameborder= '0' style= 'background:#bcbcbc; position:absolute; width:100%; height:100%; z-index:-1; display: block;'> </iframe></div>"),o+="<div class='login_dialog' id='dialog'>",o+="    <div class='login_dialog_content'>",o+="        <div class='login_dialog_header'>",o+="            <span class='dialog_header_left clr_white'>"+e+"</span>",o+="            <span class='dialog_header_right'><a class='dialog_close_btn clr_gray' title='' href='javascript:void(0);'><canvas id='showCanvas' width='25px' height='25px'></canvas></a></span>",o+="        </div>",o+=t,o+="        <div class='login_dialog_table_bottom'>",o+="              <span class='button_wrapper pop_save'>",o+="                  <input id='"+a+"' class='button_dialog' type='button' value='"+n+"'/></span>",o+="&nbsp;&nbsp;&nbsp;&nbsp;<span class='button_wrapper'>",o+="                  <input id='"+s+"' class='button_dialog' type='button' value='"+i+"'/></span>",o+="        </div>",o+="    </div>",o+="</div>",$(".body_bg").before(o),$.browser.msie&&9==parseInt($.browser.version,10))$(".button_wrapper").css("border-radius","3px"),draw(document.getElementById("showCanvas"));else if($.browser.msie&&parseInt($.browser.version,10)<9){$(".dialog_header_left").css("margin-top","5"),$(".login_dialog_content").css({width:"420px",height:"29px"}),$(".login_dialog_content").corner("top 5px"),$(".button_wrapper").css("background","#75ACD6"),$(".button_wrapper").corner("3px"),$(".button_wrapper input").css("padding-top","2px"),$(".dialog_header_right a").css("top","7px");$(".login_dialog_header a").append("<img src='../res/new_del.png' title='' alt='' />")}else{draw(document.getElementById("showCanvas"))}reputPosition($("#dialog"),$("#div_wrapper"))}g_main_displayingPromptStack.push(a),disableTabKey()}function openPortToCss(e){($.browser.mozilla||$.browser.opera)&&$("#"+e).css({"table-layout":"fixed","word-break":"break-all","word-wrap":"break-word"})}function spaceToNbsp(e){var t=0;for(t=0;t<e.length;t++)" "==e.charAt(t)&&(e=e.replace(" ","&nbsp;"));return e}function nbspToSpace(e){return e.replace(/(\&nbsp;)/g,(function(e,t){return{"&nbsp;":" "}[t]}))}function profileNameValid(e){var t=!0,n=0;for(n=0;n<e.length;n++)'"'!=e.charAt(n)&&"&"!=e.charAt(n)&&"'"!=e.charAt(n)&&"<"!=e.charAt(n)&&">"!=e.charAt(n)||(t=!1);return t}function coulometerCheck(e){return"1"==g_coulometer_status?e.replace(/50/g,"20"):e}function copyrightReplace(e){return e.replace(/%s/g,g_copyright_year)}function SHA256(e){function t(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function n(e,t){return e>>>t|e<<32-t}function a(e,t){return e>>>t}function i(e,t,n){return e&t^~e&n}function s(e,t,n){return e&t^e&n^t&n}function o(e){return n(e,2)^n(e,13)^n(e,22)}function _(e){return n(e,6)^n(e,11)^n(e,25)}function r(e){return n(e,7)^n(e,18)^a(e,3)}return function(e){for(var t="0123456789abcdef",n="",a=0;a<4*e.length;a++)n+=t.charAt(e[a>>2]>>8*(3-a%4)+4&15)+t.charAt(e[a>>2]>>8*(3-a%4)&15);return n}(function(e,l){var c,d,u,g,p,m,h,f,b,v,w,T=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),E=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),A=new Array(64);e[l>>5]|=128<<24-l%32,e[15+(l+64>>9<<4)]=l;for(var $=0;$<e.length;$+=16){c=E[0],d=E[1],u=E[2],g=E[3],p=E[4],m=E[5],h=E[6],f=E[7];for(var S=0;S<64;S++)A[S]=S<16?e[S+$]:t(t(t(n(w=A[S-2],17)^n(w,19)^a(w,10),A[S-7]),r(A[S-15])),A[S-16]),b=t(t(t(t(f,_(p)),i(p,m,h)),T[S]),A[S]),v=t(o(c),s(c,d,u)),f=h,h=m,m=p,p=t(g,b),g=u,u=d,d=c,c=t(b,v);E[0]=t(c,E[0]),E[1]=t(d,E[1]),E[2]=t(u,E[2]),E[3]=t(g,E[3]),E[4]=t(p,E[4]),E[5]=t(m,E[5]),E[6]=t(h,E[6]),E[7]=t(f,E[7])}return E}(function(e){for(var t=Array(),n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<24-n%32;return t}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t+=String.fromCharCode(a):a>127&&a<2048?(t+=String.fromCharCode(a>>6|192),t+=String.fromCharCode(63&a|128)):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128),t+=String.fromCharCode(63&a|128))}return t}(e)),8*e.length))}function rng_seed_int(e){rng_pool[rng_pptr++]^=255&e,rng_pool[rng_pptr++]^=e>>8&255,rng_pool[rng_pptr++]^=e>>16&255,rng_pool[rng_pptr++]^=e>>24&255,rng_pptr>=rng_psize&&(rng_pptr-=rng_psize)}function rng_seed_time(){rng_seed_int((new Date).getTime())}if(null==rng_pool){var t;if(rng_pool=new Array,rng_pptr=0,"Netscape"==navigator.appName&&navigator.appVersion<"5"&&window.crypto){var z=window.crypto.random(32);for(t=0;t<z.length;++t)rng_pool[rng_pptr++]=255&z.charCodeAt(t)}for(;rng_pptr<rng_psize;)t=Math.floor(65536*Math.random()),rng_pool[rng_pptr++]=t>>>8,rng_pool[rng_pptr++]=255&t;rng_pptr=0,rng_seed_time()}function rng_get_byte(){if(null==rng_state){for(rng_seed_time(),(rng_state=prng_newstate()).init(rng_pool),rng_pptr=0;rng_pptr<rng_pool.length;++rng_pptr)rng_pool[rng_pptr]=0;rng_pptr=0}return rng_state.next()}function rng_get_bytes(e){var t;for(t=0;t<e.length;++t)e[t]=rng_get_byte()}function SecureRandom(){}function Arcfour(){this.i=0,this.j=0,this.S=new Array}function ARC4init(e){var t,n,a;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,a=this.S[t],this.S[t]=this.S[n],this.S[n]=a;this.i=0,this.j=0}function ARC4next(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]}function prng_newstate(){return new Arcfour}SecureRandom.prototype.nextBytes=rng_get_bytes,Arcfour.prototype.init=ARC4init,Arcfour.prototype.next=ARC4next;var rng_psize=256;function parseBigInt(e,t){return new BigInteger(e,t)}function linebrk(e,t){for(var n="",a=0;a+t<e.length;)n+=e.substring(a,a+t)+"\n",a+=t;return n+e.substring(a,e.length)}function byte2Hex(e){return e<16?"0"+e.toString(16):e.toString(16)}function pkcs1pad2(e,t){if(t<e.length+11)return alert("Message too long for RSA"),null;for(var n=new Array,a=e.length-1;a>=0&&t>0;){var i=e.charCodeAt(a--);i<128?n[--t]=i:i>127&&i<2048?(n[--t]=63&i|128,n[--t]=i>>6|192):(n[--t]=63&i|128,n[--t]=i>>6&63|128,n[--t]=i>>12|224)}n[--t]=0;for(var s=new SecureRandom,o=new Array;t>2;){for(o[0]=0;0==o[0];)s.nextBytes(o);n[--t]=o[0]}return n[--t]=2,n[--t]=0,new BigInteger(n)}function RSAKey(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function RSASetPublic(e,t){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=parseBigInt(e,16),this.e=parseInt(t,16)):alert("Invalid RSA public key")}function RSADoPublic(e){return e.modPowInt(this.e,this.n)}function RSAEncrypt(e){var t=pkcs1pad2(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var a=n.toString(16);return 0==(1&a.length)?a:"0"+a}function RSAEncryptB64(e){var t=this.encrypt(e);return t?hex2b64(t):null}RSAKey.prototype.doPublic=RSADoPublic,RSAKey.prototype.setPublic=RSASetPublic,RSAKey.prototype.encrypt=RSAEncrypt,RSAKey.prototype.encrypt_b64=RSAEncryptB64;var modulus="BEB90F8AF5D8A7C7DA8CA74AC43E1EE8A48E6860C0D46A5D690BEA082E3A74E1571F2C58E94EE339862A49A811A31BB4A48F41B3BCDFD054C3443BB610B5418B3CBAFAE7936E1BE2AFD2E0DF865A6E59C2B8DF1E8D5702567D0A9650CB07A43DE39020969DF0997FCA587D9A8AE4627CF18477EC06765DF3AA8FB459DD4C9AF3",publicExponent="10001",dbits;function MyRSAEncryptB64(e){var t=new RSAKey;return t.setPublic(modulus,publicExponent),t.encrypt_b64(e)}var canary=0xdeadbeefcafe,j_lm=15715070==(16777215&canary);function BigInteger(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function nbi(){return new BigInteger(null)}function am1(e,t,n,a,i,s){for(;--s>=0;){var o=t*this[e++]+n[a]+i;i=Math.floor(o/67108864),n[a++]=67108863&o}return i}function am2(e,t,n,a,i,s){for(var o=32767&t,_=t>>15;--s>=0;){var r=32767&this[e],l=this[e++]>>15,c=_*r+l*o;i=((r=o*r+((32767&c)<<15)+n[a]+(1073741823&i))>>>30)+(c>>>15)+_*l+(i>>>30),n[a++]=1073741823&r}return i}function am3(e,t,n,a,i,s){for(var o=16383&t,_=t>>14;--s>=0;){var r=16383&this[e],l=this[e++]>>14,c=_*r+l*o;i=((r=o*r+((16383&c)<<14)+n[a]+i)>>28)+(c>>14)+_*l,n[a++]=268435455&r}return i}j_lm&&"Microsoft Internet Explorer"==navigator.appName?(BigInteger.prototype.am=am2,dbits=30):j_lm&&"Netscape"!=navigator.appName?(BigInteger.prototype.am=am1,dbits=26):(BigInteger.prototype.am=am3,dbits=28),BigInteger.prototype.DB=dbits,BigInteger.prototype.DM=(1<<dbits)-1,BigInteger.prototype.DV=1<<dbits;var BI_FP=52;BigInteger.prototype.FV=Math.pow(2,BI_FP),BigInteger.prototype.F1=BI_FP-dbits,BigInteger.prototype.F2=2*dbits-BI_FP;var BI_RM="0123456789abcdefghijklmnopqrstuvwxyz",BI_RC=new Array,rr,vv;for(rr="0".charCodeAt(0),vv=0;vv<=9;++vv)BI_RC[rr++]=vv;for(rr="a".charCodeAt(0),vv=10;vv<36;++vv)BI_RC[rr++]=vv;for(rr="A".charCodeAt(0),vv=10;vv<36;++vv)BI_RC[rr++]=vv;function int2char(e){return BI_RM.charAt(e)}function intAt(e,t){var n=BI_RC[e.charCodeAt(t)];return null==n?-1:n}function bnpCopyTo(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function bnpFromInt(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+DV:this.t=0}function nbv(e){var t=nbi();return t.fromInt(e),t}function bnpFromString(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var a=e.length,i=!1,s=0;--a>=0;){var o=8==n?255&e[a]:intAt(e,a);o<0?"-"==e.charAt(a)&&(i=!0):(i=!1,0==s?this[this.t++]=o:s+n>this.DB?(this[this.t-1]|=(o&(1<<this.DB-s)-1)<<s,this[this.t++]=o>>this.DB-s):this[this.t-1]|=o<<s,(s+=n)>=this.DB&&(s-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&BigInteger.ZERO.subTo(this,this)}function bnpClamp(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function bnToString(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,a=(1<<t)-1,i=!1,s="",o=this.t,_=this.DB-o*this.DB%t;if(o-- >0)for(_<this.DB&&(n=this[o]>>_)>0&&(i=!0,s=int2char(n));o>=0;)_<t?(n=(this[o]&(1<<_)-1)<<t-_,n|=this[--o]>>(_+=this.DB-t)):(n=this[o]>>(_-=t)&a,_<=0&&(_+=this.DB,--o)),n>0&&(i=!0),i&&(s+=int2char(n));return i?s:"0"}function bnNegate(){var e=nbi();return BigInteger.ZERO.subTo(this,e),e}function bnAbs(){return this.s<0?this.negate():this}function bnCompareTo(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0}function nbits(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function bnBitLength(){return this.t<=0?0:this.DB*(this.t-1)+nbits(this[this.t-1]^this.s&this.DM)}function bnpDLShiftTo(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function bnpDRShiftTo(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function bnpLShiftTo(e,t){var n,a=e%this.DB,i=this.DB-a,s=(1<<i)-1,o=Math.floor(e/this.DB),_=this.s<<a&this.DM;for(n=this.t-1;n>=0;--n)t[n+o+1]=this[n]>>i|_,_=(this[n]&s)<<a;for(n=o-1;n>=0;--n)t[n]=0;t[o]=_,t.t=this.t+o+1,t.s=this.s,t.clamp()}function bnpRShiftTo(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var a=e%this.DB,i=this.DB-a,s=(1<<a)-1;t[0]=this[n]>>a;for(var o=n+1;o<this.t;++o)t[o-n-1]|=(this[o]&s)<<i,t[o-n]=this[o]>>a;a>0&&(t[this.t-n-1]|=(this.s&s)<<i),t.t=this.t-n,t.clamp()}}function bnpSubTo(e,t){for(var n=0,a=0,i=Math.min(e.t,this.t);n<i;)a+=this[n]-e[n],t[n++]=a&this.DM,a>>=this.DB;if(e.t<this.t){for(a-=e.s;n<this.t;)a+=this[n],t[n++]=a&this.DM,a>>=this.DB;a+=this.s}else{for(a+=this.s;n<e.t;)a-=e[n],t[n++]=a&this.DM,a>>=this.DB;a-=e.s}t.s=a<0?-1:0,a<-1?t[n++]=this.DV+a:a>0&&(t[n++]=a),t.t=n,t.clamp()}function bnpMultiplyTo(e,t){var n=this.abs(),a=e.abs(),i=n.t;for(t.t=i+a.t;--i>=0;)t[i]=0;for(i=0;i<a.t;++i)t[i+n.t]=n.am(0,a[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&BigInteger.ZERO.subTo(t,t)}function bnpSquareTo(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var a=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,a,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function bnpDivRemTo(e,t,n){var a=e.abs();if(!(a.t<=0)){var i=this.abs();if(i.t<a.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=nbi());var s=nbi(),o=this.s,_=e.s,r=this.DB-nbits(a[a.t-1]);r>0?(a.lShiftTo(r,s),i.lShiftTo(r,n)):(a.copyTo(s),i.copyTo(n));var l=s.t,c=s[l-1];if(0!=c){var d=c*(1<<this.F1)+(l>1?s[l-2]>>this.F2:0),u=this.FV/d,g=(1<<this.F1)/d,p=1<<this.F2,m=n.t,h=m-l,f=null==t?nbi():t;for(s.dlShiftTo(h,f),n.compareTo(f)>=0&&(n[n.t++]=1,n.subTo(f,n)),BigInteger.ONE.dlShiftTo(l,f),f.subTo(s,s);s.t<l;)s[s.t++]=0;for(;--h>=0;){var b=n[--m]==c?this.DM:Math.floor(n[m]*u+(n[m-1]+p)*g);if((n[m]+=s.am(0,b,n,h,0,l))<b)for(s.dlShiftTo(h,f),n.subTo(f,n);n[m]<--b;)n.subTo(f,n)}null!=t&&(n.drShiftTo(l,t),o!=_&&BigInteger.ZERO.subTo(t,t)),n.t=l,n.clamp(),r>0&&n.rShiftTo(r,n),o<0&&BigInteger.ZERO.subTo(n,n)}}}function bnMod(e){var t=nbi();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(BigInteger.ZERO)>0&&e.subTo(t,t),t}function Classic(e){this.m=e}function cConvert(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function cRevert(e){return e}function cReduce(e){e.divRemTo(this.m,null,e)}function cMulTo(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function cSqrTo(e,t){e.squareTo(t),this.reduce(t)}function bnpInvDigit(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t}function Montgomery(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function montConvert(e){var t=nbi();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(BigInteger.ZERO)>0&&this.m.subTo(t,t),t}function montRevert(e){var t=nbi();return e.copyTo(t),this.reduce(t),t}function montReduce(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],a=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,a,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function montSqrTo(e,t){e.squareTo(t),this.reduce(t)}function montMulTo(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function bnpIsEven(){return 0==(this.t>0?1&this[0]:this.s)}function bnpExp(e,t){if(e>4294967295||e<1)return BigInteger.ONE;var n=nbi(),a=nbi(),i=t.convert(this),s=nbits(e)-1;for(i.copyTo(n);--s>=0;)if(t.sqrTo(n,a),(e&1<<s)>0)t.mulTo(a,i,n);else{var o=n;n=a,a=o}return t.revert(n)}function bnModPowInt(e,t){var n;return n=e<256||t.isEven()?new Classic(t):new Montgomery(t),this.exp(e,n)}function force_Update_checkUpdateStatus(){getAjaxData("api/online-update/status",(function(e){var t=xml2object(e);"response"==t.type&&(force_Update_CurrentComponentStatus=parseInt(t.response.CurrentComponentStatus,10),force_Update_DownloadProgressStatus=parseInt(t.response.DownloadProgress,10))}),{errorCB:function(){setTimeout(force_Update_checkUpdateStatus,ONLINE_UPDATE_STATUS_INTERVAL)},sync:!0})}function creatHeader(){$("#new_header").append('    <div id="new_logo">        <a href="home.html" style="background: none !important;"><img src="../res/logo.gif"></a>    </div>    <div id="new_switch">        <div id="new_switch_title"></div>        <div id="new_switch_bg" class="new_switch_bg">            <div id="new_switch_point"></div>        </div>        <div id="new_switch_content"></div>    </div>    <div id="new_phone_number">    </div>    <div id="new_nav">        <ul class="new_nav">            <li id="new_nav_menu" style="position:relative;">                <span></span>                <span class="triangle"></span>\t\t\t\t<div class="new_nav_sub">                <ul class="submenu">                    <li>                        <div id="new_nav_menu_home">                            <a class="goto" href="home.html"></a>                            <div class="new_nav_menu_bg"><img src="../res/ic_home_7d7d7d_36px.svg" width="36" height="36"/></div>                        </div>                    </li>                    <li>                        <div id="new_nav_menu_deviceinformation">                            <a href="deviceinformation.html"></a>                            <div class="new_nav_menu_bg"><img src="../res/ic_info_7d7d7d_36px.svg" width="36" height="36"/></div>                        </div>                    </li>                    <li>                        <div id="new_nav_menu_antennapointing">                            <a href="antennapointing.html"></a>                            <div class="new_nav_menu_bg"><img src="../res/ic_settings_input_antenna_7d7d7d_36px.svg" width="36" height="36"/></div>                        </div>                    </li>                    <li>                        <div id="new_nav_menu_statistics">                            <a href="statistic.html"></a>                            <div class="new_nav_menu_bg"><img src="../res/ic_data_usage_7d7d7d_36px.svg" width="36" height="36"/></div>                        </div>                    </li>                    \x3c!--<li>                        <div id="new_nav_menu_wallet">                            <a href="payment.html"></a>                            <div class="new_nav_menu_bg"><img src="../res/new_header_menu_wallet.png" width="34" height="34"/></div>                        </div>                    </li>--\x3e                    <li>                        <div id="new_nav_menu_mods">                            <a href="mods.html"></a>                            <div class="new_nav_menu_bg"><img src="../res/ic_build_7d7d7d_36px.svg" width="36" height="36"/></div>                        </div>                    </li>                    <li>                        <div id="new_nav_menu_setting">                            <a href="mobileconnection.html"></a>                            <div class="new_nav_menu_bg"><img src="../res/ic_settings_7d7d7d_36px.svg" width="36" height="36"/></div>                        </div>                    </li>                    <li>                        <div id="new_nav_menu_sms">                            <a href="smsinbox.html"></a>                            <div class="new_nav_menu_bg"><img src="../res/ic_sms_7d7d7d_36px.svg" width="36" height="36"/></div>                        </div>                    </li>                    <li>                        <div id="new_nav_menu_pb">                            <a href="phonebook.html"></a>                            <div class="new_nav_menu_bg"><img src="../res/ic_contacts_7d7d7d_36px.svg" width="36" height="36"/></div>                        </div>                    </li>                    <li>                        <div id="new_nav_menu_ussd">                            <a href="ussd.html"></a>                            <div class="new_nav_menu_bg"><img src="../res/ic_perm_phone_msg_7d7d7d_36px.svg" width="36" height="36"/></div>                        </div>                    </li>                    <li>                        <div id="new_nav_menu_sharing">                            <a href="sdcardsharing.html"></a>                            <div class="new_nav_menu_bg"><img src="../res/ic_share_7d7d7d_36px.svg" width="36" height="36"/></div>                        </div>                    </li>                    <li>                        <div id="new_nav_menu_stk">                            <a href="stk.html"></a>                            <div class="new_nav_menu_bg"><img src="../res/ic_sim_card_7d7d7d_36px.svg" width="36" height="36"/></div>                        </div>                    </li>                    <li>                        <div id="new_nav_menu_appmanagement">                            <a href="appmanagement.html"></a>                            <div class="new_nav_menu_bg"><img src="../res/ic_get_app_7d7d7d_36px.svg" width="36" height="36"/></div>                        </div>                    </li>                    \x3c!--<li>                        <div id="new_nav_menu_mts_apps">                            <a class="goto" href="http://www.mts.ru/mob_connect/entertainment/all_for_tel/mtsapps/" target="_blank"></a>                            <div class="new_nav_menu_bg"></div>                        </div>                    </li>--\x3e                </ul>\t\t\t\t\x3c!--<iframe width="240" height="360" frameborder="0" scrolling="no" style="border:none;border:0;background:none;background-color:transparent;position:absolute;top:50px;left:0;"></iframe>--\x3e            </div>\t\t\t</li>            <li id="sim_signal_gif" class="nav03" href="mobilenetworksettings.html"></li>            <li id="new_nav_signal_text" href="mobilenetworksettings.html"></li>            <li id="new_nav_change"  href="statistic.html">                <div class="new_nav_image"><img src="../res/new_header_nav_change.png" width="34" height="34"/></div>                <div class="new_nav_text">                    <span class="new_nav_text_top"></span>                    <span class="new_nav_text_bottom">                        <td id="revicedsent_date">                            <label class="list_right" id="TotalDownload" style="display:block;float:left;"></label>                            <label style="display:block;float:left;">/</label>                            <label class="list_right" id="TotalUpload"></label>                        </td>                    </span>                </div>            </li>            <li id="new_nav_up"  href="statistic.html">                <div class="new_nav_image"><img src="../res/new_header_nav_up.png" width="34" height="34"/></div>                <div class="new_nav_text">                    <span class="new_nav_text_top"></span>                    <span class="new_nav_text_bottom"></span>                </div>            </li>            <li id="new_nav_down"  href="statistic.html">                <div class="new_nav_image"><img src="../res/new_header_nav_down.png" width="34" height="34"/></div>                <div class="new_nav_text">                    <span class="new_nav_text_top"></span>                    <span class="new_nav_text_bottom"></span>                </div>            </li>            <li id="new_nav_email"  href="smsinbox.html">                <div class="new_nav_image"><img src="../res/new_header_nav_sms.png" width="34" height="34" class="img1"/></div>                <div class="new_nav_text">                    <span></span>                </div>            </li>            <li id="new_nav_full_sms"  href="smsinbox.html">                <div class="new_nav_image"><img src="../res/new_header_nav_sms_full.png" width="34" height="34" class="img1"/></div>                <div class="new_nav_text_sms">                    <span></span>                </div>            </li>        </ul>    </div>     '),g_module.modsettings_enabled||$("#new_nav_menu_mods a").attr("href","javascript:addWebUIInitDialog();void(0);"),checkObjectExist(g_PageUrlTree,"mods")||$("#new_nav_menu_mods").parent().remove(),g_module.pb_enabled||$("#new_nav_menu_pb").parent().remove(),"new"!=webui_mode||force_old_sms||"new"!=webui_mode||force_old_ussd||$("#new_nav_menu_ussd").parent().remove(),g_module.sdcard_enabled||$("#new_nav_menu_sharing").parent().remove(),g_module.stk_enabled||$("#new_nav_menu_stk").parent().remove(),setTimeout((function e(){var t=$("#all_content .help").detach();"nocard"==current_href&&(t=$("#all_content .language").detach()),t.get(0)?$("#new_header").append(t):setTimeout(e,100)}),0),"ru_ru"==LANGUAGE_DATA.current_language&&$("#new_logo a").addClass("ru_logo")}function creatFooter(){$("#new_footer").prepend("<a id='pravacy_policy' class='clr_gray'>Project Mode</a>"),$("#pravacy_policy").attr("href","javascript:window.open('/html/switchProjectMode.html');void(0);"),getAjaxData("api/device/device-feature-switch",(function(e){var t=xml2object(e);"response"==t.type&&"1"==(g_copyright_enabled=t.response.copyright_enabled)&&$("#new_footer").append("<span id='copyright_notice'><a href='javascript:window.open(\"/html/switchDebugMode.html\");void(0);' class='clr_gray'>Debug Mode</a></span>")}))}function setMainText(){$("#new_nav_menu_home a").text(common_home),$("#new_nav_menu_deviceinformation a").text(IDS_system_logs_information),$("#new_nav_menu_antennapointing a").text(system_label_antenna),$("#new_nav_menu_mods a").text(system_label_mods),$("#new_nav_menu_setting a").text(common_settings),"new"==webui_mode&&force_old_sms||"new"==webui_mode&&force_old_ussd?($("#new_nav_menu_sms a").text(sms_lable_sms),$("#new_nav_menu_ussd a").text(ussd_label_ussd)):$("#new_nav_menu_sms a").text(sms_lable_sms_ussd),$("#new_nav_menu_statistics a").text(connection_hilink_label_traffic_statistics),$("#new_nav_menu_pb a").text(pb_label_phonebook),$("#new_nav_menu_sharing a").text(sharing_label_sharing),$("#new_nav_menu_stk a").text(stk_label_stk),$("#new_nav_menu_appmanagement a").text(IDS_APP_MANAGEMENT),$("#new_nav_menu span:first").text(new_header_nav_menu),"ar_sa"==LANGUAGE_DATA.current_language||"he_il"==LANGUAGE_DATA.current_language||"fa_fa"==LANGUAGE_DATA.current_language?$("#new_nav_change .new_nav_text_top").html(common_sent+" / "+dialup_label_received):"ru_ru"==LANGUAGE_DATA.current_language?$("#new_nav_change .new_nav_text_top").html(dialup_label_received+" / <br/>&nbsp;"+dialup_label_sent):$("#new_nav_change .new_nav_text_top").html(dialup_label_received+" / "+common_sent),$("#new_nav_up .new_nav_text_top").text(dialup_label_upload_speed),$("#new_nav_down .new_nav_text_top").text(dialup_label_download_speed)}function addMainEvent(){$("#new_switch_bg").live("click",(function(){g_isPostAjax||($(this).hasClass("new_switch_bg_on")?(m_dialup_action.Action="0",g_network_action.dataswitch="0",m_handover_setting.Handover="0"):(m_dialup_action.Action="1",g_network_action.dataswitch="1",m_handover_setting.Handover="2"),g_needToLogin?getAjaxData("api/user/state-login",(function(e){var t=xml2object(e);"response"==t.type&&("0"!=t.response.State?(g_new_switch=!0,showloginDialog()):setNetConnect_New())})):setNetConnect_New())})),isFirmwareSupportsModule("api/user/state-login")&&($("#new_nav_menu a").live("click",(function(){var e=this;return!!$(e).first().hasClass("goto")||(getAjaxData("api/user/state-login",(function(t){var n=xml2object(t);"response"==n.type&&("0"!=n.response.State?(g_destnation=$(e).first().attr("href"),showloginDialog()):gotoPageWithoutHistory(g_destnation=$(e).first().attr("href")))}),{sync:!0}),!1)})),$("#menu_detail_list a").live("click",(function(){var e=this;return!!$(e).first().hasClass("goto")||("setting_update"==$(e).parent().attr("id")&&"update"==current_href||(getAjaxData("api/user/state-login",(function(t){var n=xml2object(t);"response"==n.type&&("0"!=n.response.State?(g_destnation=$(e).first().attr("href"),showloginDialog()):gotoPageWithoutHistory(g_destnation=$(e).first().attr("href")))}),{sync:!0}),!1))})),$("#new_nav > ul > li:gt(0)").css("cursor","pointer"),$("#new_nav > ul > li:gt(0)").click((function(){var e=this;return getAjaxData("api/user/state-login",(function(t){var n=xml2object(t);"response"==n.type&&("0"!=n.response.State?(g_destnation=$(e).attr("href"),showloginDialog()):gotoPageWithoutHistory(g_destnation=$(e).attr("href")))}),{sync:!0}),!1})))}function setNavData(){if(getAjaxData("api/dialup/mobile-dataswitch",(function(e){var t=xml2object(e);if("response"==t.type&&"1"==t.response.dataswitch||$("#new_switch_bg").removeClass("new_switch_bg_on"),WIFI_CONNECTED==G_MonitoringStatus.response.WifiConnectionStatus)$("#new_switch_content").text(dialup_label_connected),$("#new_switch_bg").addClass("new_switch_bg_on");else switch(G_MonitoringStatus.response.ConnectionStatus){case"900":$("#new_switch_content").text(dialup_label_connecting),$("#new_switch_bg").addClass("new_switch_bg_on");break;case"901":$("#new_switch_content").text(dialup_label_connected),$("#new_switch_bg").addClass("new_switch_bg_on");break;case"902":$("#new_switch_content").text(dialup_label_disconnected),$("#new_switch_bg").removeClass("new_switch_bg_on");break;default:$("#new_switch_bg").hasClass("new_switch_bg_on")?$("#new_switch_content").text(pbc_label_connect_failed):$("#new_switch_content").text(dialup_label_disconnected)}})),g_module.wifioffload_enable&&null!=G_StationStatus&&WIFI_CONNECTED==G_MonitoringStatus.response.WifiConnectionStatus){var e=getCurrentTime(G_StationStatus.response.CurrentTime);t("TotalDownload",G_StationStatus.response.RxFlux),t("TotalUpload",G_StationStatus.response.TxFlux),$("#TotalConnectTime").text(e)}else getAjaxData("api/monitoring/traffic-statistics",(function(e){var n=xml2object(e);if("response"==n.type){g_login_function=n.response,null!=G_MonitoringStatus&&MACRO_CONNECTION_CONNECTED==G_MonitoringStatus.response.ConnectionStatus||(g_login_function.CurrentConnectTime=0,g_login_function.CurrentDownload=0,g_login_function.CurrentUpload=0);var a=getCurrentTime(g_login_function.CurrentConnectTime);t("TotalDownload",g_login_function.CurrentDownload),t("TotalUpload",g_login_function.CurrentUpload),$("#TotalConnectTime").text(a)}}));function t(e,t){t>=g_monitoring_dumeter_tb?$("#"+e).text(formatFloat(parseFloat(t)/g_monitoring_dumeter_tb,2)+" "+common_unit_tb):t<g_monitoring_dumeter_tb&&t>=g_monitoring_dumeter_gb?$("#"+e).text(formatFloat(parseFloat(t)/g_monitoring_dumeter_gb,2)+" "+common_unit_gb):t<g_monitoring_dumeter_gb&&t>=g_monitoring_dumeter_mb?$("#"+e).text(formatFloat(parseFloat(t)/g_monitoring_dumeter_mb,2)+" "+common_unit_mb):t<g_monitoring_dumeter_mb&&t>=g_monitoring_dumeter_kb?$("#"+e).text(formatFloat(parseFloat(t)/g_monitoring_dumeter_kb,2)+" "+common_unit_kb):t<g_monitoring_dumeter_kb&&$("#"+e).text(formatFloat(parseFloat(t),2)+" "+common_unit_byte)}getAjaxData("api/monitoring/traffic-statistics",(function(e){var t=xml2object(e);if("response"==t.type){var n=t.response.CurrentDownloadRate,a=t.response.CurrentUploadRate;$("#new_nav_down span.new_nav_text_bottom").text(getTrafficInfo(n)),$("#new_nav_up span.new_nav_text_bottom").text(getTrafficInfo(a))}})),getAjaxData("api/monitoring/check-notifications",(function(e){var t=xml2object(e);"response"==t.type&&("1"==t.response.SmsStorageFull?($("#new_nav_full_sms span").text(new_sms_full),$("#new_nav_full_sms .new_nav_image .img1").attr("src","../res/1020/bg.png"),$("#new_nav_full_sms .new_nav_image").append(imgEle),$("#new_nav_email").hide(),$("#new_nav_full_sms").show()):getAjaxData("api/sms/sms-count",(function(e){var t=xml2object(e);if("response"==t.type){var n=t.response.LocalUnread;$("#new_nav_email span").text(n)}$("#new_nav_email").show(),$("#new_nav_full_sms").hide(),n>0?($("#new_nav_email .new_nav_image .img1").attr("src","../res/1020/bg.png"),$("#new_nav_email .new_nav_image").append(imgEle)):($("#new_nav_email .new_nav_image .img1").attr("src","../res/new_header_nav_sms.png"),$(".email_img2")&&$(".email_img2").remove())})))})),getAjaxData("api/device/information",(function(e){var t=xml2object(e);"response"==t.type&&t.response.Msisdn!=mynumber&&(void 0!==t.response.Msisdn&&""!=t.response.Msisdn?$("#new_phone_number").html('<center><table style="position: relative;top: -15px"><tr><td><img src="../res/new_header_nav_user.png" width="64" height="64"></td><td><span style="font-size: 13px;font-weight: bold;">'+system_label_my_number+common_colon+'</span><br><span style="font-size: 12px;">'+t.response.Msisdn+"</span></td></tr></table></center>"):$("#new_phone_number").html(""),mynumber=t.response.Msisdn)}),{sync:!0}),setTimeout(setNavData,2e3)}function input_area(e){e.css({width:"240px",height:"27px",padding:"0",paddingLeft:"10px",backgroundColor:"transparent",border:"none",border:"1px solid #a1a1a1",lineHeight:"100%"})}Classic.prototype.convert=cConvert,Classic.prototype.revert=cRevert,Classic.prototype.reduce=cReduce,Classic.prototype.mulTo=cMulTo,Classic.prototype.sqrTo=cSqrTo,Montgomery.prototype.convert=montConvert,Montgomery.prototype.revert=montRevert,Montgomery.prototype.reduce=montReduce,Montgomery.prototype.mulTo=montMulTo,Montgomery.prototype.sqrTo=montSqrTo,BigInteger.prototype.copyTo=bnpCopyTo,BigInteger.prototype.fromInt=bnpFromInt,BigInteger.prototype.fromString=bnpFromString,BigInteger.prototype.clamp=bnpClamp,BigInteger.prototype.dlShiftTo=bnpDLShiftTo,BigInteger.prototype.drShiftTo=bnpDRShiftTo,BigInteger.prototype.lShiftTo=bnpLShiftTo,BigInteger.prototype.rShiftTo=bnpRShiftTo,BigInteger.prototype.subTo=bnpSubTo,BigInteger.prototype.multiplyTo=bnpMultiplyTo,BigInteger.prototype.squareTo=bnpSquareTo,BigInteger.prototype.divRemTo=bnpDivRemTo,BigInteger.prototype.invDigit=bnpInvDigit,BigInteger.prototype.isEven=bnpIsEven,BigInteger.prototype.exp=bnpExp,BigInteger.prototype.toString=bnToString,BigInteger.prototype.negate=bnNegate,BigInteger.prototype.abs=bnAbs,BigInteger.prototype.compareTo=bnCompareTo,BigInteger.prototype.bitLength=bnBitLength,BigInteger.prototype.mod=bnMod,BigInteger.prototype.modPowInt=bnModPowInt,BigInteger.ZERO=nbv(0),BigInteger.ONE=nbv(1);var imgEle=document.createElement("img");function getTrafficInfo(e){return g_monitoring_dumeter_kb>(e*=8)?formatFloat(parseFloat(e),2)+" "+common_unit_byteps:g_monitoring_dumeter_kb<=e&&g_monitoring_dumeter_mb>e?formatFloat(parseFloat(e)/g_monitoring_dumeter_kb,2)+" "+common_unit_kbps:g_monitoring_dumeter_mb<=e&&g_monitoring_dumeter_gb>e?formatFloat(parseFloat(e)/g_monitoring_dumeter_mb,2)+" "+common_unit_mbps:g_monitoring_dumeter_gb<=e&&g_monitoring_dumeter_tb>e?formatFloat(parseFloat(e)/g_monitoring_dumeter_gb,2)+" "+common_unit_gbps:formatFloat(parseFloat(e)/g_monitoring_dumeter_tb,2)+" "+common_unit_tbps}function setNetConnect_New(){var e="1",t={dataswitch:"1"};if(getAjaxData("api/dialup/connection",(function(t){var n=xml2object(t);"response"==n.type&&(e=n.response.ConnectMode)}),{sync:!0}),getAjaxData("api/dialup/mobile-dataswitch",(function(e){var n=xml2object(e);"response"==n.type&&(t=n.response)}),{sync:!0}),g_isPostAjax=!0,G_MonitoringStatus.response.WifiConnectionStatus==WIFI_CONNECTED)saveAjaxData("api/wlan/handover-setting",object2xml("request",m_handover_setting),(function(e){var t=xml2object(e);g_isPostAjax=!1,isAjaxReturnOK(t)?"0"==m_handover_setting.Handover?$("#new_switch_bg").removeClass("new_switch_bg_on"):$("#new_switch_bg").addClass("new_switch_bg_on"):showInfoDialog(common_failed)}));else if("1"==e&&"1"==t.dataswitch){saveAjaxData("api/dialup/dial",object2xml("request",m_dialup_action),(function(e){var t=xml2object(e);g_isPostAjax=!1,isAjaxReturnOK(t)?"0"==m_dialup_action.Action?$("#new_switch_bg").removeClass("new_switch_bg_on"):$("#new_switch_bg").addClass("new_switch_bg_on"):showInfoDialog(common_failed)}))}else{saveAjaxData("api/dialup/mobile-dataswitch",object2xml("request",g_network_action),(function(e){var t=xml2object(e);g_isPostAjax=!1,isAjaxReturnOK(t)?"0"==g_network_action.dataswitch?$("#new_switch_bg").removeClass("new_switch_bg_on"):$("#new_switch_bg").addClass("new_switch_bg_on"):showInfoDialog(common_failed),$("#new_switch_bg").hasClass("new_switch_bg_on")?$("#new_switch_content").text(dialup_label_connecting):$("#new_switch_content").text(dialup_label_disconnected)}))}}function do_restore_unlogin(){var e=$.trim($("#txt_serial_number").val());if(clearAllErrorLabel(),""==e)return $("#txt_serial_number").val(""),$("#txt_serial_number").focus(),void showErrorUnderTextbox("txt_serial_number",settings_hint_serial_number_empty);if(!/^([A-Z]|[a-z]|[\d])*$/.test(e)||void 0===e)return $("#txt_serial_number").val(""),$("#txt_serial_number").focus(),void showErrorUnderTextbox("txt_serial_number",system_hint_wrong_serial_number);var t={SN:e},n="";getConfigData("config/lan/config.xml",(function(e){var t=xml2object(e);"config"==t.type&&(n=t.config.dhcps.ipaddress)}),{sync:!0}),saveAjaxData("api/device/restore-default",object2xml("request",t),(function(e){var t=xml2object(e);if(!isAjaxReturnOK(t))return"error"==t.type&&("103024"==t.error.code?(showErrorUnderTextbox("txt_serial_number",system_hint_wrong_serial_number),$("#txt_serial_number").val(""),$("#txt_serial_number").focus()):"103025"==t.error.code?(showErrorUnderTextbox("txt_serial_number",system_hint_wrong_serial_number_max),$("#txt_serial_number").focus(),$("#txt_serial_number").val("")):"100005"==t.error.code?(showErrorUnderTextbox("txt_serial_number",system_hint_wrong_serial_number),$("#txt_serial_number").focus(),$("#txt_serial_number").val("")):showInfoDialog(common_failed)),!1;clearDialog(),g_main_displayingPromptStack.pop(),showWaitingDialog(common_waiting,sd_hint_wait_a_few_moments),ping_setPingAddress(n),setTimeout(startPing,5e4)}))}function do_restore(){clearDialog(),showWaitingDialog(common_waiting,sd_hint_wait_a_few_moments);var e="";getConfigData("config/lan/config.xml",(function(t){var n=xml2object(t);"config"==n.type&&(e=n.config.dhcps.ipaddress)}),{sync:!0}),saveAjaxData("api/device/control",object2xml("request",{Control:2}),(function(t){if(!isAjaxReturnOK(xml2object(t)))return closeWaitingDialog(),showInfoDialog(common_failed),!1;ping_setPingAddress(e),setTimeout(startPing,5e4)}))}function restore(){clearTimeout(g_decive_timer),clearTimeout(g_simcard_timer),clearTimeout(g_heart_beat_timer),g_needToLogin?getAjaxData("api/user/state-login",(function(e){var t=xml2object(e);"response"==t.type&&(0!=t.response.State?do_restore_unlogin():do_restore())}),{sync:!0}):do_restore()}function showRestoreDialog(){if("material"==webui_mode){document.querySelectorAll(".login_dialog").forEach((function(e,t,n){e.close()})),$(".login_dialog").remove();var e="";e+="<h4 class='mdl-dialog__title'>"+common_restore+"</h4>",e+="<div class='mdl-dialog__content'>",e+="    <div class='login'>",e+="           <div id='username_wrapper_home'>",e+="               <p>"+system_label_serial_number+common_colon+"</p>",e+="               <span><input type='text' class='input' id='txt_serial_number'  maxlength='20'/></span>",e+="           </div>",e+="           <div class='serial_number_style'>",e+='           <lable class="label_left" style="text-align:left">'+common_restore_inform+"</lable>",e+="           </div>",e+="    </div>",e+="</div>",e+="<div class='mdl-dialog__actions'>",e+="    <a href='javascript:void(0);' id='pop_restore' class='mdl-button'>"+common_restore+"</a>",e+="    <a href='javascript:void(0);' id='pop_Cancel' class='mdl-button'>"+common_cancel+"</a>",e+="</div>";var t=document.createElement("dialog");t.className="login_dialog mdl-dialog",t.id="dialog",t.innerHTML=e,$(".body_bg").before(t),t.showModal||dialogPolyfill.registerDialog(t),t.showModal()}else{$("#div_wrapper").remove(),$(".login_dialog").remove();e="";if($("#div_wrapper").size()<1&&(e+="<div id='div_wrapper'><iframe   id='ifream_dialog'  src= '' frameborder= '0' style= 'background:#bcbcbc; position:absolute; width:100%; height:100%; z-index:-1; display: block;'> </iframe></div>"),e+="<div class='login_dialog' id='dialog'>",e+="    <div class='login_dialog_content'>",e+="        <div class='login_dialog_header'>",e+="            <span class='dialog_header_left clr_white'>"+common_restore+"</span>",e+="            <span class='dialog_header_right'><a class='dialog_close_btn clr_gray' title='' href='javascript:void(0);'><canvas id='canvas' width='25px' height='25px'></canvas></a></span>",e+="        </div>",e+="        <div class='login_dialog_table'>",e+="               <div class='login'>",e+="               <div id='username_wrapper_home'>",e+="                   <p>"+system_label_serial_number+common_colon+"</p>",e+="                   <span><input type='text' class='input' id='txt_serial_number'  maxlength='20'/></span>",e+="               </div>",e+="               <div class='serial_number_style'>",e+='               <lable class="label_left" style="text-align:left">'+common_restore_inform+"</lable>",e+="               </div>",e+="               </div>",e+="        </div>",e+="        <div class='login_dialog_table_bottom'>",e+="              <span class='button_wrapper pop_login'>",e+="                  <input id='pop_restore' class='button_dialog' type='button' value='"+common_restore+"'/></span>",e+="&nbsp;&nbsp;&nbsp;&nbsp;<span class='button_wrapper pop_Cancel'>",e+="                  <input id='pop_Cancel' class='button_dialog' type='button' value='"+common_cancel+"'/></span>",e+="       </div>",e+="    </div>",e+="</div>",$(".body_bg").before(e),$.browser.msie&&9==parseInt($.browser.version,10))$(".button_wrapper").css("border-radius","3px"),draw(document.getElementById("canvas"));else if($.browser.msie&&parseInt($.browser.version,10)<9){$(".dialog_header_left").css("margin-top","5"),$(".login_dialog_header").css({width:"420px",height:"29px"}),$(".login_dialog_header").corner("top 5px"),$(".button_wrapper").css("background","#75ACD6"),$(".button_wrapper").corner("3px"),$(".button_wrapper input").css("padding-top","2px"),$(".login_dialog_table_bottom").corner("keep 3px cc:6a6a6a");$(".login_dialog_header a").append("<img src='../res/new_del.png' title='' alt='' />"),$(".dialog_close_btn").css("top","7px")}else{draw(document.getElementById("canvas"))}reputPosition($("#dialog"),$("#div_wrapper"))}g_main_displayingPromptStack.push("pop_login"),$("#txt_serial_number").focus(),disableTabKey()}function GetPLMN_main(){var e="",t="";0==(t=void 0!==G_MonitoringStatus.response.CurrentNetworkTypeEx&&""!=G_MonitoringStatus.response.CurrentNetworkTypeEx?G_MonitoringStatus.response.CurrentNetworkTypeEx:G_MonitoringStatus.response.CurrentNetworkType)||0==G_MonitoringStatus.response.CurrentServiceDomain||2!=G_MonitoringStatus.response.ServiceStatus||G_MonitoringStatus.response.WifiConnectionStatus==WIFI_CONNECTED||g_module.cradle_enabled&&G_cradleStationStatus.cradlestatus==CRADLE_NETLINE_EXIST&&G_cradleStationStatus.connectionmode!=CRADLELANONLY&&CRADLEAUTOMODE!=G_cradleStationStatus.connectionmode?0!=t&&0!=G_MonitoringStatus.response.CurrentServiceDomain&&2==G_MonitoringStatus.response.ServiceStatus||(e=dialup_label_no_service):(getAjaxData("operator.cgi",(function(t){var n=xml2object(t);"response"==n.type&&(e=null==n||""==n.response.State||" "==n.response.State||null==n.response.State?"":void 0!==n.response.ShortName&&n.response.ShortName.length>0?n.response.ShortName:void 0!==n.response.FullName&&n.response.FullName.length>0?n.response.FullName:"")}),{sync:!0}),""==e&&getAjaxData("api/net/current-plmn",(function(t){var n=xml2object(t);"response"==n.type&&(e=null==n||""==n.response.State||" "==n.response.State||null==n.response.State?"":void 0!==n.response.ShortName&&n.response.ShortName.length>0?n.response.ShortName:void 0!==n.response.FullName&&n.response.FullName.length>0?n.response.FullName:"")}),{sync:!0}),null!=G_MonitoringStatus&&void 0!==G_MonitoringStatus.response&&1==parseInt(G_MonitoringStatus.response.RoamingStatus,10)&&2==parseInt(G_MonitoringStatus.response.ServiceStatus,10)&&("new"==webui_mode?(e+=" ",e+="®"):(e+=" ",e+=IDS_dialup_label_roaming))),G_MonitoringStatus.response.WifiConnectionStatus==WIFI_CONNECTED?e=G_StationStatus.response.NetworkName:g_module.cradle_enabled&&G_cradleStationStatus.cradlestatus==CRADLE_NETLINE_EXIST&&G_cradleStationStatus.connectionmode!=CRADLELANONLY&&CRADLEAUTOMODE!=G_cradleStationStatus.connectionmode&&(e=IDS_plmn_label_wx),$("#index_plmn_name_main").text(e),$("#new_switch_title").text(e)}imgEle.setAttribute("src","../res/1020/msg.gif"),imgEle.setAttribute("class","email_img2"),imgEle.setAttribute("height","12px"),imgEle.setAttribute("width","15px"),$(imgEle).css({position:"absolute",top:"50%","margin-top":"-6px",left:"17px"}),$(document).ready((function(){(new Date).getMonth();if("material"==webui_mode){var e;$("#all_content script").remove(),$("#all_content").addClass("mdl-layout mdl-js-layout mdl-layout--fixed-header").prepend($("#login_wrapper, #wrapper").detach().find(".login_wrapper_dim.login_wrapper_filter > *, .wrapper_dim.wrapper_filter > *")),$(".center_box").get(0)?($(".center_box").before('<main class="mdl-layout__content"><div class="mdl-grid"><div class="mdl-cell mdl-cell--12-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone"></div></div></main>'),$("main > .mdl-grid > .mdl-cell").html($(".center_box, .notification, .login_box_info, .hot_links, #ad_div, #cbs_div").detach()),$(".center_box").addClass("mdl-card mdl-shadow--2dp").css("width","100%"),$("#center_box_main").addClass("mdl-card__supporting-text mdl-grid").removeAttr("style"),$("#status_info").addClass("mdl-cell mdl-cell--6-col-desktop mdl-cell--4-col-tablet mdl-cell--2-col-phone"),$("#status_img").replaceWith('<div id="status_img_container" class="mdl-cell mdl-cell--6-col-desktop mdl-cell--4-col-tablet mdl-cell--2-col-phone"><div id="status_img" class="mdl-typography--text-center" style="float: right;">'+$("#status_img").html()+"</div></div>"),$("#index_plmn_name").parent().replaceWith('<h4><p id="'+$("#index_plmn_name").attr("id")+'">'+$("#index_plmn_name").html()+"</p></h4>")):($($(".content, .stk_content, .content_box").get(0)).before('<main class="mdl-layout__content"></main>'),$(".content, .stk_content, .content_box").each((function(){var e=$(this).children("*").detach();$("main").append($(this).detach()),$(this).addClass("mdl-grid"),$(this).html('<div class="mdl-cell mdl-cell--12-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone"></div>'),$(this).children(".mdl-cell").html(e)}))),$("main").append($("#footer").detach()),$($(".agile_station").get(0)).before('<div id="agile_station_card" class="mdl-card mdl-shadow--2dp" style="width: 100%;"><div class="mdl-card__supporting-text"></div></div>'),$("#agile_station_card > .mdl-card__supporting-text").html($(".agile_station").detach()),$($(".agile_station_1").get(0)).before('<div id="agile_station_1_card" class="mdl-card mdl-shadow--2dp" style="width: 100%;"><div class="mdl-card__supporting-text"></div></div>'),$("#agile_station_1_card > .mdl-card__supporting-text").html($(".agile_station_1").detach()),$(".agile_statistics_table, .statistics_mobile_table").attr("width","100%"),$(".agile_station h2").each((function(){$(this).children("script").remove(),$(this).parent().children("table").prepend('<thead><th colspan="2"><h5>'+$(this).html()+"</h5></th></thead>"),$(this).remove()})),$("#button_set_package").css({marginLeft:"50%",transform:"translateX(-50%)"}),$(".agile_lgtab").hide(),$(".note > script").remove(),$("#agile_station_card .mdl-card__supporting-text").append($(".agile_set_package.agile_station_button").detach()).append($(".traffic_status").detach()),$(".note").html("<p>"+$(".note").html()+"<hr></p>"),$("#span_button_clear_history").css("float","right").after("<br>"),$("#clear_history table, #clear_history td").removeAttr("width").removeAttr("height"),$("#clear_history table").attr("width","100%"),$("#clear_history table").attr("align","right"),$("#clear_history table td").addClass("mdl-typography--text-right"),$(".content_right, .content_right_sms, .content_right_pb").addClass("mdl-card mdl-shadow--2dp").css("width","100%"),$(".stk_main_content").get(0)&&((e=document.createElement("div")).id="stk_content_card",e.className="mdl-card mdl-shadow--2dp",e.style="width: 100%",$(".stk_content > .mdl-cell").append(e)),$(".main_content, .sms_main_content, .pb_main_content, .main_content_special, .stk_main_content").addClass("mdl-card__supporting-text"),$(".stk_main_content").get(0)&&$(e).append($(".stk_main_content").detach()),$("table").attr("width","100%"),$(".maintitle > h1, .status_title.clr_blue_title_h2 h2:first, .card > :first-child > h1").each((function(){$(this).children("script").remove(),$(this).replaceWith('<span id="'+$(this).attr("id")+'">'+$(this).html()+"</span>")})),$(".maintitle, .status_title.clr_blue_title_h2:first, .card > :first-child").each((function(){$(this).prependTo("#agile_station_card, .content_right, .content_right_sms, .content_right_pb, #stk_content_card").replaceWith('<div class="mdl-card__title"><h2 class="mdl-card__title-text">'+$(this).html()+"</h2></div>")})),$("h1").each((function(){$(this).children("script").remove(),$(this).replaceWith('<h4 id="'+$(this).attr("id")+'" class="mdl-color-text--accent">'+$(this).html()+"</h4><hr>")})),$(".main_content h2, .main_content_special h2").each((function(){$(this).children("script").remove(),$(this).replaceWith('<h5 id="'+$(this).attr("id")+'">'+$(this).html()+"</h5>")})),$("#networksearch").removeAttr("style"),$(".main_content td").removeAttr("width").removeAttr("height"),$("#stk_back_page").parent().parent().each((function(){$(this).replaceWith('<center id="'+$(this).attr("id")+'" class="'+$(this).attr("id")+'">'+$(this).html()+"</center>")})),$("td > label, th > label").each((function(){$(this).children("script").remove(),$(this).replaceWith("<span id="+$(this).attr("id")+">"+$(this).html()+"</span>")})),$("#pb_img_search").hide();var t=$.fn.val;$.fn.val=function(){var e=t.apply(this,arguments);return"function"==typeof $.fn.material_select&&arguments.length&&void 0!==this.get(0)&&"select"==this.get(0).tagName.toLowerCase()&&(this.material_select(),this.parent().removeClass(this.attr("class").replace(/(\\s|^)initialized(\\s|$)/g,""))),e};var n=$.attr;$.attr=function(){var e=n.apply(this,arguments);return arguments[0].parentNode&&arguments.length>2&&(void 0!==arguments[0].parentNode.MaterialRadio?("checked"==arguments[1]&&!1===arguments[2]?arguments[0].parentNode.MaterialRadio.uncheck():"checked"==arguments[1]&&arguments[0].parentNode.MaterialRadio.check(),arguments[0].parentNode.MaterialRadio.checkDisabled()):void 0!==arguments[0].parentNode.MaterialCheckbox&&("checked"==arguments[1]&&!1===arguments[2]?arguments[0].parentNode.MaterialCheckbox.uncheck():"checked"==arguments[1]&&arguments[0].parentNode.MaterialCheckbox.check(),arguments[0].parentNode.MaterialCheckbox.checkDisabled())),e};var a=$.removeAttr;$.removeAttr=function(){var e=a.apply(this,arguments);return arguments[0].parentNode&&arguments.length>1&&(void 0!==arguments[0].parentNode.MaterialRadio?(arguments[0].parentNode.MaterialRadio.checkToggleState(),arguments[0].parentNode.MaterialRadio.checkDisabled()):void 0!==arguments[0].parentNode.MaterialCheckbox&&(arguments[0].parentNode.MaterialCheckbox.checkToggleState(),arguments[0].parentNode.MaterialCheckbox.checkDisabled())),e},"undefined"!=typeof componentHandler&&componentHandler.upgradeElement($("#all_content").get(0)),materializeInputs(),materializeButtons(),$("#status").fadeOut(),$("#preloader").delay(350).fadeOut("slow"),$("body").delay(350).css({overflow:"visible"}),new MutationObserver((function(e){e.forEach((function(e){materializeInputs(),materializeButtons()}))})).observe(document.body,{attributes:!0,childList:!0,characterData:!0})}else"new"==webui_mode&&($("body #all_content").before('<div id="new_webui"></div>'),$("#new_webui").append('<div id="new_header"></div>'),$("#new_webui").append('<div id="new_body"></div>'),$("body").append('<div id="new_footer"></div>'),$("#header").css("display","none"),$("#footer").css("display","none"),creatHeader(),initialStatusIcon(),setMainText(),addMainEvent(),setNavData(),$('input[type="button"]').css({}),$('input[type="button"]').mouseover((function(){$(this).css({})})),$('input[type="button"]').mouseout((function(){$(this).css({})})),creatFooter())}));var last_battery_level=null,mynumber=void 0;function materializeInputs(){for(var e=document.querySelectorAll('input[type="radio"]:not(.mdl-radio__button)'),t=0;t<e.length;t++)$(e[t]).parent().find("span script").remove(),void 0===$(e[t]).attr("id")&&$(e[t]).attr("id",$(e[t]).attr("name")+"_"+t),$(e[t]).addClass("mdl-radio__button"),$(e[t]).after('<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="'+$(e[t]).attr("id")+'">'+(e[t].nextSibling&&e[t].nextSibling.nextSibling?'<span class="mdl-radio__label">'+$(e[t].nextSibling.nextSibling).detach().text()+"</span>":'<span class="mdl-radio__label"></span>')+"</label>"),$(e[t]).next().prepend($(e[t]).detach()),"undefined"!=typeof componentHandler&&componentHandler.upgradeElement(e[t].parentNode);var n=document.querySelectorAll('input[type="checkbox"]:not(.mdl-checkbox__input)');for(t=0;t<n.length;t++)$(n[t]).parent().find("span script").remove(),void 0===$(n[t]).attr("id")&&$(n[t]).attr("id",$(n[t]).attr("name")+"_"+t),$(n[t]).addClass("mdl-checkbox__input"),$(n[t]).after('<label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="'+$(n[t]).attr("id")+'">'+(n[t].nextSibling&&n[t].nextSibling.nextSibling?'<span class="mdl-checkbox__label">'+$(n[t].nextSibling.nextSibling).detach().text()+"</span>":'<span class="mdl-checkbox__label"></span>')+"</label>"),$(n[t]).next().prepend($(n[t]).detach()),"undefined"!=typeof componentHandler&&componentHandler.upgradeElement(n[t].parentNode);$('input[type="file"]:not(.file_input_file)').each((function(){$(this).addClass("file_input_file"),$(this).after('<div class="file_input_div"><div class="file_input"><label class="image_input_button mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab mdl-js-ripple-effect mdl-button--colored"><i class="material-icons">file_upload</i></label></div><div class="file_input_text_div mdl-textfield mdl-js-textfield"><input class="file_input_text mdl-textfield__input browser-default" type="text" disabled readonly /><label class="mdl-textfield__label"></label></div></div>'),$(this).appendTo($(this).next().find(".image_input_button")),"undefined"!=typeof componentHandler&&componentHandler.upgradeElement(this.parentNode)})),$("select > option > script").remove(),"function"==typeof $.fn.material_select&&$("select").each((function(){$(this).material_select(),$(this).parent().removeClass($(this).attr("class").replace(/(\s|^)initialized(\s|$)/g,""))})),$('input[type="text"]:not(.mdl-textfield__input, .select-dropdown), textarea:not(.mdl-textfield__input)').each((function(){$(this).addClass("mdl-textfield__input browser-default"),$(this).after('<div class="mdl-textfield mdl-js-textfield"><label class="mdl-textfield__label"></label></div>'),$(this).prependTo($(this).next()),"undefined"!=typeof componentHandler&&componentHandler.upgradeElement(this.parentNode)})),$("pre").each((function(){$(this).replaceWith('<p id="'+$(this).attr("id")+'" class="'+$(this).attr("class")+'">'+$(this).html()+"</p>")}))}function materializeButtons(){$('input[type="button"]').each((function(){$(this).replaceWith('<a href="javascript:void(0);" id="'+$(this).attr("id")+'" class="'+$(this).attr("class")+'" style="'+$(this).attr("style")+'">'+$(this).attr("value")+"</a>")})),$(".mdl-card__supporting-text .apply_button").each((function(){$(this).parents(".mdl-card").append('<div class="mdl-card__actions mdl-card--border"></div>'),$(this).parents(".mdl-card").children(".mdl-card__actions").append($(this).detach())})),$(".apply_button, .ussd_right_concent, .align_right, pb_contact_right_bottom").addClass("mdl-typography--text-right"),$(".button_dialog").addClass("mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--accent"),$('.button_dialog:not(".apply_button .button_dialog")').addClass("mdl-button--raised"),$(".disable_btn").addClass("mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--accent").attr("disabled",""),$('.disable_btn:not(".apply_button .disable_btn")').addClass("mdl-button--raised"),$(".button_dialog, .disable_btn").each((function(){"undefined"!=typeof componentHandler&&componentHandler.upgradeElement(this)}))}function materializeLeftMenu(){$(".main_left").get(0)&&($("#all_content").is(".mdl-layout--fixed-drawer")||($("#all_content").addClass("mdl-layout--fixed-drawer"),"undefined"!=typeof componentHandler&&componentHandler.upgradeElement($("#all_content").get(0))),$("#nav-leftmenu").get(0)||$("#nav-mobile").after('<nav id="nav-leftmenu" class="mdl-navigation"></nav>')),$(".main_left > div > ul").get(0)&&$("#nav-leftmenu").is(":empty")&&($("#nav-leftmenu").empty(),$(".main_left > div > ul").each((function(){$(this).is(":first-child")||($(this).children("*").appendTo($(this).parent().children("ul:first")),$(this).remove())})),$(".main_left > div > ul p").each((function(){$(this).replaceWith('<span id="'+$(this).attr("id")+'" class="'+$(this).attr("class")+'">'+$(this).html()+"</span>")})),$(".main_left > div > ul > li").each((function(){if($(this).find("a").get(0)||$(this).html('<a href="javascript:void(0);">'+$(this).html()+"</a>"),$(this).hasClass("sub")){var e=$(this).children(".rootstyle"),t=e.next();$("#nav-leftmenu").append(e.addClass("mdl-navigation__link").detach()),t.attr("for",e.attr("id")).addClass("mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect"),t.children("li").children("a").addClass("mdl-menu__item").removeAttr("style"),e.after(t.detach()),e.replaceWith('<a href="javascript:void(0);" class="'+e.attr("class")+'" id="'+e.attr("id")+'">'+e.html()+"</a>"),"undefined"!=typeof componentHandler&&componentHandler.upgradeElement(t.get(0))}else $("#nav-leftmenu").append($(this).children("a").addClass("mdl-navigation__link").removeAttr("style").detach())})),$(".main_left > div > ul").remove())}function isFirmwareSupportsModule(e){var t=!1;return getAjaxData(e,(function(e){var n=xml2object(e);("response"==n.type||"error"==n.type&&n.error.code!=ERROR_SYSTEM_NO_SUPPORT)&&(t=!0)}),{sync:!0}),t}function isSdCardEnabled(){var e=!1;return getAjaxData("api/sdcard/sdcard",(function(t){var n=xml2object(t);"response"==n.type&&"0"!=n.response.sdcard.SDCardStatus&&(e=!0)}),{sync:!0}),e}function addWebUIInitDialog(){call_dialog(system_label_add_webui_init,"<div>"+system_label_add_webui_init_desc+'</div><table border="0" cellpadding="0" cellspacing="0"><tr><td valign="middle">'+system_label_add_webui_init_os+common_colon+'</td><td valign="middle"><select id="add_webui_init_os" class="input_select"><option value="windows">Windows</option><option value="linux">Linux</option></select></td></tr></table><div>'+system_label_add_webui_init_archive_notice+'</div><a id="add_webui_init_download" style="display:none;"></a>',system_label_add_webui_init_download,"pop_Download",common_close,"pop_Cancel"),"windows"==$("#add_webui_init_os").val()?($("#add_webui_init_download").attr("href","/add_webui_init.zip"),$("#add_webui_init_download").attr("download","add_webui_init.zip")):"linux"==$("#add_webui_init_os").val()&&($("#add_webui_init_download a").attr("href","/add_webui_init.sh.gz"),$("#add_webui_init_download a").attr("download","add_webui_init.sh.gz")),$("#add_webui_init_os").change((function(){"windows"==$(this).val()?($("#add_webui_init_download").attr("href","/add_webui_init.zip"),$("#add_webui_init_download").attr("download","add_webui_init.zip")):"linux"==$(this).val()&&($("#add_webui_init_download").attr("href","/add_webui_init.sh.gz"),$("#add_webui_init_download").attr("download","add_webui_init.sh.gz"))})),$("#pop_Download").click((function(){document.querySelector("#add_webui_init_download").click()}))}function isFactoryResetRequired(){var e=!1;return getAjaxData("factoryreset.cgi",(function(t){void 0!==xml2object(t).error&&(e=!0)}),{sync:!0}),e}function getModSettings(){var e=[];return $.ajax({type:"GET",url:"/modsettings.json",success:function(t,n,a){void 0!==t.response&&(e=t.response)},dataType:"json",async:!1}),e}function getUserConfig(){var e={};return getConfigData("user_config.data",(function(t){var n=xml2object(t);void 0!==n.config&&(e=n.config)}),{sync:!0}),0==Object.keys(e).length&&getConfigData("config/global/user_config.xml",(function(t){var n=xml2object(t);void 0!==n.config&&(e=n.config)}),{sync:!0}),e}

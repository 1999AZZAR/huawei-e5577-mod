var g_upnpStatus,g_new_status;function initPageData(){getAjaxData("api/security/upnp",(function(t){var a=xml2object(t);"response"==a.type&&(0==(g_upnpStatus=parseInt(a.response.UpnpStatus,10))?($("#ck_disable").attr("checked",!0),$("#ck_enable").attr("checked",!1)):($("#ck_disable").attr("checked",!1),$("#ck_enable").attr("checked",!0)))}))}function onRadioChange(){(g_new_status=$("#ck_enable").get(0).checked?1:0)==g_upnpStatus?button_enable("apply","0"):button_enable("apply","1")}function onApply(){if(isButtonEnable("apply")){button_enable("apply","0"),g_upnpStatus=g_new_status;var t=object2xml("request",{UpnpStatus:g_upnpStatus});saveAjaxData("api/security/upnp",t,(function(t){var a=xml2object(t);isAjaxReturnOK(a)?(button_enable("apply","0"),showInfoDialog(common_success)):initPageData()}))}}$(document).ready((function(){button_enable("apply","0"),$("#ck_enable").click((function(){onRadioChange()})),$("#ck_disable").click((function(){onRadioChange()})),$("#apply").click((function(){onApply()})),initPageData()}));

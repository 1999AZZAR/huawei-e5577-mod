var g_ussd_status="0",g_onchange_status="0",g_selectBoxs={};function createSelect(t,e){var n=void 0===e.onlyread,i=e.direction_up||!1,s=e.maxlength||40,o=e.maxheight||600,a=!0;!function(){var e=document.createElement("div");$(e).attr("class","selecter");var c=document.createElement("div");$(c).attr("class","selecter_select");var r=document.createElement("input");$(r).attr("type","text"),$(r).attr("readonly",n).css({cursor:n?"pointer":"default"}),$(r).attr("maxlength",s),$(r).attr("id",t[0].id+"_input"),c.appendChild(r),c.onclick=function(e){if("true"==$(this).attr("disabled"))return!1;t.find(".selecter_options").toggle(0,(function(){a&&(newPositionByDirection(c,i,o),a=!1)}))},r.onchange=function(){g_onchange_status="1",t.sVal(this.value)},r.onblur=function(){"0"==g_onchange_status&&t.sVal(this.value),g_onchange_status="0"},r.onfocus=function(){"1"==g_ussd_status&&(g_ussd_status="0")},$(document).click((function(t){"selecter_select"==$(t.target).attr("class")||"text"==$(t.target).attr("type")&&n||$(c).next().hide()})),e.appendChild(c),t.html("").append($(e))}()}function createOptions(t,e){if(t.find(".selecter_options").remove(),!(e.length<=0)){var n=document.createElement("div");$(n).attr("class","selecter_options");var i=document.createElement("div");i.setAttribute("class","options_wrapper"),$(n).hide(),$(n).append($(i)),t.children().append($(n)),$.each(e,(function(e,n){var s=document.createElement("span");$(s).text(n[1]),$(s).bind("click",(function(){"function"!=typeof n[0]?(g_onchange_status="1",t.sVal(n[0]),t.sText(n[1]),t.find(".selecter_options").hide(),$(this).trigger("change",n)):n[0]()})),s.onmouseover=function(){$(this).addClass("selecter_options_hover")},s.onmouseout=function(){$(this).removeClass("selecter_options_hover")},i.appendChild(s)}))}}function newPositionByDirection(t,e,n){var i=$(t).width();$(t).next().css({width:i,"z-index":"-1"}),$(t).find("input").width(i-18);var s=e?1:0,o=e?0:1;if($(t).next().find("span").css({"border-top-width":s,"border-bottom-width":o}),$(t).next().find("div").height()>n?$(t).next().css({height:n,"overflow-y":"scroll","overflow-x":"hidden"}).find("span").css({"padding-right":3,width:i-20}):$(t).next().css({"border-top-width":0,"border-bottom-width":0}),e){var a=$(t).position().top-$(t).next().height();$(t).next().css({top:a})}$(t).next().css({"z-index":"3"})}$.fn.createSelect=function(){new createSelect(this,arguments[0]||{});var t=this.attr("id");g_selectBoxs[t]={curVal:null,arrVal:[]}},$.fn.createOptions=function(){arguments[0]=arguments[0]||[],new createOptions(this,arguments[0]);var t=this.attr("id");g_selectBoxs[t].arrVal=arguments[0]},$.fn.sVal=function(){var t=this.attr("id");if(!(arguments.length>0))return g_ussd_status="0",g_selectBoxs[t].curVal;var e=arguments[0],n=[e,e];$.each(g_selectBoxs[t].arrVal,(function(t,i){return e==i[1]||e==i[0]?n=i:void 0})),g_selectBoxs[t].curVal=n[0],this.find("input").val(n[1])},$.fn.sText=function(){if(!(arguments.length>0))return this.find("input").val()||null;this.find("input").val(arguments[0])},$.fn.onchange=function(t){$(this).find("span").bind("change",(function(e,n,i){t(n,i)}))},$.fn.disabled=function(){this.find(".selecter_options").hide(),this.find(".selecter_select").attr("disabled",arguments[0]).children().attr("disabled",arguments[0])},$.fn.sfocus=function(){this.find("input").focus()},$.fn.sselect=function(){this.find("input").select()};

var g_wlan_basicData=[],g_backup_pwd=[],WIFIAUTHMODE_AUTO="AUTO",WIFIAUTHMODE_OPEN="OPEN",WIFIAUTHMODE_SHARE="SHARE",WIFIAUTHMODE_WPA_PSK="WPA-PSK",WIFIAUTHMODE_WPA2_PSK="WPA2-PSK",WIFIAUTHMODE_WPA_WPA2_PSK="WPA/WPA2-PSK",WIFIADVENCRYPMODE_AES="AES",WIFIADVENCRYPMODE_MIX="MIX",WIFIBASICENCRYPMODE_NONE="NONE",WIFIBASICENCRYPMODE_WEP="WEP",WIFIBASICENCRYPMODE_WEP64="WEP64",WIFIBASICENCRYPMODE_WEP128="WEP128",DISPLAY_PASSWORD_ON="1",DISPLAY_PASSWORD_OFF="0",g_WifiFeature=null,g_ssid2_wifiOffload=null,g_wlan_multiSsidStatus=null,g_wlan_show_password=null,g_wlan_Ssidpassword_config="",g_editIndex=0,g_editFlag=-1,g_logoutTimer=null,g_wlan_basicData_old=null,g_wlan_securityData_old=null,g_doubleSSID_enable=-1,g_multissidstatus=-1,g_ssid2wifioffload=!1,g_workband=null,g_wlan_basicSetting_ex=[],IDS_wlan_fre_0="2.4GHz",IDS_wlan_fre_1="5GHz",g_wlanStatus=!0,g_isChangeSecurityMode=!1,initWlanValue="",postWlanValue="";function wlanbasicsettings_networkKey(a,i){$("#"+i+"_neworkKey1").val(g_wlan_basicData[g_editIndex].WifiWepKey1),$("#"+i+"_neworkKey2").val(g_wlan_basicData[g_editIndex].WifiWepKey2),$("#"+i+"_neworkKey3").val(g_wlan_basicData[g_editIndex].WifiWepKey3),$("#"+i+"_neworkKey4").val(g_wlan_basicData[g_editIndex].WifiWepKey4),a==WIFIAUTHMODE_OPEN?$("#"+i+"_network_key").hide():a!=WIFIAUTHMODE_SHARE&&a!=WIFIAUTHMODE_AUTO||($("#"+i+"_network_key").show(),$("#"+i+"_current_network_key").val(g_wlan_basicData[g_editIndex].WifiWepKeyIndex))}function getDAesString(a,i,e){i=CryptoJS.enc.Hex.parse(i),e=CryptoJS.enc.Hex.parse(e);return CryptoJS.AES.decrypt(a,i,{iv:e,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7}).toString(CryptoJS.enc.Latin1)}function wlanbasicsettings_initPage(){checkLeftMenu(g_PageUrlTree.settings.wlan.wps)?null!=g_wifiFeatureSwitch&&"1"==g_wifiFeatureSwitch.opennonewps_enable?$("#wpsbasic_p").html(IDS_wlan_message_encryption_catuion_wpa):$("#wpsbasic_p").html(IDS_wlan_message_encryption_catuion_open_wep):$("#wpsbasic_p").html(setting_IDS_wlan_message_encryption_catuion_nowps),1==g_wlan_Ssidpassword_config?($("#wlan_device_password_enable").show(),wlanbasicsettings_getSSIDPassword_DisplayEnable()):$("#wlan_device_password_enable").hide(),getAjaxData("api/wlan/basic-settings",(function(a){var i=xml2object(a);g_wlan_basicData_old=i.response}),{sync:!0}),getAjaxData("api/wlan/security-settings",(function(a){var i=xml2object(a);if(g_wlan_securityData_old=i.response,1==g_scarm_login){var e=CryptoJS.SCRAM(),t=e.nonce().toString(),_=e.nonce().toString(),s=doRSAEncrypt(t+_),n=object2xml("request",{module:"wlan",nonce:s});saveAjaxData("api/user/pwd",n,(function(a){var i=xml2object(a);if("response"==i.type){var s=i.response.pwd,n=CryptoJS.enc.Hex.parse(_),l=i.response.iter,o=e.saltedPassword(t,n,l),d=(o=o.toString()).substring(0,32),c=o.substring(32,48),r=o.substring(48,64),w=e.signature(CryptoJS.enc.Hex.parse(s),CryptoJS.enc.Hex.parse(r));if(w=w.toString(),i.response.hash==w){var g,p=getDAesString(CryptoJS.enc.Base64.stringify(CryptoJS.enc.Hex.parse(s)),d,c);if("string"==typeof(p=XSS_UnescapesSpecialChar(p.substring(p.indexOf("<response>"))))||"number"==typeof p)if(window.ActiveXObject)(g=new ActiveXObject("Microsoft.XMLDOM")).async=!1,g.loadXML(p);else g=(new DOMParser).parseFromString(p,"text/xml");else g=p;var u=xml2object($(g));if("response"==u.type){var f=u.response.Ssids.Ssid;g_wlan_securityData_old.WifiWpapsk=f.WifiWpapsk,g_wlan_securityData_old.WifiWepKey1=f.WifiWepKey1,g_wlan_securityData_old.WifiWepKey2=f.WifiWepKey2,g_wlan_securityData_old.WifiWepKey3=f.WifiWepKey3,g_wlan_securityData_old.WifiWepKey4=f.WifiWepKey4}}}}),{sync:!0})}}),{sync:!0}),list_wifiBasicData={WifiSsid:g_wlan_basicData_old.WifiSsid,WifiEnable:g_wlan_basicData_old.WifiEnable,WifiBroadcast:g_wlan_basicData_old.WifiHide,WifiIsolate:g_wlan_basicData_old.WifiIsolate,WifiAuthmode:g_wlan_securityData_old.WifiAuthmode,WifiWepKey1:g_wlan_securityData_old.WifiWepKey1,WifiWepKey2:g_wlan_securityData_old.WifiWepKey2,WifiWepKey3:g_wlan_securityData_old.WifiWepKey3,WifiWepKey4:g_wlan_securityData_old.WifiWepKey4,WifiWepKeyIndex:g_wlan_securityData_old.WifiWepKeyIndex,WifiWpaencryptionmodes:g_wlan_securityData_old.WifiWpaencryptionmodes,WifiBasicencryptionmodes:g_wlan_securityData_old.WifiBasicencryptionmodes,WifiWpapsk:g_wlan_securityData_old.WifiWpapsk},g_wlan_basicData.push(list_wifiBasicData),g_wlanStatus="1"==g_wlan_basicData[0].WifiEnable,$("input[name='wlan_turn_on'][value="+g_wlan_basicData[0].WifiEnable+"]").attr("checked",!0);var a=g_wlan_basicData[0].WifiAuthmode;a==WIFIAUTHMODE_WPA2_PSK||a==WIFIAUTHMODE_WPA_WPA2_PSK?g_wlan_basicData[0].WifiWpaencryptionmodes:a!=WIFIAUTHMODE_OPEN&&a!=WIFIAUTHMODE_AUTO||g_wlan_basicData[0].WifiBasicencryptionmodes,$(".ssid_table").remove(),g_isChangeSecurityMode=change2SecurityMode(),addSSID(g_wlan_basicData[0].WifiSsid,g_wlan_basicData[0].WifiAuthmode,g_wlan_basicData[0].WifiEnable)}function wlanbasicsettings_getSSIDPassword_DisplayEnable(){getAjaxData("api/wlan/oled-showpassword",(function(a){var i=xml2object(a);"response"==i.type?"1"==(g_wlan_show_password=i.response).oledshowpassword?$("#wlan_wps_password_disply_input").attr("checked","checked"):$("#wlan_wps_password_disply_input").removeAttr("checked"):i.error.code==ERROR_SYSTEM_BUSY?showInfoDialog(common_system_busy):showInfoDialog(common_fail)}),{sync:!0})}function addSSID(){var a=null,i=1;for(a="<tr class='ssid_table'>",i=0;i<arguments.length;i++)0==i?(arguments[i]=spaceToNbsp(XSSResolveCannotParseChar(arguments[i])),a+="<td width='118px' height = '30px' align = 'middle' style='word-break: break-all;'>"+arguments[i]+"</td>"):a+=2==i?"0"==arguments[i]?"<td width='115px' align = 'middle'><span class ='ssid_table'>"+common_off+"</span></td>":"<td width='115px' align = 'middle'><span class ='ssid_table'>"+common_on+"</span></td>":"<td width='115px' align = 'middle'>"+XSSResolveCannotParseChar(arguments[i])+"</td>";a+="<td width='83px' align = 'middle'><span class= 'button_edit_list clr_blue' style='float:none; padding:0;' >"+common_edit+"</span></td></tr>",$("#ssid_list tr:last").after(a)}function wlan_multiSsid_initPage(){checkLeftMenu(g_PageUrlTree.settings.wlan.wps)?null!=g_wifiFeatureSwitch&&"1"==g_wifiFeatureSwitch.opennonewps_enable?$("#wpsbasic_p").html(IDS_wlan_message_encryption_catuion_wpa):$("#wpsbasic_p").html(IDS_wlan_message_encryption_catuion_open_wep):$("#wpsbasic_p").html(setting_IDS_wlan_message_encryption_catuion_nowps);var a=null;g_editFlag=-1,1==g_wlan_Ssidpassword_config?($("#wlan_device_password_enable").show(),wlanbasicsettings_getSSIDPassword_DisplayEnable()):$("#wlan_device_password_enable").hide(),getAjaxData("api/wlan/multi-basic-settings",(function(i){var e=xml2object(i);if(a=e.response.Ssids.Ssid,g_wlan_basicData=CreateArray(a),1==g_scarm_login){var t=CryptoJS.SCRAM(),_=t.nonce().toString(),s=t.nonce().toString(),n=doRSAEncrypt(_+s),l=object2xml("request",{module:"wlan",nonce:n});saveAjaxData("api/user/pwd",l,(function(i){var e=xml2object(i);if("response"==e.type){var n=e.response.pwd,l=CryptoJS.enc.Hex.parse(s),o=e.response.iter,d=t.saltedPassword(_,l,o),c=(d=d.toString()).substring(0,32),r=d.substring(32,48),w=d.substring(48,64),g=t.signature(CryptoJS.enc.Hex.parse(n),CryptoJS.enc.Hex.parse(w));if(g=g.toString(),e.response.hash==g){var p,u=getDAesString(CryptoJS.enc.Base64.stringify(CryptoJS.enc.Hex.parse(n)),c,r);if("string"==typeof(u=XSS_UnescapesSpecialChar(u.substring(u.indexOf("<response>"))))||"number"==typeof u)if(window.ActiveXObject)(p=new ActiveXObject("Microsoft.XMLDOM")).async=!1,p.loadXML(u);else p=(new DOMParser).parseFromString(u,"text/xml");else p=u;var f=xml2object($(p));if("response"==f.type){a=f.response.Ssids.Ssid;var b=CreateArray(a);$(g_wlan_basicData).each((function(a){g_wlan_basicData[a].WifiWpapsk=b[a].WifiWpapsk,g_wlan_basicData[a].MixWifiWpapsk=b[a].MixWifiWpapsk,g_wlan_basicData[a].WifiWepKey1=b[a].WifiWepKey1,g_wlan_basicData[a].WifiWepKey2=b[a].WifiWepKey2,g_wlan_basicData[a].WifiWepKey3=b[a].WifiWepKey3,g_wlan_basicData[a].WifiWepKey4=b[a].WifiWepKey4}))}}}}),{sync:!0})}g_backup_pwd=[],$(g_wlan_basicData).each((function(a){var i={};i.WifiWpapsk=g_wlan_basicData[a].WifiWpapsk,i.MixWifiWpapsk=g_wlan_basicData[a].MixWifiWpapsk,i.WifiWepKey1=g_wlan_basicData[a].WifiWepKey1,i.WifiWepKey2=g_wlan_basicData[a].WifiWepKey2,i.WifiWepKey3=g_wlan_basicData[a].WifiWepKey3,i.WifiWepKey4=g_wlan_basicData[a].WifiWepKey4,g_backup_pwd.push(i),delete g_wlan_basicData[a].WifiWep128Key1,delete g_wlan_basicData[a].WifiWep128Key2,delete g_wlan_basicData[a].WifiWep128Key3,delete g_wlan_basicData[a].WifiWep128Key4})),null!=g_wifiFeatureSwitch&&"1"==g_wifiFeatureSwitch.wifi24g_switch_enable?(g_wlanStatus="1"==g_wlan_basicData[0].wifitotalswitch,$("input[name='wlan_turn_on'][value="+g_wlan_basicData[0].wifitotalswitch+"]").attr("checked",!0)):(g_wlanStatus="1"==g_wlan_basicData[0].WifiEnable,$("input[name='wlan_turn_on'][value="+g_wlan_basicData[0].WifiEnable+"]").attr("checked",!0))}),{sync:!0}),initWlanValue=null!=g_wifiFeatureSwitch&&"1"==g_wifiFeatureSwitch.wifi24g_switch_enable?g_wlan_basicData[0].wifitotalswitch:g_wlan_basicData[0].WifiEnable,(null==g_wifiFeatureSwitch||null!=g_wifiFeatureSwitch&&1!=g_wifiFeatureSwitch.maxapnum)&&(multiSsidOnOffStatus(),(null!=g_wifiFeatureSwitch&&2==g_wifiFeatureSwitch.maxapnum||null==g_wifiFeatureSwitch&&g_module.multi_ssid_enabled)&&(g_doubleSSID_enable=g_wlan_basicData[1].WifiEnable,getAjaxData("api/wlan/multi-switch-settings",(function(a){var i=xml2object(a);"response"==i.type&&(g_wlan_multiSsidStatus=i.response,g_multissidstatus=g_wlan_multiSsidStatus.multissidstatus,g_wlan_basicData[1].WifiEnable=g_wlan_multiSsidStatus.multissidstatus)}),{sync:!0}))),g_isChangeSecurityMode=change2SecurityMode(),addData()}function change2SecurityMode(){var a=!1;return $(g_wlan_basicData).each((function(i){switch(g_wlan_basicData[i].WifiAuthmode){case WIFIAUTHMODE_SHARE:g_wlan_basicData[i].WifiAuthmode=WIFIAUTHMODE_AUTO,g_wlan_basicData[i].WifiBasicencryptionmodes=WIFIBASICENCRYPMODE_WEP,a=!0;break;case WIFIAUTHMODE_OPEN:WIFIBASICENCRYPMODE_WEP==g_wlan_basicData[i].WifiBasicencryptionmodes&&(g_wlan_basicData[i].WifiAuthmode=WIFIAUTHMODE_AUTO,g_wlan_basicData[i].WifiBasicencryptionmodes=WIFIBASICENCRYPMODE_WEP,a=!0);break;case WIFIAUTHMODE_WPA_PSK:g_wlan_basicData[i].WifiAuthmode=WIFIAUTHMODE_WPA_WPA2_PSK,g_wlan_basicData[i].WifiWpaencryptionmodes=WIFIADVENCRYPMODE_MIX,a=!0;break;case WIFIAUTHMODE_WPA2_PSK:WIFIADVENCRYPMODE_AES!=g_wlan_basicData[i].WifiWpaencryptionmodes&&(g_wlan_basicData[i].WifiAuthmode=WIFIAUTHMODE_WPA_WPA2_PSK,g_wlan_basicData[i].WifiWpaencryptionmodes=WIFIADVENCRYPMODE_MIX,a=!0);break;case WIFIAUTHMODE_WPA_WPA2_PSK:WIFIADVENCRYPMODE_MIX!=g_wlan_basicData[i].WifiWpaencryptionmodes&&(g_wlan_basicData[i].WifiAuthmode=WIFIAUTHMODE_WPA_WPA2_PSK,g_wlan_basicData[i].WifiWpaencryptionmodes=WIFIADVENCRYPMODE_MIX,a=!0)}})),a}function addData(){$(".ssid_table").remove(),$(g_wlan_basicData).each((function(a){var i=g_wlan_basicData[a].WifiAuthmode,e="";WIFIAUTHMODE_OPEN==i?e=IDS_wlan_label_open:WIFIAUTHMODE_AUTO==i?e=wlan_label_wep:WIFIAUTHMODE_WPA2_PSK==i?e=wlan_label_wpa2_psk:WIFIAUTHMODE_WPA_WPA2_PSK==i&&(e=wlan_label_wpa_wpa2_psk),addSSID(g_wlan_basicData[a].WifiSsid,e,g_wlan_basicData[a].WifiEnable)}))}function updateArraData(a){if(null!=g_wlan_basicData[g_editIndex=a].WifiBroadcast&&(1==g_wlan_basicData[g_editIndex].WifiBroadcast?$("#color").css("color","red"):$("#color").css("color","black")),1==g_module.multi_ssid_enabled&&1==g_wifiFeatureSwitch.isdoublechip){var i=g_wlan_basicSetting_ex[g_editIndex].WifiMode;"a/n"==i||"a"==i||"a/n/ac"==i?$("#band_text").html(IDS_wlan_fre_1):$("#band_text").html(IDS_wlan_fre_0)}else $("#ssid_workband").hide();refreshData(),addData(),$(".button_edit_list").eq(g_editIndex).removeClass("clr_blue").addClass("editing").addClass("clr_gray"),showEditData()}function refreshData(){g_wlan_basicData[g_editFlag].WifiEnable=$("[name='ssid_status']:checked").val(),g_wlan_basicData[g_editFlag].WifiSsid=$("#ssid_wifiName").val(),g_wlan_basicData[g_editFlag].WifiBroadcast=$("[name=ssid_wifiBroadcast]:checked").val();var a=$("#ssid_authentication").val();g_wlan_basicData[g_editFlag].WifiAuthmode=a,g_wlan_basicData[g_editFlag].WifiRestart=1,a==WIFIAUTHMODE_WPA2_PSK?(g_wlan_basicData[g_editFlag].WifiWpaencryptionmodes=WIFIADVENCRYPMODE_AES,g_wlan_basicData[g_editFlag].WifiWpapsk=$("#ssid_wpa_key").val()):a==WIFIAUTHMODE_WPA_WPA2_PSK?(g_wlan_basicData[g_editFlag].WifiWpaencryptionmodes=WIFIADVENCRYPMODE_MIX,g_wlan_basicData[g_editFlag].WifiWpapsk=$("#ssid_wpa_key").val()):a==WIFIAUTHMODE_AUTO?(g_wlan_basicData[g_editFlag].WifiWepKey1=$("#ssid_neworkKey1").val(),g_wlan_basicData[g_editFlag].WifiWepKey2=$("#ssid_neworkKey2").val(),g_wlan_basicData[g_editFlag].WifiWepKey3=$("#ssid_neworkKey3").val(),g_wlan_basicData[g_editFlag].WifiWepKey4=$("#ssid_neworkKey4").val(),g_wlan_basicData[g_editFlag].WifiWepKeyIndex=$("#ssid_current_network_key").val(),g_wlan_basicData[g_editFlag].WifiBasicencryptionmodes=WIFIBASICENCRYPMODE_WEP):a==WIFIAUTHMODE_OPEN&&(g_wlan_basicData[g_editFlag].WifiBasicencryptionmodes=WIFIBASICENCRYPMODE_NONE)}function showEditData(){if(g_ssid2wifioffload=!1,button_enable("apply_button","1"),$("#SSID").show(),$(":input").removeAttr("disabled"),$(".select_input").removeAttr("disabled"),g_editFlag=g_editIndex,null!=g_wifiFeatureSwitch&&""!=g_wifiFeatureSwitch&&("1"==g_wifiFeatureSwitch.wifi24g_switch_enable?$("#ssid_enable").show():0==g_editIndex?$("#ssid_enable").hide():$("#ssid_enable").show()),$("#ssid_authentication").empty(),$("#ssid_authentication").prepend("<option value='WPA/WPA2-PSK'>"+wlan_label_wpa_wpa2_psk+"</option>"),$("#ssid_authentication").prepend("<option value='WPA2-PSK'>"+wlan_label_wpa2_psk+"</option>"),$("#ssid_authentication").prepend("<option value='AUTO'>"+wlan_label_wep+"</option>"),$("#ssid_authentication").prepend("<option value='OPEN'>"+IDS_wlan_label_open+"</option>"),$(".button_edit_list").eq(g_editIndex).removeClass("clr_blue").addClass("editing").addClass("clr_gray"),$("input[name='ssid_status'][value="+g_wlan_basicData[g_editIndex].WifiEnable+"]").attr("checked",!0),$("input[name='ssid_wifiBroadcast'][value="+g_wlan_basicData[g_editIndex].WifiBroadcast+"]").attr("checked",!0),$("#ssid_wifiName").val(g_wlan_basicData[g_editIndex].WifiSsid),$("#ssid_authentication").val(g_wlan_basicData[g_editIndex].WifiAuthmode),$("#ssid_current_network_key").val(g_wlan_basicData[g_editIndex].WifiWepKeyIndex),$("#ssid_encryption_mode_wpa").val(g_wlan_basicData[g_editIndex].WifiWpaencryptionmodes),$("#ssid_wpa_key").val(g_wlan_basicData[g_editIndex].WifiWpapsk),WIFIAUTHMODE_OPEN==g_wlan_basicData[g_editIndex].WifiAuthmode?($("#ssid_authentication_open_wep").show(),$("#ssid_authentication_open_wep").html(wlan_hint_use_encryption),$("#div_ssid_encrypt_way1").hide(),$("#div_ssid_encrypt_way2").hide(),$("#ssid_encryption_mode_basic").val(g_wlan_basicData[g_editIndex].WifiBasicencryptionmodes),wifiAuthMode=WIFIAUTHMODE_OPEN):WIFIAUTHMODE_AUTO==g_wlan_basicData[g_editIndex].WifiAuthmode?($("#ssid_authentication_open_wep").show(),$("#ssid_authentication_open_wep").html(wlan_hint_use_safe_encryption),$("#ssid_encryption_mode_basic").val(g_wlan_basicData[g_editIndex].WifiBasicencryptionmodes),$("#div_ssid_encrypt_way1").show(),$("#div_ssid_encrypt_way2").hide(),$("#ssid_network_key").show(),$("#ssid_caution").show(),wlanbasicsettings_networkKey(g_wlan_basicData[g_editIndex].WifiAuthmode,"ssid"),$("#check_wpa_psk").removeAttr("checked"),wlanbasicsettings_showPassword("#check_wpa_psk"),wifiAuthMode=WIFIAUTHMODE_AUTO,$("#ssid_authentication").val(WIFIAUTHMODE_AUTO)):WIFIAUTHMODE_WPA2_PSK==g_wlan_basicData[g_editIndex].WifiAuthmode?($("#ssid_authentication_open_wep").hide(),$("#div_ssid_encrypt_way2").show(),$("#div_ssid_encrypt_way1").hide(),$("#ssid_encryption_mode_basic").val(WIFIADVENCRYPMODE_AES),$("#check_wpa_psk_02").removeAttr("checked"),wlanbasicsettings_showPassword("#check_wpa_psk_02"),wifiAuthMode=WIFIAUTHMODE_WPA2_PSK):WIFIAUTHMODE_WPA_WPA2_PSK==g_wlan_basicData[g_editIndex].WifiAuthmode&&($("#ssid_authentication_open_wep").hide(),$("#div_ssid_encrypt_way2").show(),$("#div_ssid_encrypt_way1").hide(),$("#ssid_encryption_mode_basic").val(WIFIADVENCRYPMODE_MIX),$("#check_wpa_psk_02").removeAttr("checked"),wlanbasicsettings_showPassword("#check_wpa_psk_02"),wifiAuthMode=WIFIAUTHMODE_WPA_WPA2_PSK),null!=g_ssid2_wifiOffload&&2==g_ssid2_wifiOffload.Handover&&0!=g_editIndex?($("#ssid_turn_on").attr("disabled","disabled"),$("#ssid_turn_off").attr("disabled","disabled"),$("#SSID :input").attr("disabled","disabled"),g_ssid2wifioffload||(button_enable("apply_button","0"),showInfoDialog(multi_ssidStatus_message),g_ssid2wifioffload=!0)):"0"!=$("[name='ssid_status']:checked").val()&&g_wlanStatus?g_wlanStatus||($(":input").removeAttr("disabled"),$(".select_input").removeAttr("disabled")):($("#SSID :input").attr("disabled","disabled"),$(".select_input").removeAttr("disabled","disabled"),g_wlanStatus&&($("#ssid_turn_on").removeAttr("disabled"),$("#ssid_turn_off").removeAttr("disabled"))),null==g_wifiFeatureSwitch||0!=g_wifiFeatureSwitch.doubleap5g_enable||2!=g_wifiFeatureSwitch.maxapnum||0!=g_wifiFeatureSwitch.isdoublechip||0==g_editIndex||1!=g_wifiFeatureSwitch.wifi5g_enabled||"a/n"!=g_wlanInfo.WifiMode&&"a/n/ac"!=g_wlanInfo.WifiMode?"0"!=$("[name='ssid_status']:checked").val()&&g_wlanStatus?g_wlanStatus||($(":input").removeAttr("disabled"),$(".select_input").removeAttr("disabled")):($("#SSID :input").attr("disabled","disabled"),$(".select_input").removeAttr("disabled","disabled"),g_wlanStatus&&($("#ssid_turn_on").removeAttr("disabled"),$("#ssid_turn_off").removeAttr("disabled"))):(showInfoDialog(IDS_5G_doubleSsid),$("#ssid_turn_on").attr("disabled","disabled"),$("#ssid_turn_off").attr("disabled","disabled"),$("#SSID :input").attr("disabled","disabled"),button_enable("apply_button","0")),null!=g_wlan_basicData[g_editIndex].WifiBroadcast&&(1==g_wlan_basicData[g_editIndex].WifiBroadcast?$("#color").css("color","red"):$("#color").css("color","black")),1==g_module.multi_ssid_enabled&&1==g_wifiFeatureSwitch.isdoublechip){var a=g_wlan_basicSetting_ex[g_editIndex].WifiMode;"a/n"==a||"a"==a||"a/n/ac"==a?$("#band_text").html(IDS_wlan_fre_1):$("#band_text").html(IDS_wlan_fre_0)}else $("#ssid_workband").hide();1==g_module.multi_ssid_enabled&&1==g_wifiFeatureSwitch.isdoublechip&&4==g_wifiFeatureSwitch.maxapnum&&(1==g_editIndex&&"0"==g_wlan_basicData[0].WifiEnable&&($("#SSID :input").attr("disabled","disabled"),g_wlan_basicData[1].WifiEnable="0"),3==g_editIndex&&"0"==g_wlan_basicData[2].WifiEnable&&($("#SSID :input").attr("disabled","disabled"),g_wlan_basicData[3].WifiEnable="0"))}function wlanbasicsettings_authentication(a,i){a==WIFIAUTHMODE_AUTO?($("#div_"+i+"_encrypt_way1").show(),$("#div_"+i+"_encrypt_way2").hide(),wlanbasicsettings_networkKey(WIFIAUTHMODE_AUTO,i),$("#ssid_caution").show()):a==WIFIAUTHMODE_OPEN?($("#div_"+i+"_encrypt_way1").hide(),$("#div_"+i+"_encrypt_way2").hide()):a==WIFIAUTHMODE_WPA2_PSK?($("#div_"+i+"_encrypt_way2").show(),$("#div_"+i+"_encrypt_way1").hide(),$("#ssid_caution").hide(),$("#"+i+"_encryption_mode_wpa").val(WIFIADVENCRYPMODE_AES)):a==WIFIAUTHMODE_WPA_WPA2_PSK&&($("#div_"+i+"_encrypt_way2").show(),$("#div_"+i+"_encrypt_way1").hide(),$("#ssid_caution").hide(),$("#"+i+"_encryption_mode_wpa").val(WIFIADVENCRYPMODE_MIX))}function writeInArra(){var a;g_wlan_basicData[g_editIndex].WifiSsid=$.trim($("#ssid_wifiName").val()),g_wlan_basicData[g_editIndex].WifiBroadcast=$("[name=ssid_wifiBroadcast]:checked").val(),a=$("#ssid_authentication").val(),g_wlan_basicData[g_editIndex].WifiAuthmode=a,WIFIAUTHMODE_WPA2_PSK==a?(g_wlan_basicData[g_editIndex].WifiWpaencryptionmodes=WIFIADVENCRYPMODE_AES,g_wlan_basicData[g_editIndex].WifiWpapsk=$("#ssid_wpa_key").val(),g_wlan_basicData[g_editIndex].WifiAuthmode=WIFIAUTHMODE_WPA2_PSK):WIFIAUTHMODE_WPA_WPA2_PSK==a?(g_wlan_basicData[g_editIndex].WifiWpaencryptionmodes=WIFIADVENCRYPMODE_MIX,g_wlan_basicData[g_editIndex].WifiWpapsk=$("#ssid_wpa_key").val(),g_wlan_basicData[g_editIndex].WifiAuthmode=WIFIAUTHMODE_WPA_WPA2_PSK):WIFIAUTHMODE_AUTO==a?(g_wlan_basicData[g_editIndex].WifiAuthmode=WIFIAUTHMODE_AUTO,g_wlan_basicData[g_editIndex].WifiWepKey1=$("#ssid_neworkKey1").val(),g_wlan_basicData[g_editIndex].WifiWepKey2=$("#ssid_neworkKey2").val(),g_wlan_basicData[g_editIndex].WifiWepKey3=$("#ssid_neworkKey3").val(),g_wlan_basicData[g_editIndex].WifiWepKey4=$("#ssid_neworkKey4").val(),g_wlan_basicData[g_editIndex].WifiWepKeyIndex=$("#ssid_current_network_key").val(),g_wlan_basicData[g_editIndex].WifiBasicencryptionmodes=WIFIBASICENCRYPMODE_WEP):WIFIAUTHMODE_OPEN==a&&(g_wlan_basicData[g_editIndex].WifiAuthmode=WIFIAUTHMODE_OPEN,g_wlan_basicData[g_editIndex].WifiBasicencryptionmodes=WIFIBASICENCRYPMODE_NONE)}function wlanbasicsettings_postData(a){writeInArra(),g_wlan_basicData_old.WifiEnable=g_wlan_basicData[0].WifiEnable,g_wlan_basicData_old.WifiSsid=$.trim(g_wlan_basicData[0].WifiSsid),g_wlan_basicData_old.WifiHide=g_wlan_basicData[0].WifiBroadcast,g_wlan_basicData_old.WifiRestart=0,g_wlan_basicData_old.WifiIsolate=g_wlan_basicData[0].WifiIsolate;var i=object2xml("request",g_wlan_basicData_old);a||button_enable("apply_button","0"),$(":input:not(#lang)").attr("disabled","disabled"),saveAjaxData("api/wlan/basic-settings",i,(function(i){var e=xml2object(i);$(":input").removeAttr("disabled"),$("#SSID").hide(),isAjaxReturnOK(e)?(button_enable("apply_button","0"),setTimeout((function(){security_set(a)}),500)):(e.error.code==ERROR_SYSTEM_BUSY?a||showInfoDialog(common_system_busy):a||showInfoDialog(common_fail),a||button_enable("apply_button","1"))}),{sync:!0})}function security_set(a){g_wlan_securityData_old.WifiAuthmode=g_wlan_basicData[0].WifiAuthmode,g_wlan_securityData_old.WifiWpaencryptionmodes=g_wlan_basicData[0].WifiWpaencryptionmodes,g_wlan_securityData_old.WifiBasicencryptionmodes=g_wlan_basicData[0].WifiBasicencryptionmodes,WIFIAUTHMODE_AUTO==g_wlan_securityData_old.WifiAuthmode?(g_wlan_securityData_old.WifiWepKey1=g_wlan_basicData[0].WifiWepKey1,g_wlan_securityData_old.WifiWepKey2=g_wlan_basicData[0].WifiWepKey2,g_wlan_securityData_old.WifiWepKey3=g_wlan_basicData[0].WifiWepKey3,g_wlan_securityData_old.WifiWepKey4=g_wlan_basicData[0].WifiWepKey4,g_wlan_securityData_old.WifiWepKeyIndex=g_wlan_basicData[0].WifiWepKeyIndex):WIFIAUTHMODE_WPA2_PSK!=g_wlan_securityData_old.WifiAuthmode&&WIFIAUTHMODE_WPA_WPA2_PSK!=g_wlan_securityData_old.WifiAuthmode||(g_wlan_securityData_old.WifiWpapsk=g_wlan_basicData[0].WifiWpapsk),g_wlan_securityData_old.WifiRestart=1,button_enable("apply_button","0"),xmlStr=object2xml("request",g_wlan_securityData_old),saveAjaxData("api/wlan/security-settings",xmlStr,(function(i){var e=xml2object(i);$(":input").removeAttr("disabled"),isAjaxReturnOK(e)?a||(button_enable("apply_button","0"),showInfoDialog(common_success),wlanbasicsettings_initPage()):(e.error.code==ERROR_SYSTEM_BUSY?a||showInfoDialog(common_system_busy):a||showInfoDialog(common_fail),a||button_enable("apply_button","1"))}),{enc:!0})}function wlanbasicsettings_checkName(a){var i=$.trim($("#"+a+"_wifiName").val()),e=null;return e="1"==g_wifiFeatureSwitch.chinesessid_enable?checkInputSsidNameValid(a+"_wifiName",i):validateSsid(i),common_ok==e||(showErrorUnderTextbox(a+"_wifiName",e),$("#"+a+"_wifiName").focus(),$("#"+a+"_wifiName").select(),!1)}function wlanbasicsettings_checkNetworkKeyPwd(a){var i=$("#"+a).val(),e=null,t=!1;return 0==i.length?e=dialup_hint_password_empty:hasSpaceOrTabAtHead(i)?e=input_cannot_begin_with_space:5==i.length||13==i.length?checkInputChar(i)?t=!0:e=wlan_hint_wep_key_valid_type:e=wlan_hint_64_or_128_bit_key,t||(showErrorUnderTextbox(a,e),$("#"+a).focus(),$("#"+a).select()),t}function wlanbasicsettings_checkWapPwd(a){var i=$("#"+a).val(),e=null,t=!1;return 0==i.length?e=dialup_hint_password_empty:hasSpaceOrTabAtHead(i)?e=input_cannot_begin_with_space:i.length>=8&&i.length<=63?checkInputChar(i)?t=!0:e=wlan_hint_wps_psk_valid_char:e=wlan_hint_wps_psk_valid_type,t||(showErrorUnderTextbox(a,e),$("#"+a).focus(),$("#"+a).select()),t}function wlanbasicsettings_checkWifiSecurity(a){$("#"+a+"_current_network_key").val();var i=$("#"+a+"_authentication").val();$("#"+a+"_encryption_mode_basic").val();if(i==WIFIAUTHMODE_WPA2_PSK||i==WIFIAUTHMODE_WPA_WPA2_PSK)return wlanbasicsettings_checkWapPwd(a+"_wpa_key");if(i==WIFIAUTHMODE_AUTO){if(!wlanbasicsettings_checkNetworkKeyPwd(a+"_neworkKey1"))return!1;if(!wlanbasicsettings_checkNetworkKeyPwd(a+"_neworkKey2"))return!1;if(!wlanbasicsettings_checkNetworkKeyPwd(a+"_neworkKey3"))return!1;if(!wlanbasicsettings_checkNetworkKeyPwd(a+"_neworkKey4"))return!1}return!0}function wlanbasicsettings_showPwdStrength(a){$("#"+a).live("keydown keypress keyup focus change",(function(i){("keydown"!=i.type&&"keypress"!=i.type&&"keyup"!=i.type||37!=i.keyCode&&38!=i.keyCode&&39!=i.keyCode&&40!=i.keyCode)&&($("#"+a).val().length>0?(clearPasswordStrength(),showPasswordStrength(a),setPWDStrengthColor(checkPWStrength($("#"+a).val()))):setPWDStrengthColor(0))}))}function wlanbasicsettings_showPassword(a){var i=$(a).attr("checked"),e=i?"text":"password";i?($("#check_wpa_psk_02").attr("checked",!0),$("#check_wpa_psk").attr("checked",!0)):($("#check_wpa_psk").attr("checked",!1),$("#check_wpa_psk_02").attr("checked",!1)),$.each($("input[name=ssid_key_name]"),(function(a){var i=$(this).val(),t=$(this).attr("id");$("<input id='"+$(this).attr("id")+"' name='ssid_key_name' type='"+e+"' autocomplete='off' class='input_style' maxlength='"+$(this).attr("maxlength")+"' />").replaceAll($("#"+$(this).attr("id"))),$("#"+t).val(i)}))}function fourSsid_postData(a){var i="";-1!=g_editFlag&&writeInArra();var e="";$.isArray(g_wlan_basicData)?$(g_wlan_basicData).each((function(a){g_wlan_basicData[a].WifiSsid=wifiSsidResolveCannotParseChar(g_wlan_basicData[a].WifiSsid),g_backup_pwd[a].WifiWpapsk==g_wlan_basicData[a].WifiWpapsk?delete g_wlan_basicData[a].WifiWpapsk:(g_wlan_basicData[a].WifiWpapsk=doRSAEncrypt(wifiSsidResolveCannotParseChar(g_wlan_basicData[a].WifiWpapsk)),e+="WifiWpapsk,"),g_backup_pwd[a].MixWifiWpapsk==g_wlan_basicData[a].MixWifiWpapsk?delete g_wlan_basicData[a].MixWifiWpapsk:(g_wlan_basicData[a].MixWifiWpapsk=doRSAEncrypt(wifiSsidResolveCannotParseChar(g_wlan_basicData[a].MixWifiWpapsk)),e+="MixWifiWpapsk,"),g_backup_pwd[a].WifiWepKey1==g_wlan_basicData[a].WifiWepKey1?delete g_wlan_basicData[a].WifiWepKey1:(g_wlan_basicData[a].WifiWepKey1=doRSAEncrypt(wifiSsidResolveCannotParseChar(g_wlan_basicData[a].WifiWepKey1)),e+="WifiWepKey1,"),g_backup_pwd[a].WifiWepKey2==g_wlan_basicData[a].WifiWepKey2?delete g_wlan_basicData[a].WifiWepKey2:(g_wlan_basicData[a].WifiWepKey2=doRSAEncrypt(wifiSsidResolveCannotParseChar(g_wlan_basicData[a].WifiWepKey2)),e+="WifiWepKey2,"),g_backup_pwd[a].WifiWepKey3==g_wlan_basicData[a].WifiWepKey3?delete g_wlan_basicData[a].WifiWepKey3:(g_wlan_basicData[a].WifiWepKey3=doRSAEncrypt(wifiSsidResolveCannotParseChar(g_wlan_basicData[a].WifiWepKey3)),e+="WifiWepKey3,"),g_backup_pwd[a].WifiWepKey4==g_wlan_basicData[a].WifiWepKey4?delete g_wlan_basicData[a].WifiWepKey4:(g_wlan_basicData[a].WifiWepKey4=doRSAEncrypt(wifiSsidResolveCannotParseChar(g_wlan_basicData[a].WifiWepKey4)),e+="WifiWepKey4,")})):(g_wlan_basicData.WifiSsid=wifiSsidResolveCannotParseChar(g_wlan_basicData.WifiSsid),g_wlan_basicData.WifiWpapsk=doRSAEncrypt(wifiSsidResolveCannotParseChar(g_wlan_basicData.WifiWpapsk)),g_wlan_basicData.MixWifiWpapsk=doRSAEncrypt(wifiSsidResolveCannotParseChar(g_wlan_basicData.MixWifiWpapsk)),g_wlan_basicData.WifiWepKey1=doRSAEncrypt(wifiSsidResolveCannotParseChar(g_wlan_basicData.WifiWepKey1)),g_wlan_basicData.WifiWepKey2=doRSAEncrypt(wifiSsidResolveCannotParseChar(g_wlan_basicData.WifiWepKey2)),g_wlan_basicData.WifiWepKey3=doRSAEncrypt(wifiSsidResolveCannotParseChar(g_wlan_basicData.WifiWepKey3)),g_wlan_basicData.WifiWepKey4=doRSAEncrypt(wifiSsidResolveCannotParseChar(g_wlan_basicData.WifiWepKey4)));var t=!1;""!=e&&(t=!0);var _={Ssids:{Ssid:g_wlan_basicData},WifiRestart:1};postWlanValue=null!=g_wifiFeatureSwitch&&"1"==g_wifiFeatureSwitch.wifi24g_switch_enable?g_wlan_basicData[0].wifitotalswitch:g_wlan_basicData[0].WifiEnable,button_enable("apply_button","0"),$(":input:not(#lang)").attr("disabled","disabled"),(null!=g_wifiFeatureSwitch&&2==g_wifiFeatureSwitch.maxapnum||null==g_wifiFeatureSwitch&&g_module.multi_ssid_enabled)&&("undefined"==g_wifiFeatureSwitch.wifi24g_switch_enable||"undefined"!=g_wifiFeatureSwitch.wifi24g_switch_enable&&initWlanValue==postWlanValue)&&((null==g_ssid2_wifiOffload||null!=g_ssid2_wifiOffload&&2!=g_ssid2_wifiOffload.Handover)&&"-1"!=g_multissidstatus&&g_multissidstatus!=g_wlan_basicData[1].WifiEnable&&(_={Ssids:{Ssid:g_wlan_basicData},WifiRestart:0}),i=g_wlan_basicData[1].WifiEnable),null==g_wifiFeatureSwitch||0!=g_wifiFeatureSwitch.doubleap5g_enable||2!=g_wifiFeatureSwitch.maxapnum||0!=g_wifiFeatureSwitch.isdoublechip||1!=i||1!=g_wifiFeatureSwitch.wifi5g_enabled||"a/n"!=g_wlanInfo.WifiMode&&"a/n/ac"!=g_wlanInfo.WifiMode||showInfoDialog(IDS_5G_doubleSsid,!1,refresh);var s=!1,n=object2xml("request",_);if(saveAjaxData("api/wlan/multi-basic-settings",n,(function(i){var e=xml2object(i);$(":input").removeAttr("disabled"),isAjaxReturnOK(e)?a||(showInfoDialog(common_success),g_editFlag=-1,button_enable("apply_button","0")):(e.error.code==ERROR_SYSTEM_BUSY?a||showInfoDialog(common_system_busy):a||showInfoDialog(common_fail),s=!0,button_enable("apply_button","1"))}),{sync:!0,enp:t,enpstring:e}),null!=g_wifiFeatureSwitch&&2==g_wifiFeatureSwitch.maxapnum||null==g_wifiFeatureSwitch&&g_module.multi_ssid_enabled)if("undefined"==g_wifiFeatureSwitch.wifi24g_switch_enable||"undefined"!=g_wifiFeatureSwitch.wifi24g_switch_enable&&initWlanValue==postWlanValue)if(g_wlan_basicData[1].WifiEnable=i,(null==g_ssid2_wifiOffload||null!=g_ssid2_wifiOffload&&2!=g_ssid2_wifiOffload.Handover)&&"-1"!=g_multissidstatus&&g_multissidstatus!=g_wlan_basicData[1].WifiEnable){g_wlan_multiSsidStatus.multissidstatus=g_wlan_basicData[1].WifiEnable;var l=object2xml("request",g_wlan_multiSsidStatus);saveAjaxData("api/wlan/multi-switch-settings",l,(function(a){var i=xml2object(a);isAjaxReturnOK(i)?(wlan_multiSsid_initPage(),showEditData(),button_enable("apply_button","0")):(i.error.code==ERROR_SYSTEM_BUSY?showInfoDialog(common_system_busy):showInfoDialog(common_fail),button_enable("apply_button","1"))}),{sync:!0})}else wlan_multiSsid_initPage(),showEditData(),s||button_enable("apply_button","0");else wlan_multiSsid_initPage(),showEditData(),s||button_enable("apply_button","0");else wlan_multiSsid_initPage(),showEditData(),s||button_enable("apply_button","0")}function quicksetup_validateSsidName(){var a=arguments[0],i=arguments[1],e=!0;return $(g_wlan_basicData).each((function(t){a!=t&&g_wlan_basicData[t].WifiSsid==i&&(showInfoDialog(multi_ssid_same_message),e=!1)})),e}function fourSsid_apply(){$("#ssid_authentication").val();if(-1!=g_editFlag&&"0"!=g_wlan_basicData[g_editFlag].WifiEnable){if(!wlanbasicsettings_checkName("ssid"))return;if(!wlanbasicsettings_checkWifiSecurity("ssid"))return;if(!quicksetup_validateSsidName(g_editIndex,$.trim($("#ssid_wifiName").val())))return}fourSsid_postData(),$("#ssid_wifiName").val($.trim($("#ssid_wifiName").val()))}function wlanbasicsettings_apply(){if(clearAllErrorLabel(),clearPasswordStrength(),isButtonEnable("apply_button"))if(null!=g_wifiFeatureSwitch)fourSsid_apply();else if(g_module.multi_ssid_enabled)fourSsid_apply();else{$("#ssid_authentication").val();wlanbasicsettings_checkName("ssid")&&wlanbasicsettings_checkWifiSecurity("ssid")&&wlanbasicsettings_postData()}}function wifiConfigDataDisplay(){"1"==g_WifiFeature.wifidisplayenable?$("#wlan_module").show():$("#wlan_module").hide();var a="<option value= "+WIFIADVENCRYPMODE_AES+">"+wlan_label_aes+"</option>";wlan_label_aes_tkip;$("#ssid_encryption_mode_wpa").append(a)}function multiSsidOnOffStatus(){g_module.wifioffload_enable&&getAjaxData("api/wlan/handover-setting",(function(a){var i=xml2object(a);"response"==i.type&&(2==(g_ssid2_wifiOffload=i.response).Handover&&0!=g_editIndex?($("#ssid_turn_on").attr("disabled","disabled"),$("#ssid_turn_off").attr("disabled","disabled"),$("#SSID :input").attr("disabled","disabled"),-1==g_editIndex||g_ssid2wifioffload||(showInfoDialog(multi_ssidStatus_message),showEditData(),g_ssid2wifioffload=!0)):"0"!=$("[name='ssid_status']:checked").val()&&g_wlanStatus&&($("#ssid_turn_on").removeAttr("disabled"),$("#ssid_turn_off").removeAttr("disabled"),$(":input").removeAttr("disabled")))}),{sync:!0}),setTimeout(multiSsidOnOffStatus,3e3)}function main_executeBeforeDocumentReady(){getConfigData("config/wifi/configure.xml",(function(a){g_WifiFeature=_xml2feature(a),g_wlan_Ssidpassword_config=DISPLAY_PASSWORD_ON==g_WifiFeature.ssidpasswordenable?g_WifiFeature.ssidpasswordenable:DISPLAY_PASSWORD_OFF}),{sync:!0})}function getApNum(){null==g_wifiFeatureSwitch&&getAjaxData("api/wlan/wifi-feature-switch",(function(a){var i=xml2object(a);"response"==i.type&&(g_wifiFeatureSwitch=i.response)}),{sync:!0})}function hideList(){null==g_wifiFeatureSwitch||""==g_wifiFeatureSwitch?g_module.multi_ssid_enabled||$("#ssid_list").hide():1==g_wifiFeatureSwitch.maxapnum&&$("#ssid_list").hide()}main_executeBeforeDocumentReady(),$(document).ready((function(){var a=g_main_convergedStatus.CurrentLanguage,i=[],e=!1;if(void 0!==(i=CreateArray(LANGUAGE_DATA.usermanual_language_list.support_language.language))&&""!=i){var t=0;for(t=0;t<i.length;t++)a.replace(/_/,"-")==i[t].replace(/_/,"-")&&(e=!0)}0==e&&(a=LANGUAGE_DATA.usermanual_language_list.default_language.replace(/_/,"-"));var _="<span class='broadcast_help_link clr_blue_a clr_blue_hover'><a href='../usermanual/"+a+"/usermanual/WLAN_plugin/web_wlan_task_00004.html' target= '_blank'>"+common_help+"</a></span>",s=IDS_wlan_broadcast_notes.replace("%s",_);$("#color").html(s),wifiConfigDataDisplay(),getApNum(),1==g_module.multi_ssid_enabled&&1==g_wifiFeatureSwitch.isdoublechip?getAjaxData("api/wlan/multi-security-settings-ex",(function(a){var i=xml2object(a).response.ssids.ssid;g_wlan_basicSetting_ex=CreateArray(i)}),{sync:!0}):$("#ssid_workband").hide(),openPortToCss("ssid_list"),$("input[type=checkbox]").removeAttr("checked"),$("#tooltips_ico_help").qtip({prerender:!0,content:"<b>"+wlan_label_encryption_mode+"</b>:"+wlan_label_aes+","+wlan_label_aes_tkip,position:{my:"right center",at:"left center"}}),button_enable("apply_button","0"),wlanbasicsettings_showPwdStrength("ssid_wpa_key"),wlanbasicsettings_showPwdStrength("ssid_neworkKey1"),wlanbasicsettings_showPwdStrength("ssid_neworkKey2"),wlanbasicsettings_showPwdStrength("ssid_neworkKey3"),wlanbasicsettings_showPwdStrength("ssid_neworkKey4"),$("input[type=text]").live("keydown click",(function(a){MACRO_KEYCODE!=a.keyCode&&button_enable("apply_button","1")})),$("input[type=radio]").live("keydown click",(function(a){MACRO_KEYCODE!=a.keyCode&&button_enable("apply_button","1")})),$("input[type=password]").live("keydown click",(function(a){MACRO_KEYCODE!=a.keyCode&&button_enable("apply_button","1")})),$("#check_wpa_psk").click((function(){wlanbasicsettings_showPassword("#check_wpa_psk")})),$("#check_wpa_psk_02").click((function(){wlanbasicsettings_showPassword("#check_wpa_psk_02")})),$("#ssid_current_network_key").change((function(){clearPasswordStrength(),button_enable("apply_button","1")})),$("#ssid_authentication").change((function(){clearPasswordStrength(),WIFIAUTHMODE_OPEN==$("#ssid_authentication").val()?($("#ssid_authentication_open_wep").show(),$("#ssid_authentication_open_wep").html(wlan_hint_use_encryption)):WIFIAUTHMODE_AUTO==$("#ssid_authentication").val()?($("#ssid_authentication_open_wep").show(),$("#ssid_authentication_open_wep").html(wlan_hint_use_safe_encryption)):WIFIAUTHMODE_WPA2_PSK!=$("#ssid_authentication").val()&&WIFIAUTHMODE_WPA_WPA2_PSK!=$("#ssid_authentication").val()||$("#ssid_authentication_open_wep").hide(),button_enable("apply_button","1"),wlanbasicsettings_authentication(this.value,"ssid")})),$("#ssid_encryption_mode_wpa,  #ssid_wifiIsolate").change((function(){clearPasswordStrength(),button_enable("apply_button","1")})),$("#wlan_wps_password_disply_input").live("click",(function(){clearPasswordStrength(),g_wlan_show_password.oledshowpassword=$("#wlan_wps_password_disply_input:checked").val()?1:0;var a=object2xml("request",g_wlan_show_password);saveAjaxData("api/wlan/oled-showpassword",a,(function(a){var i=xml2object(a);isAjaxReturnOK(i)?showInfoDialog(sd_hint_wait_a_few_moments,!0):wlanbasicsettings_getSSIDPassword_DisplayEnable()}))})),null==g_wifiFeatureSwitch||""==g_wifiFeatureSwitch?g_module.multi_ssid_enabled?wlan_multiSsid_initPage():wlanbasicsettings_initPage():wlan_multiSsid_initPage(),g_isChangeSecurityMode&&(null!=g_wifiFeatureSwitch||g_module.multi_ssid_enabled?fourSsid_postData(!0):wlanbasicsettings_postData(!0)),showEditData(),button_enable("apply_button","0"),$(".button_edit_list").live("click",(function(){if(null!=g_wlan_basicData[g_editIndex].WifiBroadcast&&(1==g_wlan_basicData[g_editIndex].WifiBroadcast?$("#color").css("color","red"):$("#color").css("color","black")),!$(this).hasClass("editing")){clearAllErrorLabel(),clearPasswordStrength();var a=$(".button_edit_list").index(this);if(-1!=g_editFlag&&g_editFlag!=a){if("0"!=g_wlan_basicData[g_editFlag].WifiEnable&&g_wlanStatus){if(!wlanbasicsettings_checkName("ssid"))return;if(!wlanbasicsettings_checkWifiSecurity("ssid"))return;if(!quicksetup_validateSsidName(g_editFlag,$("#ssid_wifiName").val()))return}g_editIndex=a,refreshData(),$(".ssid_table").remove(),addData(),$(".button_edit_list").eq(g_editIndex).removeClass("clr_blue").addClass("editing").addClass("clr_gray"),null!=g_wlan_basicData[g_editIndex].WifiBroadcast&&(1==g_wlan_basicData[g_editIndex].WifiBroadcast?$("#color").css("color","red"):$("#color").css("color","black"))}if(null!=g_wlan_basicData[g_editIndex=a].WifiBroadcast&&(1==g_wlan_basicData[g_editIndex].WifiBroadcast?$("#color").css("color","red"):$("#color").css("color","black")),1==g_module.multi_ssid_enabled&&1==g_wifiFeatureSwitch.isdoublechip){var i=g_wlan_basicSetting_ex[g_editIndex].WifiMode;"a/n"==i||"a"==i||"a/n/ac"==i?$("#band_text").html(IDS_wlan_fre_1):$("#band_text").html(IDS_wlan_fre_0)}else $("#ssid_workband").hide();showEditData()}})),$("#ssid_turn_on").click((function(){$("#ssid_turn_off").removeAttr("checked"),g_wlan_basicData[g_editIndex].WifiEnable=$("[name='ssid_status']:checked").val(),$(":input").removeAttr("disabled"),$(".select_input").removeAttr("disabled")})),$("#ssid_turn_off").click((function(){clearPasswordStrength(),$("#check_wpa_psk_02").removeAttr("checked"),$("#check_wpa_psk").removeAttr("checked"),WIFIAUTHMODE_AUTO==g_wlan_basicData[g_editIndex].WifiAuthmode?wlanbasicsettings_showPassword("#check_wpa_psk"):WIFIAUTHMODE_WPA2_PSK!=g_wlan_basicData[g_editIndex].WifiAuthmode&&WIFIAUTHMODE_WPA_WPA2_PSK!=g_wlan_basicData[g_editIndex].WifiAuthmode||wlanbasicsettings_showPassword("#check_wpa_psk_02"),$(".error_message").remove(),g_wlan_basicData[g_editIndex].WifiEnable=$("[name='ssid_status']:checked").val(),showEditData()})),$("#wlan_turn_on").click((function(){for(button_enable("apply_button","1"),t=0;t<g_wifiFeatureSwitch.maxapnum;t++)null!=g_wifiFeatureSwitch&&"1"==g_wifiFeatureSwitch.wifi24g_switch_enable?(g_wlan_basicData[t].wifitotalswitch="1",g_wlan_basicData[t].WifiEnable="1"):g_wlan_basicData[t].WifiEnable="1";g_wlanStatus=!0,-1!=g_editFlag&&showEditData()})),$("#wlan_turn_off").click((function(){for(button_enable("apply_button","1"),clearAllErrorLabel(),clearPasswordStrength(),t=0;t<g_wifiFeatureSwitch.maxapnum;t++)null!=g_wifiFeatureSwitch&&"1"==g_wifiFeatureSwitch.wifi24g_switch_enable?(g_wlan_basicData[t].wifitotalswitch="0",g_wlan_basicData[t].WifiEnable="0"):g_wlan_basicData[t].WifiEnable="0";g_wlanStatus=!1,-1!=g_editFlag&&showEditData()})),$("#color_turn_on").click((function(){$("#color_turn_off").removeAttr("checked"),button_enable("apply_button","1"),clearPasswordStrength(),g_wlan_basicData[g_editIndex].WifiBroadcast="0",$("#color").css("color","black")})),$("#color_turn_off").click((function(){button_enable("apply_button","1"),clearAllErrorLabel(),clearPasswordStrength(),g_wlan_basicData[g_editIndex].WifiBroadcast="1",$("#color").css("color","red")})),$("#ssid_wifiName").keyup((function(){checkInputSsidNameValid($(this).attr("id"),$.trim($(this).val()))})),$("#ssid_wifiName").click((function(){clearPasswordStrength()})),hideList()}));
